"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["marketplace-react"],{57712:(e,a,t)=>{t.d(a,{Z:()=>s});function s(e){let a;let t=null;return{load:()=>(t||(t=e().then(e=>a=e)),t),read(){if(a)return a;throw this.load()}}}},54807:(e,a,t)=>{t.d(a,{BV:()=>r,My:()=>i,QM:()=>n});var s=t(57572);async function r(e,a,t){let r=await (0,s.DI)(a,{method:"POST",body:l(e),signal:t}),n=await r.json();if(!r.ok)throw new GenericServerError("Error creating policy",n.errors);if(!n.asset_upload_url)throw Error("Unexpected error, missing asset upload URL");return n}async function n(e,a,t){let s=await fetch(a.upload_url,{method:"POST",body:l({...a.form,file:e}),signal:t});if(!s.ok)throw Error(await s.text())}async function i(e,a){let t=await (0,s.DI)(e.asset_upload_url,{method:"PUT",signal:a}),r=await t.json();if(!t.ok)throw new GenericServerError("Error completing the upload",r.errors);return r}let GenericServerError=class GenericServerError extends Error{constructor(e,a){super(e),function(e,a,t){a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t}(this,"errors",void 0),this.name="GenericServerError",this.errors=a}};function l(e){let a=new FormData;for(let[t,s]of Object.entries(e))a.append(t,s);return a}},93193:(e,a,t)=>{t.d(a,{Tc:()=>n,fk:()=>s,gT:()=>r,is:()=>i});let s="https://gh.io/models-feedback",r="https://gh.io/models-playground-feedback",n="https://www.microsoft.com/licensing/terms/productoffering/MicrosoftAzure/MCA",i="https://www.microsoft.com/licensing/terms/product/PrivacyandSecurityTerms/MCA"},44822:(e,a,t)=>{var s,r,n=t(74848);function i(e){return(0,n.jsx)(n.Fragment,{children:e.children})}try{i.displayName||(i.displayName="App")}catch{}var l=t(86365),o=t(31655);let d={header:"marketplace-header-module__header--bX0Do",gradient:"marketplace-header-module__gradient--Y11Ao","gradient-left":"marketplace-header-module__gradient-left--lIq82","gradient-right":"marketplace-header-module__gradient-right--i0lrS","image-wrapper":"marketplace-header-module__image-wrapper--OgPqU",copilot:"marketplace-header-module__copilot--V4hwK","header-content":"marketplace-header-module__header-content--PjrKb",arrow:"marketplace-header-module__arrow--dhnRT",donut:"marketplace-header-module__donut--G6bxp",models:"marketplace-header-module__models--NszOy",spin:"marketplace-header-module__spin--chc8R",semicircles:"marketplace-header-module__semicircles--VPC80",sparklelarge:"marketplace-header-module__sparklelarge--lihEH",sparkle:"marketplace-header-module__sparkle--CZPYL",sparklesmall:"marketplace-header-module__sparklesmall--UcJ8_",workflow:"marketplace-header-module__workflow--tKJci","image-container-mobile":"marketplace-header-module__image-container-mobile--eMoTU"};var c=t(22965),m=t(96540),u=t(46928),p=t(57572);function h(e){return RegExp(`${e}:("([^"]+)"|\\S+)\\s?`)}function g(e,a){let t=a.includes(" ")?`"${a}"`:a;return`${e}:${t}`}function y(e,a){if(!e)return;let t=a.map(e=>e.toLowerCase()).indexOf(e.toLowerCase());if(t>=0)return a[t]}function f(e,a){if(!a)return"";if(a.trim().length<1)return a;let t=h(e),s=a,r=s.match(t);for(;r;){let e=r.index;r=(s=s.slice(0,e)+s.slice(e+r[0].length)).match(t)}return s.trim()}function x(e,a,t){for(let s of function(e,a){if(!a)return[];let t=a.filter(a=>Array.isArray(a)&&a[0]===e),s=[];for(let e of t){let[,a]=e;Array.isArray(a)?s=s.concat(a):s.push(a)}return s}(e,a)){let e=y(s,t);if(e)return e}}let j=[{id:"all",name:"All"},{id:"chat-completion",name:"Chat/completion"},{id:"embeddings",name:"Embeddings"}],v=["All","AI21 Labs","Cohere","Core42","DeepSeek","Meta","Mistral AI","Microsoft","OpenAI"],b=[{id:"All",name:"All"},{id:"agents",name:"Agents"},{id:"conversation",name:"Conversation"},{id:"large context",name:"Large context"},{id:"low latency",name:"Low latency"},{id:"multilingual",name:"Multilingual"},{id:"multimodal",name:"Multimodal"},{id:"multipurpose",name:"Multipurpose"},{id:"rag",name:"RAG"},{id:"reasoning",name:"Reasoning"},{id:"understanding",name:"Understanding"}],N={"name-asc":"Alphabetical","created-desc":"Recently added","output-tokens-desc":"Output token limit","input-tokens-desc":"Input token limit",popularity:"Popularity"},_="created-desc",w=(0,m.createContext)(void 0);function S(){let e=(0,m.useContext)(w);if(!e)throw Error("useSearchResults must be used within a SearchResultsProvider");return e}function k({children:e}){let{searchResults:a}=(0,l.B)(),[t,s]=(0,m.useState)(a),r=(0,m.useMemo)(()=>({searchResults:t,setSearchResults:s}),[t,s]);return(0,n.jsx)(w.Provider,{value:r,children:e})}try{w.displayName||(w.displayName="SearchResultsContext")}catch{}try{k.displayName||(k.displayName="SearchResultsProvider")}catch{}let C="popularity-desc",I=(0,m.createContext)(void 0);function A(){let e=(0,m.useContext)(I);if(!e)throw Error("useSort must be used within a SortProvider");return e}function P({children:e}){let[a]=(0,u.o)(),{searchResults:{parsedQuery:t}}=S(),s=(0,m.useMemo)(()=>{let e;let s=a.get("query");if(s){let a=s.match(h("sort"));e=a?a[1]:void 0}if("models"===a.get("type"))return function(e,a){let t=Object.keys(N);return x("sort",a,t)||y(e,t)||_}(e,t);switch(e){case"created-desc":return"created-desc";case"match-desc":return"match-desc";default:return C}},[]),[r,i]=(0,m.useState)(s),l="models"===a.get("type")?_:C,o=(0,m.useCallback)(()=>i(l),[l]),d=(0,m.useMemo)(()=>({sort:r,isDefaultSort:r===l,resetSort:o,setSort:i}),[l,r,o,i]);return(0,n.jsx)(I.Provider,{value:d,children:e})}try{I.displayName||(I.displayName="SortContext")}catch{}try{P.displayName||(P.displayName="SortProvider")}catch{}let T=(0,m.createContext)(void 0);function E(){let e=(0,m.useContext)(T);if(!e)throw Error("useFeaturedListings must be used within a FeaturedListingsProvider");return e}function M({children:e}){let{featured:a}=(0,l.B)(),[t,s]=(0,m.useState)(a),r=(0,m.useMemo)(()=>({featured:t,setFeatured:s}),[t,s]);return(0,n.jsx)(T.Provider,{value:r,children:e})}try{T.displayName||(T.displayName="FeaturedListingsContext")}catch{}try{M.displayName||(M.displayName="FeaturedListingsProvider")}catch{}let R=(0,m.createContext)(void 0);function L(){let e=(0,m.useContext)(R);if(!e)throw Error("useRecommendedListings must be used within a RecommendedListingsProvider");return e}function O({children:e}){let{recommended:a}=(0,l.B)(),[t,s]=(0,m.useState)(a),r=(0,m.useMemo)(()=>({recommended:t,setRecommended:s}),[t,s]);return(0,n.jsx)(R.Provider,{value:r,children:e})}try{R.displayName||(R.displayName="RecommendedListingsContext")}catch{}try{O.displayName||(O.displayName="RecommendedListingsProvider")}catch{}let D=(0,m.createContext)(void 0);function F(){let e=(0,m.useContext)(D);if(!e)throw Error("useRecentlyAddedListings must be used within a RecentlyAddedListingsProvider");return e}function B({children:e}){let{recentlyAdded:a}=(0,l.B)(),[t,s]=(0,m.useState)(a),r=(0,m.useMemo)(()=>({recentlyAdded:t,setRecentlyAdded:s}),[t,s]);return(0,n.jsx)(D.Provider,{value:r,children:e})}try{D.displayName||(D.displayName="RecentlyAddedListingsContext")}catch{}try{B.displayName||(B.displayName="RecentlyAddedListingsProvider")}catch{}let $=(0,m.createContext)(void 0);function U(){let e=(0,m.useContext)($);if(!e)throw Error("useCreators must be used within a CreatorsProvider");return e}function G({children:e}){let[a]=(0,u.o)(),t=(0,m.useMemo)(()=>a.has("verification")&&"verified_creator"===a.get("verification")?"Verified creators":"All creators",[]),[s,r]=(0,m.useState)(t),i=(0,m.useMemo)(()=>({creators:s,setCreators:r}),[s,r]);return(0,n.jsx)($.Provider,{value:i,children:e})}try{$.displayName||($.displayName="CreatorsContext")}catch{}try{G.displayName||(G.displayName="CreatorsProvider")}catch{}let z=(0,m.createContext)(void 0);function V(){let e=(0,m.useContext)(z);if(!e)throw Error("useCategory must be used within a CategoryProvider");return e}function H({children:e}){let[a]=(0,u.o)(),{searchResults:t}=S(),s=(0,m.useMemo)(()=>"models"===a.get("type")?function(e,a){let t=b.map(e=>e.id);return t.includes(e.get("category")||"")?e.get("category"):x("category",a,t)||null}(a,t.parsedQuery):a.has("type")?a.get("category"):null,[]),[r,i]=(0,m.useState)(s),l=(0,m.useMemo)(()=>({category:r,setCategory:i}),[r,i]);return(0,n.jsx)(z.Provider,{value:l,children:e})}try{z.displayName||(z.displayName="CategoryContext")}catch{}try{H.displayName||(H.displayName="CategoryProvider")}catch{}let W=(0,m.createContext)(void 0);function q(){let e=(0,m.useContext)(W);if(!e)throw Error("useSearchType must be used within a SearchTypeProvider");return e}function K({children:e}){let[a]=(0,u.o)(),[t,s]=(0,m.useState)(()=>a.get("type")),r=(0,m.useMemo)(()=>({type:t,setType:s}),[t,s]);return(0,n.jsx)(W.Provider,{value:r,children:e})}try{W.displayName||(W.displayName="SearchTypeContext")}catch{}try{K.displayName||(K.displayName="SearchTypeProvider")}catch{}let Q=(0,m.createContext)(void 0);function Y(){let e=(0,m.useContext)(Q);if(!e)throw Error("useCopilotApp must be used within a CopilotAppProvider");return e}function J({children:e}){let[a]=(0,u.o)(),[t,s]=(0,m.useState)(()=>a.get("copilot_app")),r=(0,m.useMemo)(()=>({copilotApp:t,setCopilotApp:s}),[t,s]);return(0,n.jsx)(Q.Provider,{value:r,children:e})}try{Q.displayName||(Q.displayName="CopilotAppContext")}catch{}try{J.displayName||(J.displayName="CopilotAppProvider")}catch{}let X=(0,m.createContext)(void 0);function Z(){let e=(0,m.useContext)(X);if(!e)throw Error("useModelsTask must be used within a ModelsTaskProvider");return e}function ee({children:e}){let[a]=(0,u.o)(),{searchResults:t}=S(),s=(0,m.useMemo)(()=>"models"===a.get("type")?function(e,a){let t=e.get("task")||"",s=j.map(({id:e})=>e);return s.includes(t.toLowerCase())?t:x("task",a,s)??"all"}(a,t.parsedQuery):null,[]),[r,i]=(0,m.useState)(s),l=(0,m.useMemo)(()=>({task:r,setTask:i}),[r,i]);return(0,n.jsx)(X.Provider,{value:l,children:e})}try{X.displayName||(X.displayName="ModelsTaskContext")}catch{}try{ee.displayName||(ee.displayName="ModelsTaskProvider")}catch{}let ea=(0,m.createContext)(void 0);function et(){let e=(0,m.useContext)(ea);if(!e)throw Error("useModelsPublisher must be used within a ModelsPublisherProvider");return e}function es({children:e}){let[a]=(0,u.o)(),{searchResults:t}=S(),s=(0,m.useMemo)(()=>"models"===a.get("type")?function(e,a){let t=e.get("publisher")||"";return v.includes(t)?t:x("publisher",a,v)??"All"}(a,t.parsedQuery):null,[]),[r,i]=(0,m.useState)(s),l=(0,m.useMemo)(()=>({publisher:r,setPublisher:i}),[r,i]);return(0,n.jsx)(ea.Provider,{value:l,children:e})}try{ea.displayName||(ea.displayName="ModelsPublisherContext")}catch{}try{es.displayName||(es.displayName="ModelsPublisherProvider")}catch{}let er=(0,m.createContext)(void 0);function en(){let e=(0,m.useContext)(er);if(!e)throw Error("usePage must be used within a PageProvider");return e}function ei({children:e}){let[a]=(0,u.o)(),t=(0,m.useMemo)(()=>a.has("page")?Number(a.get("page")):1,[]),[s,r]=(0,m.useState)(t),i=(0,m.useMemo)(()=>({page:s,setPage:r}),[s,r]);return(0,n.jsx)(er.Provider,{value:i,children:e})}try{er.displayName||(er.displayName="PageContext")}catch{}try{ei.displayName||(ei.displayName="PageProvider")}catch{}let el={all:"All",free_trial:"Free trial"},eo=(0,m.createContext)({loading:!1,query:"",legacyOnQueryChange:()=>void 0,onQueryChange:()=>void 0,filter:el.all,setFilter:()=>void 0,isSearching:!1});function ed(){return(0,m.useContext)(eo)}function ec({children:e}){let a=(0,m.useRef)(!0),{setFeatured:t}=E(),{setRecommended:s}=L(),{setRecentlyAdded:r}=F(),{searchResults:i,setSearchResults:l}=S(),{resetSort:o,sort:d,isDefaultSort:c}=A(),{creators:h,setCreators:g}=U(),[y,f]=(0,m.useState)(!1),[_]=(0,u.o)(),w=(0,m.useMemo)(()=>{let e=_.get("query");return e?e.replace(/sort:([^ ]*)/,"").trim():""},[_]),[k,C]=(0,m.useState)(w||""),{page:I,setPage:P}=en(),T=(0,m.useMemo)(()=>_.has("filter")&&"free_trial"===_.get("filter")?el.free_trial:el.all,[]),[M,R]=(0,m.useState)(T),{type:O,setType:D}=q(),{category:B,setCategory:$}=V(),{task:G,setTask:z}=Z(),{publisher:H,setPublisher:W}=et(),{copilotApp:K,setCopilotApp:Q}=Y(),J=(0,m.useCallback)(()=>{z("all"),W("All")},[W,z]),X=(0,m.useCallback)(e=>{P(1),R(el.all),g("All creators"),"models"===O?J():D(null),o(),$(null),Q(null),C(e.trim())},[J,o,$,Q,g,P,D,O]),ee=(0,m.useCallback)((e,a)=>{P(1),R(el.all),g("All creators"),"models"===a&&J(),o(),C(e.trim())},[J,o,g,P]),ea=(0,m.useMemo)(()=>!!(k||B||O||K),[B,K,k,O]),[es,er]=(0,m.useState)(ea),ei=function(){let{type:e}=q(),a=function(){let{setCategory:e}=V(),{setTask:a}=Z(),{setPublisher:t}=et(),{setSort:s}=A();return(0,m.useCallback)(r=>{let n=x("category",r,b.map(e=>e.id));n&&e(n);let i=x("task",r,j.map(e=>e.id));i&&a(i);let l=x("publisher",r,v);l&&t(l);let o=x("sort",r,Object.keys(N));o&&s(o)},[e,t,s,a])}();return(0,m.useCallback)(t=>{"models"===e&&a(t)},[a,e])}(),ed=i.parsedQuery?JSON.stringify(i.parsedQuery):"",ec=(0,m.useCallback)(async e=>{let a;f(!0);let n=await (0,p.lS)(e),i=await n.json();if(ea)a=i.parsedQuery,l(i);else{t(i.featured),s(i.recommended),r(i.recentlyAdded);let e=i.searchResults??i.results;a=e?.parsedQuery,l(e)}a&&ed!==JSON.stringify(a)&&ei(a),er(ea),f(!1)},[ed,ei,t,r,s,l,ea]);(0,m.useEffect)(()=>{if(a.current){a.current=!1;return}let e=new URLSearchParams;(k||!c)&&(c?e.set("query",k):e.set("query",`${k} sort:${d}`.trim())),M===el.free_trial&&e.set("filter","free_trial"),"Verified creators"===h&&e.set("verification","verified_creator"),1!==I&&e.set("page",I.toString()),B&&e.set("category",B),H&&"All"!==H&&e.set("publisher",H),G&&"all"!==G&&e.set("task",G),O&&e.set("type",O),K&&e.set("copilot_app",K);let t=e.toString()?`/marketplace?${e.toString()}`:"/marketplace";window.history.replaceState({},"",t),ec(t)},[ec,c,k,M,h,d,I,B,O,H,G,K]);let em=(0,m.useMemo)(()=>({loading:y,query:k,legacyOnQueryChange:X,onQueryChange:ee,filter:M,setFilter:R,task:G,setTask:z,publisher:H,setPublisher:W,type:O,setType:D,isSearching:es}),[y,k,X,ee,M,R,G,z,H,W,O,D,es]);return(0,n.jsx)(eo.Provider,{value:em,children:e})}try{eo.displayName||(eo.displayName="FilterContext")}catch{}try{ec.displayName||(ec.displayName="FilterProvider")}catch{}var em=t(46584),eu=t(78601);let ep={"search-input":"marketplace-search-field-module__search-input--mIBsT"};var eh=t(28107),eg=t(38621);let ey=new eh.uy({key:"type",displayName:"Listing Type",icon:eg.AppsIcon,priority:1,description:"Filter by listing type"},[{value:"copilot",description:"Copilot extensions only",priority:1,icon:eg.CopilotIcon,displayName:"Copilot extensions"},{value:"models",description:"Models only",priority:2,icon:eg.AiModelIcon,displayName:"Models"},{value:"apps",description:"Apps only",priority:3,icon:eg.AppsIcon,displayName:"Apps"},{value:"actions",description:"Actions only",priority:4,icon:eg.PlayIcon,displayName:"Actions"}],{filterTypes:{exclusive:!1,multiValue:!1,multiKey:!1,valueless:!1}});function ef(e){return new eh.uy({key:"category",displayName:"Category",icon:eg.TagIcon,priority:1,description:"Filter by category or tag",aliases:["tag"]},e.map((e,a)=>({value:e.slug,displayName:e.name,priority:a+1})),{filterTypes:{exclusive:!1,multiKey:!1,multiValue:!1,valueless:!1}})}let ex=new eh.uy({key:"category",displayName:"Category",priority:1,icon:eg.TagIcon,description:"Filter by category or tag",aliases:["tag"]},b.filter(e=>"All"!==e.id).map(({id:e,name:a},t)=>({value:e,displayName:a,priority:t+1})),{filterTypes:{exclusive:!1,multiKey:!1}}),ej=new eh.uy({key:"publisher",displayName:"Publisher",priority:1,icon:eg.CpuIcon,description:"Filter by publisher",aliases:[]},v.filter(e=>"All"!==e).map((e,a)=>({value:e,displayName:e,priority:a+1})),{filterTypes:{exclusive:!1,multiValue:!1}}),ev=new eh.uy({key:"input-modality",displayName:"Input modality",priority:1,icon:eg.InboxIcon,description:"Filter by supported input modality",aliases:[]},["audio","image","text"].map((e,a)=>({value:e,displayName:e,priority:a+1})),{filterTypes:{exclusive:!1}}),eb=new eh.uy({key:"language",displayName:"Supported language",priority:1,icon:eg.TypographyIcon,description:"Filter by supported language",aliases:[]},[{id:"af",name:"Afrikaans"},{id:"ar",name:"Arabic"},{id:"bn",name:"Bengali"},{id:"zh",name:"Chinese"},{id:"zh-cn",name:"Chinese (Simplified)"},{id:"cs",name:"Czech"},{id:"da",name:"Danish"},{id:"nl",name:"Dutch"},{id:"en",name:"English"},{id:"eo",name:"Esperanto"},{id:"et",name:"Estonian"},{id:"fi",name:"Finnish"},{id:"fr",name:"French"},{id:"de",name:"German"},{id:"el",name:"Greek"},{id:"gu",name:"Gujarati"},{id:"ha",name:"Hausa"},{id:"he",name:"Hebrew"},{id:"hi",name:"Hindi"},{id:"hu",name:"Hungarian"},{id:"is",name:"Icelandic"},{id:"id",name:"Indonesian"},{id:"it",name:"Italian"},{id:"ja",name:"Japanese"},{id:"jv",name:"Javanese"},{id:"kn",name:"Kannada"},{id:"ko",name:"Korean"},{id:"lv",name:"Latvian"},{id:"ml",name:"Malayalam"},{id:"mr",name:"Marathi"},{id:"ne",name:"Nepali"},{id:"no",name:"Norwegian"},{id:"or",name:"Odia"},{id:"ps",name:"Pashto"},{id:"fa",name:"Persian"},{id:"pl",name:"Polish"},{id:"pt-br",name:"Portuguese (Brazil)"},{id:"pt",name:"Portuguese"},{id:"pa",name:"Punjabi"},{id:"ro",name:"Romanian"},{id:"ru",name:"Russian"},{id:"es",name:"Spanish"},{id:"sw",name:"Swahili"},{id:"sv",name:"Swedish"},{id:"tl",name:"Tagalog"},{id:"ta",name:"Tamil"},{id:"te",name:"Telugu"},{id:"th",name:"Thai"},{id:"tr",name:"Turkish"},{id:"uk",name:"Ukrainian"},{id:"ur",name:"Urdu"},{id:"vi",name:"Vietnamese"},{id:"cy",name:"Welsh"},{id:"yo",name:"Yoruba"}].map(({id:e,name:a},t)=>({value:e,displayName:a,priority:t+1})),{filterTypes:{exclusive:!1}}),eN=new eh.uy({key:"license",displayName:"License",priority:1,icon:eg.LawIcon,description:"Filter by license type",aliases:[]},[{id:"custom",name:"Custom"},{id:"mit",name:"MIT"}].map(({id:e,name:a},t)=>({value:e,displayName:a,priority:t+1})),{filterTypes:{exclusive:!1,multiValue:!1}}),e_=new eh.uy({key:"output-modality",displayName:"Output modality",priority:1,icon:eg.SignOutIcon,description:"Filter by supported output modality",aliases:[]},["embeddings","text"].map((e,a)=>({value:e,displayName:e,priority:a+1})),{filterTypes:{exclusive:!1}}),ew=new eh.uy({key:"task",displayName:"Capability",priority:1,icon:eg.RocketIcon,description:"Filter by model capability",aliases:[]},j.filter(e=>"all"!==e.id).map(({id:e,name:a},t)=>({value:e,priority:t+1,displayName:a})),{filterTypes:{exclusive:!1,multiValue:!1}}),eS=[ey],ek=[ex,ej,ev,eb,eN,e_,ew];function eC(){let{query:e,onQueryChange:a}=ed(),{copilotApp:t,setCopilotApp:s}=Y(),{type:r,setType:i}=q(),{category:o,setCategory:d}=V(),c=(0,m.useMemo)(()=>(function(e,a,t,s){let r=a?"copilot":e,n=[];r&&n.push(g("type",r)),s&&n.push(g("category",s));let i=t?.split(" ").pop();return i&&i.includes(":")&&(t+=" "),`${n.join(" ")} ${t??""}`.trimStart()})(r,t,e,o),[e,r,t,o]),u=(0,em.u)("github_models_search_filters"),[p,y]=(0,m.useState)(c),x=function(){let{categories:{apps:e}}=(0,l.B)();return[(0,m.useMemo)(()=>ef(e),[e])]}(),j=function(){let{categories:{actions:e}}=(0,l.B)();return[(0,m.useMemo)(()=>ef(e),[e])]}(),v=(0,m.useMemo)(()=>{let e=[...eS];switch(r){case"actions":e=e.concat(j);break;case"apps":e=e.concat(x);break;case"models":u&&(e=e.concat(ek))}return e},[u,r,x,j]),b=(0,m.useCallback)(e=>{let{type:t,copilotApp:r,query:n,category:l}=function(e){let a=e.match(h("type")),t={type:a?.[1]||null,copilotApp:null,query:e,category:null};if(t.type){t.query=f("type",t.query);let a=e.match(h("category"));"copilot"===t.type?(t.copilotApp="true",t.type="apps"):a&&(t.category=a[1]||null,t.query=f("category",t.query))}return t}(e);i(t),s(r),d(l),a(n||"",t)},[a,i,s,d]),N=(0,m.useCallback)(e=>{y(e)},[y]),_=(0,m.useCallback)(e=>{b(e.raw)},[b]);return(0,n.jsx)(eu.dJ,{id:"marketplace-search-filter","data-testid":"marketplace-search-filter",providers:v,label:"Search Marketplace",variant:"input",filterValue:p,placeholder:"Search for Copilot extensions, apps, actions, and models",className:`${ep["search-input"]}`,settings:{disableAdvancedTextFilter:!0,groupAndKeywordSupport:!1},onChange:N,onSubmit:_})}try{eC.displayName||(eC.displayName="MarketplaceSearchField")}catch{}var eI=t(67138),eA=t(63867),eP=t(70170);function eT(){let{query:e,legacyOnQueryChange:a,loading:t}=ed(),{type:s}=q(),[r,i]=(0,m.useState)(e),l=(0,m.useCallback)((0,eP.s)(e=>{a(e)},400),[a]),o=(0,m.useCallback)(e=>{i(e.target.value),l(e.target.value)},[l]),d=(0,m.useCallback)(e=>{e.preventDefault();let a=new URLSearchParams;a.set("query",r),s&&a.set("type",s),location.replace(`/marketplace?${a.toString()}`)},[r,s]);return(0,n.jsx)("form",{onSubmit:d,children:(0,n.jsx)(eI.A,{block:!0,size:"large",leadingVisual:t?(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsx)(eA.A,{size:"small"})}):eg.SearchIcon,"aria-label":"Search Marketplace",placeholder:"Search for Copilot extensions, apps, actions, and models",className:`width-full ${ep["search-input"]}`,value:r,onChange:o,"data-testid":"search-input"})})}try{eT.displayName||(eT.displayName="MarketplaceSearchField")}catch{}function eE(){let e=(0,c.A)(),a=(0,em.u)("marketplace_search_improvements"),t=(0,m.useMemo)(()=>"night"===e.colorMode?"dark":"light",[e]);return(0,n.jsxs)("header",{className:`mb-2 border-bottom borderColor-default d-flex flex-items-start py-5 py-lg-4 position-relative ${d.header}`,children:[(0,n.jsxs)("div",{className:"position-absolute top-0 left-0 right-0 bottom-0 overflow-hidden",children:[(0,n.jsx)("div",{className:`${d.gradient} ${d["gradient-left"]}`}),(0,n.jsx)("div",{className:`${d.gradient} ${d["gradient-right"]}`}),(0,n.jsx)("div",{className:`${d["image-container-mobile"]} md-container-xl position-relative height-full`,children:["arrow","donut","semicircles","workflow"].map(e=>(0,n.jsx)("img",{src:`/images/modules/marketplace/header/${t}/${e}.png`,srcSet:`/images/modules/marketplace/header/${t}/${e}@2x.png 2x`,className:`position-absolute ${d[e]}`,alt:""},e))})]}),(0,n.jsxs)("div",{className:"container-xl m-auto width-full d-flex flex-items-center flex-column flex-lg-row-reverse flex-justify-between gap-4 px-3 pl-lg-4 pr-lg-5 pl-xl-3",children:[(0,n.jsxs)("div",{className:`position-relative mb-4 mb-lg-0 user-select-none ${d["image-wrapper"]}`,children:[["models","sparklesmall","sparklelarge"].map(e=>(0,n.jsx)("img",{src:`/images/modules/marketplace/header/${t}/${e}.png`,srcSet:`/images/modules/marketplace/header/${t}/${e}@2x.png 2x`,className:`position-absolute ${d[e]}`,alt:""},e)),(0,n.jsx)("img",{src:`/images/modules/marketplace/header/${t}/copilot.png`,srcSet:`/images/modules/marketplace/header/${t}/copilot@2x.png 2x`,className:`m-lg-4 ${d.copilot}`,alt:""})]}),(0,n.jsxs)("div",{className:`text-center text-lg-left ${d["header-content"]}`,children:[(0,n.jsx)("h1",{className:"lh-condensed text-wrap-balance",children:"Enhance your workflow with extensions"}),(0,n.jsx)("p",{className:"fgColor-muted f3",children:"Tools from the community and partners to simplify tasks and automate processes"}),a?(0,n.jsx)(eC,{}):(0,n.jsx)(eT,{})]})]})]})}try{eE.displayName||(eE.displayName="MarketplaceHeader")}catch{}let eM={"negative-margin":"marketplace-navigation-module__negative-margin--JLtA1"};var eR=t(19509),eL=t(55847),eO=t(91246);function eD({categories:e}){let{copilotApp:a}=Y(),{type:t}=q(),{category:s}=V(),r=(0,m.useMemo)(()=>t||s||a?"apps"===t&&"true"===a?"copilot":s&&s||"":"featured",[s,a,t]),i=(0,m.useMemo)(()=>{if(t&&!a){if("apps"===t)return"apps";if("actions"===t)return"actions";if("models"===t)return"models"}return""},[a,t]);return(0,n.jsxs)(eR.c,{children:[(0,n.jsxs)(eR.c.Item,{href:"/marketplace",..."featured"===r?{"aria-current":"page"}:{},children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.FlameIcon,{})}),"Featured"]}),(0,n.jsxs)(eR.c.Item,{href:"/marketplace?type=apps&copilot_app=true",..."copilot"===r?{"aria-current":"page"}:{},children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.CopilotIcon,{})}),"Copilot"]}),(0,n.jsxs)(eR.c.Item,{defaultOpen:"models"===i,children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.AiModelIcon,{})}),"Models",(0,n.jsxs)(eR.c.SubNav,{children:[(0,n.jsxs)(eR.c.Item,{href:"/marketplace?type=models",..."models"===i?{"aria-current":"page"}:{},children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.ListUnorderedIcon,{})}),"Catalog"]}),(0,n.jsxs)(eR.c.Item,{href:"/marketplace/models",children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.CommandPaletteIcon,{})}),"Playground",(0,n.jsx)(eR.c.TrailingVisual,{children:(0,n.jsx)(eg.ArrowUpRightIcon,{})})]})]})]}),(0,n.jsxs)(eR.c.Item,{defaultOpen:"apps"===i,children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.AppsIcon,{})}),"Apps",(0,n.jsxs)(eR.c.SubNav,{children:[(0,n.jsx)(eR.c.Item,{href:"/marketplace?type=apps",..."apps"===i&&""===r?{"aria-current":"page"}:{},children:"All apps"}),e?.apps?.map(e=>n.jsx(eR.c.Item,{href:`/marketplace?type=apps&category=${e.slug}`,..."apps"===i&&r===e.slug?{"aria-current":"page"}:{},children:e.name},`apps-category-${e.slug}`))]})]}),(0,n.jsxs)(eR.c.Item,{defaultOpen:"actions"===i,children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.PlayIcon,{})}),"Actions",(0,n.jsxs)(eR.c.SubNav,{children:[(0,n.jsx)(eR.c.Item,{href:"/marketplace?type=actions",..."actions"===i&&""===r?{"aria-current":"page"}:{},children:"All actions"}),e?.actions?.map(e=>n.jsx(eR.c.Item,{href:`/marketplace?type=actions&category=${e.slug}`,..."actions"===i&&r===e.slug?{"aria-current":"page"}:{},children:e.name},`actions-category-${e.slug}`))]})]}),(0,n.jsx)(eR.c.Divider,{}),(0,n.jsxs)(eR.c.Item,{href:"/marketplace/new",children:[(0,n.jsx)(eR.c.LeadingVisual,{children:(0,n.jsx)(eg.PlusIcon,{})}),"Create a new extension"]})]})}function eF({categories:e}){let[a,t]=(0,m.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"hide-sm hide-md overflow-hidden",children:(0,n.jsx)(eD,{categories:e})}),(0,n.jsx)(eL.Q,{block:!0,className:"hide-lg hide-xl",onClick:()=>t(!0),children:"Menu"}),a&&(0,n.jsx)(eO.l,{title:"Menu",onClose:()=>t(!1),position:{narrow:"bottom"},children:(0,n.jsx)("div",{className:eM["negative-margin"],children:(0,n.jsx)(eD,{categories:e})})})]})}try{eD.displayName||(eD.displayName="Menu")}catch{}try{eF.displayName||(eF.displayName="MarketplaceNavigation")}catch{}function eB({children:e}){return(0,n.jsx)(k,{children:(0,n.jsx)(P,{children:(0,n.jsx)(M,{children:(0,n.jsx)(O,{children:(0,n.jsx)(B,{children:(0,n.jsx)(G,{children:(0,n.jsx)(H,{children:(0,n.jsx)(K,{children:(0,n.jsx)(J,{children:(0,n.jsx)(ee,{children:(0,n.jsx)(es,{children:(0,n.jsx)(ei,{children:(0,n.jsx)(ec,{children:e})})})})})})})})})})})})})}try{eB.displayName||(eB.displayName="SearchAndFilterProviderStack")}catch{}let e$={"marketplace-list-grid":"marketplace-common-module__marketplace-list-grid--vCk7D","marketplace-item":"marketplace-common-module__marketplace-item--MohVH","marketplace-item-link":"marketplace-common-module__marketplace-item-link--jrIHf","marketplace-logo":"marketplace-common-module__marketplace-logo--XjSLH","marketplace-model-avatar-icon":"marketplace-common-module__marketplace-model-avatar-icon--UDJh8","marketplace-logo--jamba-div":"marketplace-common-module__marketplace-logo--jamba-div--srSOa","marketplace-logo--jamba-logo":"marketplace-common-module__marketplace-logo--jamba-logo--Oy_t0","marketplace-logo--dialog":"marketplace-common-module__marketplace-logo--dialog--EG15Z","marketplace-logo-img":"marketplace-common-module__marketplace-logo-img--bRTNY","marketplace-logo-svg":"marketplace-common-module__marketplace-logo-svg--UdXTC","marketplace-featured-grid":"marketplace-common-module__marketplace-featured-grid--VNFT9"},eU={UnderlineNavContainer:"IndexAndSearchContent-module__UnderlineNavContainer--MiAES"};var eG=t(84217),ez=t(5420),eV=t(47139),eH=t(46988),eW=t(47767),eq=t(44968),eK=t(43923);function eQ(e){let{listing:a,additionalDivClasses:t="",additionalLogoClasses:s=""}=e,r="ffffff";return"marketplace_listing"===a.type?r=a.bgColor:"repository_action"===a.type?r=a.color:"model"===a.type&&(r=""),(0,n.jsx)("div",{"data-testid":"logo",className:`flex-shrink-0 rounded-3 overflow-hidden ${e$["marketplace-logo"]} ${t}`,style:{backgroundColor:`#${r}`,color:"ffffff"===r?"var(--fgColor-black)":"var(--fgColor-white)"},children:"marketplace_listing"===a.type?(0,n.jsx)("img",{src:a.listingLogoUrl,alt:`${a.name} logo`,className:`${e$["marketplace-logo-img"]} ${s}`}):"model"===a.type?(0,n.jsx)(eK.K,{logoUrl:a.logo_url,darkModeIcon:a.dark_mode_icon,publisher:a.publisher,size:24,className:`${e$["marketplace-model-avatar-icon"]} box-shadow-none ${s}`}):a.iconSvg?(0,n.jsx)(eq.oG,{html:a.iconSvg,className:`${e$["marketplace-logo-svg"]} ${s}`}):(0,n.jsx)(eg.PlayIcon,{className:`${e$["marketplace-logo-svg"]} ${s}`})})}try{eQ.displayName||(eQ.displayName="ListingLogo")}catch{}let eY={VerifiedIcon:"MarketplaceItem-module__VerifiedIcon--Q9gte",Label:"MarketplaceItem-module__Label--PE0OA"};function eJ(e){let{listing:a,isFeatured:t}=e,s=null,r="",i=!1,l="",o="";"marketplace_listing"===a.type?(s=a.shortDescription,r=`/marketplace/${a.slug}`,i=a.isVerifiedOwner):"repository_action"===a.type?(s=a.description,r=`/marketplace/actions/${a.slug}`,i=a.isVerifiedOwner):"model"===a.type&&(s=a.summary,r=a.model_url,i=!1,"AI21 Labs"===a.publisher&&(l=e$["marketplace-logo--jamba-div"]||"",o=e$["marketplace-logo--jamba-logo"]||""));let d=(0,m.useMemo)(()=>"repository_action"===a.type?"Action":"model"===a.type?"Model":a.copilotApp?"Copilot":"App",[a]),c=(0,eW.zy)(),u=()=>{"marketplace_listing"===a.type&&(0,eH.BI)("marketplace_listing_click",{marketplace_listing_id:a.id,source_url:c.pathname,destination_url:r})};return(0,n.jsxs)("div",{className:`position-relative border rounded-2 d-flex ${e$["marketplace-item"]} ${t?"flex-column flex-items-center p-4":"gap-3 p-3"}`,"data-testid":"marketplace-item",children:[(0,n.jsx)(eQ,{listing:a,additionalDivClasses:l,additionalLogoClasses:o}),t?(0,n.jsxs)("div",{className:"d-flex flex-column flex-items-center height-full width-full text-center","data-testid":"featured-item",children:[(0,n.jsxs)(eG.A,{as:"h3",className:"mt-3 d-flex f4 lh-condensed",children:[(0,n.jsx)("a",{href:r,className:`fgColor-default line-clamp-1 ${e$["marketplace-item-link"]}`,onClick:u,children:"model"===a.type?a.friendly_name:a.name}),i&&(0,n.jsx)(eg.VerifiedIcon,{className:eY.VerifiedIcon})]}),(0,n.jsx)("p",{className:"mt-2 mb-auto height-full text-small fgColor-muted line-clamp-2",children:s}),(0,n.jsx)(eV.A,{variant:"secondary",size:"large","data-testid":"listing-type-label",className:eY.Label,children:d})]}):(0,n.jsxs)("div",{className:"flex-1","data-testid":"non-featured-item",style:{minWidth:0},children:[(0,n.jsxs)("div",{className:"d-flex flex-justify-between flex-items-start gap-3",children:[(0,n.jsxs)(eG.A,{as:"h3",className:"d-flex f4 lh-condensed",children:[(0,n.jsx)("a",{href:r,className:`${e$["marketplace-item-link"]} line-clamp-1`,onClick:u,children:"model"===a.type?a.friendly_name:a.name}),i&&(0,n.jsx)(eg.VerifiedIcon,{className:eY.VerifiedIcon})]}),(0,n.jsx)(eV.A,{variant:"secondary","data-testid":"listing-type-label",children:d})]}),(0,n.jsx)("p",{className:"mt-1 mb-0 text-small fgColor-muted line-clamp-2",children:s})]})]})}try{eJ.displayName||(eJ.displayName="FeaturedItem")}catch{}let eX={"marketplace-list-grid-one":"marketplace-module__marketplace-list-grid-one--GHOQw","marketplace-logo-wrapper":"marketplace-module__marketplace-logo-wrapper--jRUTc","marketplace-logo__verified-icon-wrapper":"marketplace-module__marketplace-logo__verified-icon-wrapper--z8YI4","marketplace-banner-container":"marketplace-module__marketplace-banner-container--SN5fW","marketplace-version-icon":"marketplace-module__marketplace-version-icon--g6_Fo","copyable-code-snippet":"marketplace-module__copyable-code-snippet--gQfOQ","starred-button-icon":"marketplace-module__starred-button-icon--_B3Tm","marketplace-cta-buttons-container":"marketplace-module__marketplace-cta-buttons-container--ejg49","marketplace-content-container":"marketplace-module__marketplace-content-container--hOSBf","marketplace-content-container--less-padding":"marketplace-module__marketplace-content-container--less-padding--Tn62b","marketplace-content-container--no-padding":"marketplace-module__marketplace-content-container--no-padding--r1JrR","marketplace-content-container__content":"marketplace-module__marketplace-content-container__content--HM9Ao",ButtonGroup:"marketplace-module__ButtonGroup--P2hj7","marketplace-sidebar__pane":"marketplace-module__marketplace-sidebar__pane--BoO2b","marketplace-sidebar__content-wrapper":"marketplace-module__marketplace-sidebar__content-wrapper--nwncI","marketplace-revealer":"marketplace-module__marketplace-revealer--WCizO"};var eZ=t(49211),e0=t(24664),e1=t(89323),e2=t(8338),e3=t(26522);function e4(){let e=(0,em.u)("github_models_popularity_sort"),{sort:a,setSort:t}=A();return(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Sort: "}),N[a]??a]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single","data-testid":"creator-menu",children:Object.entries(N).filter(([a])=>"popularity"!==a||e).map(([e,s])=>(0,n.jsx)(e2.l.Item,{selected:e===a,onSelect:()=>t(e),children:s},e))})})]})}try{e4.displayName||(e4.displayName="ModelsSortMenu")}catch{}var e5=t(53949);function e6(){let{publisher:e,setPublisher:a}=et(),{task:t,setTask:s}=Z(),{category:r,setCategory:i}=V(),{setPage:l}=en(),o=e=>{l(1),s(e)},d=e=>{l(1),a(e)},c=e=>{l(1),i(e)},m=b.find(e=>e.id===r)?.name;return(0,n.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{...(0,e5.G)("family-button"),children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Publisher:"})," ",(0,e3.D)(e||"")]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:v.map(a=>(0,n.jsx)(e2.l.Item,{selected:a===e,onSelect:()=>d(a),children:(0,e3.D)(a)},a))})})]}),(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{"data-testid":"task-button",children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Capability:"})," ",function(e){let a=e?.toLowerCase()??"all",t=j.find(e=>e.id===a);return t?.name??e}(t)]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:j.map(({id:e,name:a})=>(0,n.jsx)(e2.l.Item,{selected:e===t,onSelect:()=>o(e),children:a},e))})})]}),(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{"data-testid":"category-button",children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Category:"})," ",m||"All"]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:b.map(e=>(0,n.jsx)(e2.l.Item,{selected:e.id===r||"All"===e.id&&!r,onSelect:()=>c(e.id),children:e.name},e.id))})})]}),(0,n.jsx)(e4,{})]})}try{e6.displayName||(e6.displayName="ModelsFilters")}catch{}function e8(){let{filter:e,setFilter:a}=ed(),{setPage:t}=en(),{type:s}=q(),{creators:r,setCreators:i}=U(),{sort:l,setSort:o}=A(),d=(0,m.useMemo)(()=>({"popularity-desc":"Popularity","created-desc":"Recently added","match-desc":"Best match"}),[]),c=(0,m.useMemo)(()=>{switch(l){case"popularity-desc":return d["popularity-desc"];case"created-desc":return d["created-desc"];case"match-desc":return d["match-desc"];default:return""}},[l,d]),u=e=>{t(1),i(e)},p=e=>{t(1),a(e)},h=e=>{o(e)};return"models"===s?(0,n.jsx)(e6,{}):(0,n.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{"data-testid":"filter-button",children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Filter:"})," ",e]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single","data-testid":"filter-menu",children:Object.entries({all:"All",free_trial:"Free trial"}).map(([a,t])=>(0,n.jsx)(e2.l.Item,{selected:t===e,onSelect:()=>p(t),children:t},a))})})]}),(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{"data-testid":"creator-button",children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"By:"})," ",r]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single","data-testid":"creator-menu",children:["All creators","Verified creators"].map(e=>(0,n.jsx)(e2.l.Item,{selected:e===r,onSelect:()=>u(e),children:e},e))})})]}),(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{"data-testid":"sort-button",children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Sort:"})," ",c]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single","data-testid":"sort-menu",children:Object.entries(d).map(([e,a])=>(0,n.jsx)(e2.l.Item,{selected:e===l,onSelect:()=>h(e),children:a},e))})})]})]})}try{e8.displayName||(e8.displayName="Filters")}catch{}var e7=t(34614),e9=t(77731),ae=t(75632);let aa="https://gh.io/models-feedback";function at(){let e=(0,ae.G7)("lifecycle_label_name_updates"),{query:a}=ed(),{searchResults:t}=S();return(0,n.jsxs)("div",{className:"d-flex flex-column flex-sm-row flex-justify-between flex-wrap gap-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"f2 lh-condensed",...(0,e5.G)("heading-text"),children:a?`Search results for \u{201C}${a}\u{201D}`:"Models"}),(0,n.jsx)("span",{className:"fgColor-muted",...(0,e5.G)("detail-text"),children:a?`${t.total} ${1===t.total?"result":"results"}`:(0,n.jsxs)(n.Fragment,{children:["Try, test, and deploy from a wide range of model types, sizes, and specializations."," ",(0,n.jsx)(e7.A,{inline:!0,href:"https://docs.github.com/github-models/prototyping-with-ai-models",children:"Learn more"}),"."]})})]}),e?(0,n.jsx)(e9.X,{feedbackUrl:aa}):(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,n.jsx)(eV.A,{variant:"success",children:"Beta"}),(0,n.jsx)(e7.A,{href:aa,children:"Give feedback"})]})]})}try{at.displayName||(at.displayName="ResultListHeader")}catch{}function as({categories:e}){let{category:a}=V(),{query:t}=ed(),{copilotApp:s}=Y(),{type:r}=q(),{searchResults:i}=S(),l=(0,m.useMemo)(()=>{let a=new Map;for(let t of[...e.apps,...e.actions])a.set(t.slug,t);return a},[e.actions,e.apps]),o=(0,m.useMemo)(()=>{if(t)return`Search results for \u{201C}${t}\u{201D}`;if(s)return"Copilot Extensions";if(a){let e=a?l.get(a):void 0,t="actions"===r?"actions":"apps";return e?`${e.name} ${t}`:"Apps"}return"actions"===r?"Actions":"apps"===r?"Apps":"Search results"},[a,l,s,t,r]),d=(0,m.useMemo)(()=>{if(t)return`${i.total} ${1===i.total?"result":"results"}`;if(s)return"Extend Copilot capabilities using third party tools, services, and data";if(a){let e=a?l.get(a):void 0;return e?(0,n.jsx)(eq.oG,{html:e.description_html}):""}return"actions"===r?"Automate your workflow from idea to production":"apps"===r?"Build on your workflow with apps that integrate with GitHub":void 0},[a,l,s,t,i.total,r]);return"models"===r?(0,n.jsx)(at,{}):(0,n.jsx)("div",{className:"d-flex flex-column flex-sm-row flex-justify-between flex-wrap gap-2",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"f2 lh-condensed",...(0,e5.G)("heading-text"),children:o}),d&&(0,n.jsx)("span",{className:"fgColor-muted",...(0,e5.G)("detail-text"),children:d})]})})}try{as.displayName||(as.displayName="ResultListHeader")}catch{}function ar({categories:e}){let{searchResults:a}=S(),{page:t,setPage:s}=en(),r=(0,m.useCallback)((e,a)=>{e.preventDefault(),s(a)},[s]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(as,{categories:e}),(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)(e8,{})}),a.results.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:`mt-4 ${1===a.results.length?eX["marketplace-list-grid-one"]:e$["marketplace-list-grid"]}`,"data-testid":"search-results",children:a.results.map(e=>(0,n.jsx)(eJ,{listing:e,isFeatured:!1},`${e.type}-${e.id}`))}),(a.totalPages??1)>1&&(0,n.jsx)(eZ.A,{pageCount:a.totalPages??1,currentPage:t,onPageChange:r,showPages:{narrow:!1}})]}):(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsxs)(e0.A,{border:!0,children:[(0,n.jsx)(e0.A.Visual,{children:(0,n.jsx)(eg.SearchIcon,{size:"medium"})}),(0,n.jsx)(e0.A.Heading,{children:"No results"}),(0,n.jsx)(e0.A.Description,{children:"Try searching by different keywords."})]})})]})}try{ar.displayName||(ar.displayName="ResultList")}catch{}let an={modelItemLabel:"ModelItem-module__modelItemLabel--dRhq_"};var ai=t(5796);function al({model:e,isFeatured:a,href:t}){let s=t||(0,ai.LHP)(e),r="AI21 Labs"===e.publisher,i=r?e$["marketplace-logo--jamba-div"]:"",l=r?e$["marketplace-logo--jamba-logo"]:"";return(0,n.jsxs)("div",{className:`position-relative border rounded-2 d-flex ${e$["marketplace-item"]} ${a?"flex-column flex-items-center p-4":"gap-3 p-3"}`,...(0,e5.G)("marketplace-item"),children:[(0,n.jsx)("div",{className:`flex-shrink-0 rounded-3 overflow-hidden ${e$["marketplace-logo"]} ${i}`,...(0,e5.G)("logo"),children:(0,n.jsx)(eK.K,{logoUrl:e.logo_url,darkModeIcon:e.dark_mode_icon,publisher:e.publisher,size:36,className:`${e$["marketplace-model-avatar-icon"]} ${l} box-shadow-none color-fg-default`,...(0,e5.G)("logo-image")})}),a?(0,n.jsxs)("div",{className:"d-flex flex-column flex-items-center height-full width-full text-center",...(0,e5.G)("featured-item"),children:[(0,n.jsx)(eG.A,{as:"h3",className:"mt-3 d-flex f4 lh-condensed",children:(0,n.jsx)("a",{href:s,className:`fgColor-default line-clamp-1 ${e$["marketplace-item-link"]}`,children:e.friendly_name})}),(0,n.jsxs)("p",{className:"mt-2 mb-auto text-small fgColor-muted line-clamp-2",children:["by ",(0,e3.D)(e.publisher)]}),e.summary&&(0,n.jsx)("p",{className:"mt-2 text-small fgColor-muted line-clamp-2",children:e.summary}),(0,n.jsx)(eV.A,{variant:"secondary",size:"large",className:an.modelItemLabel,...(0,e5.G)("listing-type-label"),children:"Model"})]}):(0,n.jsxs)("div",{className:"flex-1",...(0,e5.G)("non-featured-item"),children:[(0,n.jsxs)("div",{className:"d-flex flex-justify-between flex-items-start gap-3",children:[(0,n.jsx)("h3",{className:"d-flex f4 lh-condensed",children:(0,n.jsx)("a",{href:s,className:`${e$["marketplace-item-link"]} line-clamp-1`,children:e.friendly_name})}),(0,n.jsx)(eV.A,{variant:"secondary",children:"Model"})]}),e.summary&&(0,n.jsx)("p",{className:"mt-1 mb-0 text-small fgColor-muted line-clamp-2",children:e.summary}),!e.summary&&(0,n.jsx)("p",{className:"mt-1 mb-0 text-small fgColor-muted line-clamp-2",children:(0,e3.D)(e.publisher)})]})]})}try{al.displayName||(al.displayName="ModelItem")}catch{}function ao({payload:e}){let{featuredModels:a}=(0,l.B)(),{isSearching:t}=ed(),{recentlyAdded:s}=F(),{featured:r}=E(),{recommended:i}=L(),[o,d]=(0,m.useState)("recommended");return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(ar,{categories:e.categories}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eG.A,{as:"h2",className:"f2",children:"Models for your every use case"}),(0,n.jsx)("span",{className:"fgColor-muted",children:"Try, test, and deploy from a wide range of model types, sizes, and specializations."}),(0,n.jsx)("div",{className:`mt-4 ${e$["marketplace-featured-grid"]} width-fit`,children:a.map(e=>(0,n.jsx)(al,{model:e,isFeatured:!0},e.id))}),(0,n.jsx)(eG.A,{as:"h2",className:"mt-4 f2",children:"Discover apps with Copilot extensions"}),(0,n.jsx)("span",{className:"fgColor-muted",children:"Your favorite tools now work with GitHub Copilot."}),(0,n.jsx)("div",{className:`mt-4 ${e$["marketplace-featured-grid"]} width-fit`,children:r.map(e=>(0,n.jsx)(eJ,{listing:e,isFeatured:!0},`${e.type}-${e.id}`))}),(0,n.jsx)("div",{className:eU.UnderlineNavContainer,children:(0,n.jsxs)(ez.O,{"aria-label":"View recommended or recent marketplace listings",children:[(0,n.jsx)(ez.O.Item,{as:"button","aria-current":"recommended"===o?"page":void 0,onSelect:e=>{e?.preventDefault(),d("recommended")},children:"Recommended"}),(0,n.jsx)(ez.O.Item,{as:"button","aria-current":"recentlyAdded"===o?"page":void 0,onSelect:e=>{e?.preventDefault(),d("recentlyAdded")},children:"Recently added"})]})}),"recommended"===o&&(0,n.jsx)("div",{className:`mt-4 ${e$["marketplace-list-grid"]}`,children:i.map(e=>(0,n.jsx)(eJ,{listing:e,isFeatured:!1},`${e.type}-${e.id}`))}),"recentlyAdded"===o&&(0,n.jsx)("div",{className:`mt-4 ${e$["marketplace-list-grid"]}`,children:s.map(e=>(0,n.jsx)(eJ,{listing:e,isFeatured:!1},`${e.type}-${e.id}`))})]})})}try{ao.displayName||(ao.displayName="IndexAndSearchContent")}catch{}function ad(){let e=(0,l.B)();return(0,n.jsxs)(eB,{children:[(0,n.jsx)(eE,{}),(0,n.jsx)("div",{"data-hpc":!0,children:(0,n.jsxs)(o.M,{children:[(0,n.jsx)(o.M.Pane,{position:"start",children:(0,n.jsx)(eF,{categories:e.categories})}),(0,n.jsx)(o.M.Content,{as:"div",children:(0,n.jsx)(ao,{payload:e})})]})})]})}try{ad.displayName||(ad.displayName="Index")}catch{}var ac=t(46309);let am=e=>{let{header:a,body:t,sidebar:s}=e;return(0,n.jsx)("div",{className:"d-flex flex-column","data-testid":"marketplace-listing","data-hpc":!0,children:(0,n.jsxs)(o.M,{columnGap:"normal",children:[(0,n.jsx)(o.M.Header,{children:a}),(0,n.jsxs)(ac.B,{justify:"end",direction:{narrow:"vertical",regular:"horizontal"},gap:"none",className:"width-full",children:[(0,n.jsx)(o.M.Content,{as:"div",children:t}),(0,n.jsx)(o.M.Pane,{hidden:{narrow:!0,regular:!1},className:eX["marketplace-sidebar__pane"],children:(0,n.jsx)(ac.B,{gap:"spacious",className:eX["marketplace-sidebar__content-wrapper"],children:s})})]})]})})};try{am.displayName||(am.displayName="ListingLayout")}catch{}var au=t(27389),ap=t(53904);function ah(e){let{listing:a}=e,t="";return"model"===a.type?t="Models":"marketplace_listing"===a.type?t="Apps":"repository_action"===a.type&&(t="Actions"),(0,n.jsxs)(ap.A,{"data-testid":"breadcrumbs",children:[(0,n.jsx)(ap.A.Item,{href:"/marketplace",children:"Marketplace"}),(0,n.jsx)(ap.A.Item,{href:`/marketplace?type=${t.toLowerCase()}`,children:t}),(0,n.jsx)(ap.A.Item,{className:"ws-normal",href:"#",selected:!0,children:a.name})]})}try{ah.displayName||(ah.displayName="ListingBreadcrumbs")}catch{}function ag(e){let a=(0,au.tv)({narrow:!0},!1),{listing:t,banner:s,listingDetails:r,additionalDetails:i,callToAction:l}=e,{name:o}=t,d="",c=!1;return"repository_action"===t.type?(d="Actions",c=t.isVerifiedOwner):"marketplace_listing"===t.type&&(d=t.copilotApp?"Copilot":"App",c=t.isVerifiedOwner),(0,n.jsxs)(ac.B,{"data-testid":"overview-header",children:[(0,n.jsx)(ah,{listing:t}),(0,n.jsx)("div",{className:`${eX["marketplace-banner-container"]}`,children:s}),(0,n.jsxs)(ac.B,{justify:"space-between",className:"flex-column flex-md-row",children:[(0,n.jsxs)(ac.B,{align:"center",direction:"horizontal",children:[(0,n.jsxs)("div",{className:`${eX["marketplace-logo-wrapper"]}`,children:[(0,n.jsx)(eQ,{listing:t}),c&&(0,n.jsx)("div",{className:`${eX["marketplace-logo__verified-icon-wrapper"]}`,children:(0,n.jsx)(eg.VerifiedIcon,{size:16,className:"fgColor-accent","aria-label":"Manually verified"})})]}),(0,n.jsxs)(ac.B,{align:"center",direction:"horizontal",gap:"condensed",children:[(0,n.jsx)("h1",{className:a?"h4":"h3",children:o}),d&&(0,n.jsx)(eV.A,{variant:"secondary",className:"d-none d-md-flex","data-testid":"type-label",children:d})]})]}),(0,n.jsx)(ac.B,{className:"d-md-none",children:r}),l,(0,n.jsx)(ac.B,{className:"d-md-none width-full",children:i})]})]})}try{ag.displayName||(ag.displayName="OverviewHeader")}catch{}var ay=t(52464),af=t(12528);let ax={Heading:"SidebarHeading-module__Heading--tOKlB"};function aj(e){let{title:a,count:t,link:s,htmlTag:r="h3"}=e;return(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)(ay.A,{as:r,weight:"semibold",className:ax.Heading,children:(0,n.jsx)(e7.A,{href:s,className:"Link--primary no-underline",children:(0,n.jsxs)(ac.B,{gap:"none",align:"center",direction:"horizontal",children:[a,t?(0,n.jsx)(af.A,{className:"ml-1",children:t}):null]})})}):(0,n.jsxs)(ac.B,{gap:"none",align:"center",direction:"horizontal",children:[(0,n.jsx)(ay.A,{as:r,weight:"semibold",className:ax.Heading,children:a}),t?(0,n.jsx)(af.A,{className:"ml-1",children:t}):null]})})}try{aj.displayName||(aj.displayName="SidebarHeading")}catch{}function av(e){let{app:a,sidebar:t}=e,{shortDescription:s,ownerLogin:r,ownerType:i}=a,l="Organization"===i;return(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"about",children:[t&&(0,n.jsx)(aj,{title:"About",htmlTag:"h2"}),s&&(0,n.jsx)("span",{children:s}),(0,n.jsxs)(ac.B,{wrap:"wrap",direction:"horizontal",gap:"condensed",children:[r&&(0,n.jsx)("div",{className:"color-fg-muted pr-1",children:(0,n.jsxs)(n.Fragment,{children:["By ",l||"User"===i?(0,n.jsx)(e7.A,{href:(0,ai.p3r)({owner:r}),"data-hovercard-type":l?"organization":"user","data-hovercard-url":l?(0,ai.qsO)({owner:r}):(0,ai.dCN)({owner:r}),children:r}):(0,n.jsx)(e7.A,{href:(0,ai.p3r)({owner:r}),children:r})]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(eg.DownloadIcon,{className:"mr-1 fgColor-muted"}),(0,n.jsxs)("span",{className:"text-bold",children:[a.installationCount.toLocaleString(),"\xa0"]}),(0,n.jsxs)("span",{className:"fgColor-muted",children:["install",1===a.installationCount?"":"s"]})]})]})]})}try{av.displayName||(av.displayName="About")}catch{}var ab=t(10871);function aN(e){return e.isRegularEmuUser?{canInstall:!1,reason:"Only enterprise administrators and organization admins can purchase applications from the marketplace."}:e.emuOwnerButNotAdmin?{canInstall:!1,reason:"Only enterprise admins are able to install paid Marketplace plans."}:{canInstall:!0,reason:null}}function a_(e,a){let t=(0,au.tv)({narrow:!0},!1),s=!!(!aN(e).canInstall||a.disabled);return{disabled:s,"aria-describedby":s?"install-unavailable-reason":void 0,size:t?"medium":"large"}}function aw({planInfo:e,...a}){let{disabled:t,size:s,...r}=a_(e,a);return(0,n.jsx)(eL.Q,{as:"button",variant:"primary",className:`width-full ${a.className?a.className:""}`,"aria-disabled":t,"aria-describedby":r["aria-describedby"],size:s,...a,disabled:t})}function aS({planInfo:e,...a}){let{disabled:t,size:s,...r}=a_(e,a);return(0,n.jsx)(ab.z,{as:"a",variant:"primary",className:`width-full ${a.className?a.className:""}`,"aria-describedby":r["aria-describedby"],size:s,"data-testid":"header-link-button",...a,disabled:t})}try{aw.displayName||(aw.displayName="HeaderButton")}catch{}try{aS.displayName||(aS.displayName="HeaderLinkButton")}catch{}var ak=t(94232),aC=t(47584);function aI(e,a,t,s){let r,n;let i=!!s&&(s===e.currentUser?.displayLogin?e.installedForViewer:e.organizations.find(e=>e.displayLogin===s)?.installedForOrg),l=s&&e.planIdByLogin[s]===a.id;return l&&i?(r=!0,n="Already installed"):l&&!i?(r=!1,n="Install"):a.directBilling?(r=!e.isBuyable,n=`Set up with ${t.name}`):a.isPaid&&a.hasFreeTrial&&(e.subscriptionItem.onFreeTrial||e.anyAccountEligibleForFreeTrial)?(r=!e.isBuyable,n=e.isBuyable||e.organizations.length>0?`Try free for ${e.freeTrialLength}`:e.viewerFreeTrialDaysLeft&&e.viewerFreeTrialDaysLeft>0?`${e.viewerFreeTrialDaysLeft} ${1===e.viewerFreeTrialDaysLeft?"day":"days"} left of free trial`:`Try free for ${e.freeTrialLength}`):a.isPaid?(r=!e.isBuyable,n="Buy with GitHub"):(r=!e.isBuyable,n="Install it for free"),{isDisabled:r,buttonText:n}}function aA({planInfo:e,plan:a,listing:t,account:s}){let{isDisabled:r,buttonText:i}=(0,m.useMemo)(()=>aI(e,a,t,s),[e,a,t,s]),[l]=(0,ak.I)(()=>(0,ai.pMt)({returnTo:aC.fV?.href}),void 0,[aC.fV?.href]);return e.isLoggedIn?(0,n.jsx)(aw,{type:"submit",form:"plan-form",planInfo:e,disabled:r,"data-testid":"direct-install-button","data-octo-click":"marketplace-listing_order_click","data-octo-dimensions":`marketplace_listing_id:${t.id}`,children:i}):(0,n.jsx)(aS,{href:l,planInfo:e,disabled:r,children:i})}function aP({planInfo:e,plan:a,listing:t,account:s}){let{isDisabled:r,buttonText:i}=(0,m.useMemo)(()=>aI(e,a,t,s),[e,a,t,s]);return(0,n.jsx)(eL.Q,{variant:"primary",size:"large",form:"plan-form",disabled:r,type:"submit","data-octo-click":"marketplace-listing_order_click","data-octo-dimensions":`marketplace_listing_id:${t.id}`,children:i})}try{aA.displayName||(aA.displayName="HeaderInstallButton")}catch{}try{aP.displayName||(aP.displayName="InstallButton")}catch{}function aT({planInfo:e,plan:a,listing:t}){return e.freeTrialsUsed?(0,n.jsx)("div",{children:"You\u2019ve already used a free trial for this app"}):e.installationUrlRequirementMet?e.isBuyable?(0,n.jsxs)("p",{className:"mt-2 mb-0 f6",children:["Next: Confirm your installation location",a.isPaid&&" and payment information"]}):(0,n.jsx)("p",{className:"mt-2 mb-0 f6",children:"You\u2019ve already purchased this on all of your GitHub accounts"}):e.userCanEditListing?(0,n.jsxs)("div",{children:["This app is not installable because it is missing"," ",(0,n.jsx)("a",{href:`/marketplace/${t.slug}/edit/description#naming_and_links`,children:"an installation URL"}),"."]}):null}try{aT.displayName||(aT.displayName="InstallHelpText")}catch{}var aE=t(58206);let aM=(0,m.createContext)(null);function aR(){let e=(0,m.useContext)(aM);if(!e)throw Error("usePlanForm must be used within the PlanForm component");return e}function aL({children:e,...a}){let[t,s]=(0,m.useState)(a.planInfo.orderPreview?.quantity||1),r=(0,aE.H)(`/marketplace/${a.listing.slug}/order/${a.plan.id}${a.canReinstall?"/upgrade":""}`,"post"),i=(0,m.useMemo)(()=>({seatQuantity:t,setSeatQuantity:s,authToken:r,...a}),[t,s,r,a]);return(0,n.jsx)(aM.Provider,{value:i,children:e})}try{aM.displayName||(aM.displayName="PlanFormContext")}catch{}try{aL.displayName||(aL.displayName="PlanFormProvider")}catch{}function aO(){let{planInfo:e,listing:a,canReinstall:t,skipOrderReview:s,authToken:r}=aR();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"quantity",id:"quantity",value:"1","data-testid":"quantity"}),(s||t)&&(0,n.jsx)("input",{type:"hidden",name:"authenticity_token",value:r,"data-testid":"csrf-token"}),s&&(0,n.jsx)(n.Fragment,{children:e.canSignEndUserAgreement&&e.endUserAgreement&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"marketplace_listing_id",id:"marketplace_listing_id",value:a.id,"data-testid":"marketplace-listing-id"}),(0,n.jsx)("input",{type:"hidden",name:"marketplace_agreement_id",id:"marketplace_agreement_id",value:e.endUserAgreement.id,"data-testid":"marketplace-agreement-id"})]})})]})}try{aO.displayName||(aO.displayName="PlanFormHiddenFields")}catch{}var aD=t(73451);let aF={TextInput:"PlanFormSeatsField-module__TextInput--GuBYA"};function aB(){let{planInfo:e,plan:a,seatQuantity:t,setSeatQuantity:s}=aR();return a.isPaid?(0,n.jsxs)(n.Fragment,{children:[a.perUnit&&(0,n.jsxs)(aD.A,{id:"quantity",children:[(0,n.jsx)(aD.A.Label,{htmlFor:"quantity",className:"text-normal",as:"label",children:`Number of ${a.unitName}s`}),(0,n.jsx)(eI.A,{type:"number",value:t,name:"quantity",min:"0",max:"100000",onChange:e=>s(parseInt(e.target.value)),"data-testid":"seat-quantity-input",className:aF.TextInput})]}),(0,n.jsx)("div",{className:"border-bottom border-top py-2 d-flex flex-items-baseline flex-justify-between",children:(0,n.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,n.jsx)("span",{className:"f2 mr-2","data-testid":"plan-form-price",children:a.price}),(0,n.jsxs)("span",{className:"text color-fg-muted",children:[a.perUnit&&(0,n.jsxs)("span",{children:[" ",`/ ${a.unitName}`]}),(0,n.jsx)("span",{children:e.isUserBilledMonthly?" / month":" / year"})]})]})})]}):null}try{aB.displayName||(aB.displayName="PlanFormSeatsField")}catch{}var a$=t(62456),aU=t(30631);function aG({planInfo:e,account:a}){if(e.currentUser&&a===e.currentUser.displayLogin&&e.currentUser.image)return(0,n.jsx)(a$.r,{square:!0,src:e.currentUser.image,"data-testid":"user-account-avatar"});{let t=e.organizations.find(e=>a===e.displayLogin&&e.image);if(t&&t.image)return(0,n.jsx)(a$.r,{square:!0,src:t.image,"data-testid":"org-account-avatar"})}return null}try{aG.displayName||(aG.displayName="AccountButtonAvatar")}catch{}function az(){let{listing:e,planInfo:a,selectedAccount:t,setSelectedAccount:s}=aR(),r=[];for(let e of(a.currentUser&&r.push({displayLogin:a.currentUser.displayLogin,hasExtensibilityAccess:a.currentUser.hasExtensibilityAccess,image:a.currentUser.image,label:"Personal account"}),a.organizations))r.push({displayLogin:e.displayLogin,hasExtensibilityAccess:e.hasExtensibilityAccess,image:e.image,label:e.isEnterpriseOwned?"Enterprise owned organization":"Organization"});return t&&(0,n.jsx)(n.Fragment,{children:0===a.organizations.length?(0,n.jsx)("input",{type:"hidden",name:"account",id:"account",value:t}):(0,n.jsxs)(ac.B,{direction:"horizontal",gap:"condensed",align:"center",children:[(0,n.jsx)("div",{className:"text-bold",children:"Account:"}),(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Button,{leadingVisual:(0,n.jsx)(aG,{planInfo:a,account:t}),children:t||"Select account"}),(0,n.jsx)(e1.W.Overlay,{maxHeight:"large",width:"medium",className:"overflow-auto",children:(0,n.jsx)(e2.l,{children:r.map(a=>(0,n.jsxs)(e2.l.Item,{onSelect:()=>s(a.displayLogin),children:[(0,n.jsx)(e2.l.LeadingVisual,{children:a.image&&(0,n.jsx)(a$.r,{square:!0,src:a.image})}),(0,n.jsxs)(ac.B,{gap:"condensed",direction:"horizontal",align:"center",children:[(0,n.jsx)("div",{className:"text-bold flex-shrink-0",children:a.displayLogin}),(0,n.jsx)(aU.A,{inline:!0,title:a.label,className:"width-fit fgColor-muted text-normal text-small",children:a.label})]}),e.copilotApp&&a.hasExtensibilityAccess&&(0,n.jsx)(e2.l.Description,{variant:"block",className:"fgColor-attention",children:"Supports Copilot extensions"})]},a.displayLogin))})})]}),t&&(0,n.jsx)("input",{type:"hidden",name:"account",id:"account",value:t})]})})}try{az.displayName||(az.displayName="PlanFormAccountSelector")}catch{}function aV({planInfo:e,listing:a,plan:t,children:s,selectedAccount:r,onAccountSelect:i}){let l=(0,em.u)("marketplace_free_install"),o=(0,m.useMemo)(()=>!!l&&!!a.copilotApp&&!t.isPaid||t.directBilling,[a.copilotApp,l,t.directBilling,t.isPaid]),d=(0,m.useMemo)(()=>!!r&&(r===e.currentUser?.displayLogin?e.installedForViewer:e.organizations.find(e=>e.displayLogin===r)?.installedForOrg),[e.organizations,r,e.installedForViewer,e.currentUser?.displayLogin]),c=!!r&&e.planIdByLogin[r]===t.id&&!d,u=o&&r&&e.planIdByLogin[r];return(0,n.jsx)(aL,{planInfo:e,listing:a,plan:t,selectedAccount:r,setSelectedAccount:i,canReinstall:c,skipOrderReview:o,children:(0,n.jsxs)("form",{method:o||c?"POST":"GET",action:`/marketplace/${a.slug}/order/${t.id}${u||c?"/upgrade":""}`,"data-testid":"plan-form",className:"width-full",id:"plan-form",children:[(0,n.jsx)(aO,{}),s||(0,n.jsxs)(ac.B,{gap:"normal",className:t.isPaid&&!t.perUnit?"":"pt-3",children:[(0,n.jsx)(aB,{}),(0,n.jsx)(az,{}),(0,n.jsxs)("div",{children:[(0,n.jsx)(aP,{planInfo:e,plan:t,listing:a,account:r}),(0,n.jsx)(aT,{planInfo:e,plan:t,listing:a})]})]})]})})}try{aV.displayName||(aV.displayName="PlanForm")}catch{}var aH=t(15198);let aW={CheckIcon:"PlansRadioGroup-module__CheckIcon--fv6Nf"};function aq({planInfo:e,onPlanChange:a,selectedPlanId:t}){return(0,n.jsx)(ac.B,{gap:"normal",className:"border-bottom color-border-muted","data-testid":"plans-radio-group",children:e.plans.map((s,r)=>(0,n.jsxs)(ac.B,{gap:"condensed",direction:"horizontal",className:r===e.plans.length-1?"pb-3":"",children:[(0,n.jsx)(aH.A,{"aria-describedby":"price-yearly",name:"plan",value:s.id,id:s.id,checked:t===s.id,onChange:()=>a(s.id)}),(0,n.jsxs)(ac.B,{gap:"condensed",direction:"vertical",className:"width-full",children:[(0,n.jsx)(ac.B,{gap:"condensed",direction:"horizontal",children:(0,n.jsxs)(ac.B,{gap:{narrow:"none",regular:"condensed",wide:"condensed"},direction:{narrow:"vertical",regular:"horizontal",wide:"horizontal"},justify:"space-between",className:"width-full",children:[(0,n.jsxs)(ac.B,{gap:"none",direction:"vertical",className:"width-full",children:[(0,n.jsxs)("label",{htmlFor:s.id,className:"text-bold",children:[s.name," ",s.isPaid&&s.hasFreeTrial&&(0,n.jsx)(eV.A,{className:"ml-1",children:"Free trial available"})]}),(0,n.jsx)(ay.A,{size:"small",className:"color-fg-muted mt-1",children:s.description})]}),(0,n.jsxs)("span",{className:"color-fg-muted flex-shrink-0","data-testid":"plan-price-info",children:[s.isPaid&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:s.price}),s.perUnit&&(0,n.jsxs)("span",{children:[" ",`/ ${s.unitName}`]}),(0,n.jsx)("span",{children:e.isUserBilledMonthly?" / month":" / year"})]}),!s.isPaid&&!s.directBilling&&(0,n.jsx)("span",{children:"$0"})]})]})}),t===s.id&&(s.forOrganizationsOnly||s.forUsersOnly||s.bullets.length>0)&&(0,n.jsxs)(ac.B,{gap:"condensed",children:[s.forOrganizationsOnly&&(0,n.jsx)("div",{children:"For organizations only"}),s.forUsersOnly&&(0,n.jsx)("div",{children:"For users only"}),s.bullets.length>0&&(0,n.jsx)("ul",{className:"list-style-none d-flex flex-column gap-1",children:s.bullets.map(e=>(0,n.jsxs)("li",{className:"d-flex gap-2",children:[(0,n.jsx)(eg.CheckIcon,{className:aW.CheckIcon}),(0,n.jsx)(ay.A,{as:"span",size:"small",children:e})]},e))})]})]})]},s.id))})}try{aq.displayName||(aq.displayName="PlansRadioGroup")}catch{}function aK({planInfo:e,app:a,open:t,onClose:s,selectedAccount:r,setSelectedAccount:i}){let[l,o]=(0,m.useState)(e.selectedPlanId),d=(0,m.useMemo)(()=>e.plans.find(e=>e.id===l),[e.plans,l]),c=e.plans.length;return t&&d?(0,n.jsxs)(eO.l,{title:"Configure your installation",onClose:s,renderFooter:()=>(0,n.jsx)(eO.l.Footer,{children:(0,n.jsx)(aP,{planInfo:e,plan:d,listing:a,account:r})}),position:{narrow:c>5?"fullscreen":"bottom",regular:"center"},children:[c>1&&(0,n.jsx)(aq,{planInfo:e,onPlanChange:e=>{o(e)},selectedPlanId:l}),(0,n.jsx)(aV,{planInfo:e,listing:a,plan:d,selectedAccount:r,onAccountSelect:i,children:(0,n.jsxs)(ac.B,{gap:"normal",className:d.isPaid&&!d.perUnit?"":"pt-3",children:[(0,n.jsx)(aB,{}),(0,n.jsx)(az,{})]})})]}):null}try{aK.displayName||(aK.displayName="InstallDialog")}catch{}function aQ(e){return e.viewerHasPurchased||e.anyOrgsPurchased?"Add":e.plans.some(e=>e.hasFreeTrial)?"Set up a free trial":"Add"}function aY({planInfo:e,app:a,selectedAccount:t,setSelectedAccount:s}){let[r,i]=(0,m.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(aw,{planInfo:e,"data-testid":"dialog-button",onClick:()=>i(!0),children:aQ(e)}),(0,n.jsx)(aK,{planInfo:e,app:a,open:r,selectedAccount:t,setSelectedAccount:s,onClose:()=>i(!1)})]})}function aJ(e){let{planInfo:a,app:t}=e,s=a.viewerHasPurchased&&a.viewerHasPurchasedForAllOrganizations&&a.installedForViewer,r=(0,em.u)("marketplace_free_install"),[i,l]=(0,m.useState)(a.selectedAccount||a.currentUser?.displayLogin);if(s)return null;if(!r||!t.copilotApp)return(0,n.jsx)(aS,{planInfo:a,href:"#pricing-and-setup",className:"js-smoothscroll-anchor","data-testid":"setup-button",children:aQ(a)});let o=a.organizations.length>0,d=a.plans.length>1,c=a.plans.find(e=>e.id===a.selectedPlanId),u=c.isPaid;return o||d||u?(0,n.jsx)(aY,{planInfo:a,app:t,selectedAccount:i,setSelectedAccount:l}):(0,n.jsxs)(aV,{planInfo:a,listing:t,plan:c,selectedAccount:i,onAccountSelect:l,children:[(0,n.jsx)(az,{}),(0,n.jsx)(aA,{planInfo:a,plan:c,listing:t,account:i})]})}try{aY.displayName||(aY.displayName="DialogButton")}catch{}try{aJ.displayName||(aJ.displayName="CallToAction")}catch{}var aX=t(87330);function aZ(e){let{app:a,planInfo:t,userCanEdit:s}=e,r=t.viewerHasPurchased||t.anyOrgsPurchased||t.installedForViewer||s,i=t.viewerHasPurchased||t.anyOrgsPurchased,l=(0,au.tv)({narrow:!0},!1);return r&&(0,n.jsx)("div",{"data-testid":"listing-actions",children:(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Anchor,{children:(0,n.jsx)(aX.K,{icon:eg.KebabHorizontalIcon,"aria-label":"More actions","data-testid":"listing-actions-button",size:l?"medium":"large"})}),(0,n.jsx)(e1.W.Overlay,{width:"small",align:"end",children:(0,n.jsxs)(e2.l,{children:[i&&(0,n.jsxs)(e2.l.Group,{children:[(0,n.jsx)(e2.l.GroupHeading,{children:"Edit current plan"}),t.viewerHasPurchased&&t.currentUser&&(0,n.jsx)(e2.l.LinkItem,{href:`/marketplace/${a.slug}/order/${t.planIdByLogin[t.currentUser.displayLogin]}?account=${t.currentUser.displayLogin}`,children:t.currentUser.displayLogin}),t.viewerBilledOrganizations.map(e=>(0,n.jsx)(e2.l.LinkItem,{href:`/marketplace/${a.slug}/order/${t.planIdByLogin[e]}?account=${e}`,children:e},e))]}),i&&(t.installedForViewer||s)&&(0,n.jsx)(e2.l.Divider,{}),t.installedForViewer&&(0,n.jsxs)(e2.l.LinkItem,{href:"/settings/installations",children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.GearIcon,{})}),"Configure account access"]}),s&&(0,n.jsxs)(e2.l.LinkItem,{href:`/marketplace/${a.slug}/edit`,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.PencilIcon,{})}),"Manage app listing"]})]})})]})})}try{aZ.displayName||(aZ.displayName="HeaderActionMenu")}catch{}function a0(e){let{isVerifiedOwner:a,pageType:t}=e,{verifiedOwnerText:s,verifiedOwnerLink:r,verifiedOwnerLinkText:i}="apps"===t?{verifiedOwnerText:"GitHub has verified the publisher's identity, ownership of their domain, and compliance with ",verifiedOwnerLink:"https://docs.github.com/en/apps/github-marketplace/github-marketplace-overview/about-marketplace-badges",verifiedOwnerLinkText:"other requirements"}:"actions"===t?{verifiedOwnerText:"GitHub has manually verified the creator of the action as an official partner organization. For more info see ",verifiedOwnerLink:"https://docs.github.com/en/actions/sharing-automations/creating-actions/publishing-actions-in-github-marketplace#about-badges-in-github-marketplace",verifiedOwnerLinkText:"About badges in GitHub Marketplace"}:{verifiedOwnerText:"",verifiedOwnerLink:"",verifiedOwnerLinkText:""};return(0,n.jsx)(n.Fragment,{children:a&&(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"verified-owner",children:[(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,n.jsx)(aj,{title:"Verified",htmlTag:"h2"}),(0,n.jsx)(eg.VerifiedIcon,{size:16,className:"fgColor-accent","aria-label":"Manually verified"})]}),(0,n.jsxs)("span",{children:[s,(0,n.jsx)(e7.A,{inline:!0,href:r,children:i}),"."]})]})})}try{a0.displayName||(a0.displayName="VerifiedOwner")}catch{}function a1({isCopilotApp:e}){return e&&(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"apps-works-with",children:[(0,n.jsx)(aj,{title:"Works with",htmlTag:"h2"}),(0,n.jsx)("span",{children:"Copilot Chat, Copilot in the IDE"})]})}try{a1.displayName||(a1.displayName="WorksWith")}catch{}function a2(e){return e.length<2?e[0]||"":2===e.length?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`}function a3(e){return"string"!=typeof e||0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}function a4({planInfo:e,isCopilotApp:a}){var t;let s=a2(e.plans.map(e=>e.name)),r=`${a3(s)} ${(t="plan",1!==e.plans.length?`${t}s`:t)} available.`;return(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"apps-planinfo",children:[(0,n.jsx)(aj,{title:"Pricing",htmlTag:"h2"}),(0,n.jsxs)("span",{children:[r,a&&(0,n.jsxs)("span",{children:[" Requires a ",(0,n.jsx)(e7.A,{href:"https://github.com/features/copilot/plans",inline:!0,children:"GitHub Copilot license"}),"."]})]})]})}try{a4.displayName||(a4.displayName="PlanInfo")}catch{}function a5(e){let{tags:a,type:t}=e;return(0,n.jsx)(n.Fragment,{children:a&&a.length>0&&(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"tags",children:[(0,n.jsx)(aj,{title:"Tags",count:a.length,htmlTag:"h2"}),(0,n.jsx)(ac.B,{direction:"horizontal",wrap:"wrap",children:a.map(e=>(0,n.jsx)("a",{href:`/marketplace?type=${t}&category=${e.slug}`,className:"topic-tag topic-tag-link",children:e.name.toLowerCase().trim().replace(/\s+/g,"-")},e.slug))})]})})}try{a5.displayName||(a5.displayName="Tags")}catch{}var a6=t(37827);function a8({planInfo:e}){let{canInstall:a,reason:t}=aN(e),s=e.viewerHasPurchased&&e.viewerHasPurchasedForAllOrganizations;return a||s?null:(0,n.jsx)(a6.l,{variant:"info",title:"Install unavailable",hideTitle:!0,children:(0,n.jsx)(a6.l.Description,{children:(0,n.jsx)("span",{id:"install-unavailable-reason",children:t})})})}try{a8.displayName||(a8.displayName="InstallUnavailableBanner")}catch{}function a7(e){let{app:a,planInfo:t,userCanEdit:s}=e,r=(0,au.tv)({narrow:!0},!1),i=(0,em.u)("marketplace_free_install")&&a.copilotApp&&r;return(0,n.jsx)(ag,{listing:a,listingDetails:(0,n.jsx)(av,{app:a}),additionalDetails:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a5,{tags:a.categories,type:"apps"}),(0,n.jsx)(a0,{isVerifiedOwner:a.isVerifiedOwner,pageType:"apps"}),(0,n.jsx)(a1,{isCopilotApp:a.copilotApp}),(0,n.jsx)(a4,{planInfo:t,isCopilotApp:a.copilotApp})]}),callToAction:(0,n.jsxs)(n.Fragment,{children:[i&&(0,n.jsx)(a8,{planInfo:t}),(0,n.jsxs)(ac.B,{gap:"condensed",direction:"horizontal",className:`width-full width-md-auto ${eX["marketplace-cta-buttons-container"]}`,children:[(0,n.jsx)(aJ,{planInfo:t,app:a}),(0,n.jsx)(aZ,{app:a,planInfo:t,userCanEdit:s})]})]})})}try{a7.displayName||(a7.displayName="Header")}catch{}function a9({screenshots:e}){let[a,t]=(0,m.useState)(e[0]?.id);return(0,n.jsx)(n.Fragment,{children:e.length>0&&(0,n.jsxs)("div",{className:"ScreenshotCarousel","data-testid":"screenshot-carousel",children:[e.map(e=>(0,n.jsxs)("div",{role:"tabpanel",className:"ScreenshotCarousel-screenshot anim-fade-in",hidden:a!==e.id,"data-testid":`screenshot-container-${e.id}`,children:[(0,n.jsx)("img",{src:e.src,width:670,alt:e.altText,className:"img-responsive","data-testid":`screenshot-${e.id}`}),e.caption&&(0,n.jsx)("div",{className:"pt-2",children:e.caption})]},e.id)),e.length>1&&(0,n.jsx)("div",{role:"tablist",className:"ScreenshotCarousel-nav",children:e.map(e=>(0,n.jsx)(te,{screenshot:e,activeScreenshotId:a,setActiveScreenshotId:t},e.id))})]})})}let te=e=>{let{screenshot:a,activeScreenshotId:t,setActiveScreenshotId:s}=e,r=(0,m.useCallback)(()=>{s(a.id)},[a.id,s]),i=(0,m.useCallback)(e=>{"Enter"===e.key&&s(a.id)},[a.id,s]);return(0,n.jsx)("div",{className:"ScreenshotCarousel-navitem",role:"tab",tabIndex:0,"aria-selected":t===a.id,onClick:r,onKeyDown:i,"data-testid":`screenshot-thumbnail-${a.id}`,children:(0,n.jsx)("img",{src:a.src,width:670,alt:a.altText,className:"img-responsive"})},a.id)};try{a9.displayName||(a9.displayName="Screenshots")}catch{}try{te.displayName||(te.displayName="ScreenshotThumbnail")}catch{}let ta={"section-title":"ListingBodySection-module__section-title--goGYh"};function tt({title:e,children:a,...t}){return(0,n.jsxs)(ac.B,{gap:{narrow:"condensed",regular:"normal"},...t,children:[(0,n.jsx)("h3",{className:ta["section-title"],children:e}),a]})}try{tt.displayName||(tt.displayName="ListingBodySection")}catch{}let ts=()=>(0,n.jsx)(tt,{title:"Requirements",children:(0,n.jsx)("div",{className:`${eX["marketplace-content-container"]} ${eX["marketplace-content-container--less-padding"]}`,children:(0,n.jsxs)("p",{className:"m-0","data-testid":"copilot-listing-requirement",children:["Copilot Extensions require an active"," ",(0,n.jsx)(e7.A,{inline:!0,href:"https://github.com/features/copilot/plans",children:"GitHub Copilot license"}),"."]})})});try{ts.displayName||(ts.displayName="CopilotListingRequirement")}catch{}function tr({planInfo:e,listing:a,selectedPlan:t}){let[s,r]=(0,m.useState)(e.selectedAccount||e.currentUser?.displayLogin),i=(0,m.useMemo)(()=>{let{canInstall:i,reason:l}=aN(e);return i?t?(0,n.jsx)(aV,{planInfo:e,listing:a,plan:t,selectedAccount:s,onAccountSelect:r}):void 0:(0,n.jsx)("div",{className:"pt-3",children:l})},[e,t,a,s,r]);return i&&(0,n.jsx)("div",{"data-testid":"install-section",children:i})}try{tr.displayName||(tr.displayName="InstallSection")}catch{}var tn=t(89169),ti=t(10312);function tl({planInfo:e,plan:a,listing:t}){let s=e.endUserAgreement,[r,i]=(0,m.useState)(!1),l="text-center text-wrap-balance f6 fgColor-muted",o=(0,m.useMemo)(()=>`Set up with ${t.name}`,[t.name]);return(0,n.jsx)(n.Fragment,{children:a&&a.directBilling&&e.isLoggedIn&&s?(0,n.jsxs)("p",{className:l,"data-testid":"terms-of-service",children:[t.tosUrl?(0,n.jsxs)(n.Fragment,{children:["By clicking \u201C",o,",\u201D you are agreeing to"," ",!s.userSignedAt&&(0,n.jsxs)(n.Fragment,{children:["the"," ",(0,n.jsx)(e7.A,{as:"button",inline:!0,onClick:()=>i(!0),children:s.name}),","]}),t.name,"\u2019s"," ",(0,n.jsx)(e7.A,{target:"_blank",rel:"noopener noreferrer",href:t.tosUrl,inline:!0,children:"Terms of Service"})," ","and the"," ",(0,n.jsx)(e7.A,{target:"_blank",rel:"noopener noreferrer",href:t.privacyPolicyUrl,inline:!0,children:"Privacy Policy"}),"."]}):(0,n.jsxs)(n.Fragment,{children:["By clicking ",o,", you agree to"," ",!s.userSignedAt&&(0,n.jsxs)(n.Fragment,{children:["the"," ",(0,n.jsx)(e7.A,{as:"button",inline:!0,onClick:()=>i(!0),children:s.name}),", and"," "]}),t.name,"\u2019s"," ",(0,n.jsx)(e7.A,{target:"_blank",rel:"noopener noreferrer",href:t.privacyPolicyUrl,inline:!0,children:"Privacy Policy"}),"."]}),s.userSignedAt&&(0,n.jsxs)(n.Fragment,{children:[" ","You previously agreed to the"," ",(0,n.jsx)(e7.A,{as:"button",inline:!0,onClick:()=>i(!0),children:s.name}),"."]}),(0,n.jsx)(ti.A,{isOpen:r,onDismiss:()=>i(!1),"aria-labelledby":"header",children:(0,n.jsxs)("div",{"data-testid":"inner",children:[(0,n.jsx)(ti.A.Header,{id:"header",children:`GitHub ${s.name} ${s.version}`}),(0,n.jsx)(eq.oG,{html:s.html,className:"p-3"}),s.userSignedAt&&(0,n.jsxs)("div",{className:"p-3 border-top",children:["You agreed to these terms ",(0,n.jsx)(tn.A,{date:new Date(s.userSignedAt)})]})]})})]}):(0,n.jsx)(n.Fragment,{children:e.listingByGithub?(0,n.jsxs)("p",{className:l,children:[t.name," is owned and operated by GitHub"," ",t.tosUrl?(0,n.jsxs)(n.Fragment,{children:["with separate"," ",(0,n.jsx)(e7.A,{href:t.tosUrl,inline:!0,children:"terms of service"}),", ",(0,n.jsx)(e7.A,{href:t.privacyPolicyUrl,inline:!0,children:"privacy policy"}),","]}):(0,n.jsxs)(n.Fragment,{children:["with separate"," ",(0,n.jsx)(e7.A,{href:t.privacyPolicyUrl,inline:!0,children:"privacy policy"})]})," ","and"," ",t.supportEmail?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e7.A,{href:`mailto:${t.supportEmail}`,inline:!0,children:"support contact"}),"."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e7.A,{href:t.supportUrl,inline:!0,children:"support documentation"}),"."]})]}):(0,n.jsxs)("p",{className:l,children:[t.name," is provided by a third-party and is governed by"," ",t.tosUrl?(0,n.jsxs)(n.Fragment,{children:["separate"," ",(0,n.jsx)(e7.A,{href:t.tosUrl,inline:!0,children:"terms of service"}),", ",(0,n.jsx)(e7.A,{href:t.privacyPolicyUrl,inline:!0,children:"privacy policy"}),","]}):(0,n.jsxs)(n.Fragment,{children:["separate"," ",(0,n.jsx)(e7.A,{href:t.privacyPolicyUrl,inline:!0,children:"privacy policy"})]})," ","and"," ",t.supportEmail?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e7.A,{href:`mailto:${t.supportEmail}`,inline:!0,children:"support contact"}),"."]}):(0,n.jsx)(e7.A,{href:t.supportUrl,inline:!0,children:"support documentation"})]})})})}try{tl.displayName||(tl.displayName="TermsOfService")}catch{}function to({planInfo:e,listing:a}){let[t,s]=(0,m.useState)(e.selectedPlanId),r=(0,m.useCallback)(e=>{s(e)},[]),i=(0,m.useMemo)(()=>e.plans.find(e=>e.id===t),[e.plans,t]);return(0,n.jsxs)(tt,{title:"Plans and pricing","data-testid":"pricing",id:"pricing-and-setup",children:[(0,n.jsxs)("div",{className:`${eX["marketplace-content-container"]} ${eX["marketplace-content-container--less-padding"]}`,children:[(0,n.jsx)(aq,{planInfo:e,onPlanChange:r,selectedPlanId:t}),(0,n.jsx)(tr,{planInfo:e,listing:a,selectedPlan:i})]}),(0,n.jsx)(tl,{planInfo:e,plan:i,listing:a})]})}try{to.displayName||(to.displayName="Plans")}catch{}function td({title:e,defaultOpen:a,children:t}){let[s,r]=(0,m.useState)(a),i=(0,m.useRef)(null);return(0,n.jsxs)("details",{open:s,ref:i,onToggle:()=>{r(!!i.current?.open)},className:`border-top color-border-default pl-2 ${eX["marketplace-revealer"]}`,children:[(0,n.jsxs)(ac.B,{as:"summary",gap:"condensed",direction:"horizontal",align:"center",className:"cursor-pointer my-3",children:[s?(0,n.jsx)(eg.ChevronDownIcon,{size:12,className:"fgColor-muted"}):(0,n.jsx)(eg.ChevronRightIcon,{size:12,className:"fgColor-muted"}),(0,n.jsx)(eG.A,{variant:"small",as:"h3",children:e})]}),s&&(0,n.jsx)("div",{className:"mb-3",children:t})]},e)}try{td.displayName||(td.displayName="Revealer")}catch{}let tc={transparencyDataTable:"transparency-module__transparencyDataTable--h1VyW"};function tm({items:e}){return(0,n.jsx)("dl",{className:tc.transparencyDataTable,children:e.map(e=>e.value&&(0,n.jsxs)(m.Fragment,{children:[(0,n.jsx)("dt",{children:(0,n.jsx)(ay.A,{size:"small",weight:"semibold",children:e.label})}),(0,n.jsx)("dd",{children:(0,n.jsx)(ay.A,{size:"small",children:e.value})})]},e.label))})}try{tm.displayName||(tm.displayName="TransparencyDataTable")}catch{}function tu({app:e}){let{ownerSafeProfileName:a,ownerImage:t,ownerType:s,traderAddress:r,businessId:i,euTrader:l,statusUrl:o,tosUrl:d,privacyPolicyUrl:c,supportUrl:m,supportEmail:u,publisher2faRequired:p,verifiedProfileDomains:h}=e,g=[{label:"Developer",value:a&&(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[t&&(0,n.jsx)(a$.r,{src:t,alt:a,size:16,square:"User"!==s}),a]})},{label:"Company domain",value:h.length>0&&(0,n.jsx)(n.Fragment,{children:h.map(e=>(0,n.jsx)(e7.A,{href:`https://${e}`,rel:"nofollow",className:"d-block",children:e},e))})},{label:"Business address",value:r&&(0,n.jsx)(n.Fragment,{children:r})},{label:"Business ID",value:i&&(0,n.jsx)(n.Fragment,{children:i})},{label:"EU Trader",value:l&&(0,n.jsx)(n.Fragment,{children:l})},{label:"Status page",value:o&&(0,n.jsx)(e7.A,{href:o,rel:"nofollow",children:o})},{label:"Terms of service",value:d&&(0,n.jsx)(e7.A,{href:d,rel:"nofollow",children:d})},{label:"Privacy policy",value:c&&(0,n.jsx)(e7.A,{href:c,rel:"nofollow",children:c})},{label:"Support URL",value:m&&(0,n.jsx)(e7.A,{href:m,rel:"nofollow",children:m})},{label:"Support email",value:u&&(0,n.jsx)(e7.A,{href:`mailto:${u}`,children:u})},{label:"Publisher 2FA Required",value:p&&(0,n.jsx)(n.Fragment,{children:p})}];return(0,n.jsx)("div",{"data-testid":"publisher-info",children:(0,n.jsx)(tm,{items:g})})}try{tu.displayName||(tu.displayName="PublisherInfo")}catch{}var tp=t(56221);function th({permissionsData:e}){let a=e.some(e=>"repository"===e.scope),t=[];for(let a of e){let{scope:e,permissionLevel:s,values:r}=a;t.push({scope:e,permissionLevel:s,values:r,id:`${e}-${s}`})}return t.push({scope:"user",permissionLevel:"read",values:["public repositories","public organization information","public user profile data"],id:"public-read"}),(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"permissions-info",children:[(0,n.jsx)(tp.b,{data:t,columns:[{header:"Scope",id:"scope",renderCell:e=>(0,n.jsx)(ay.A,{size:"small",weight:"semibold",children:"single file"===e.scope?"Repository":a3(e.scope)})},{header:"Description",id:"description",renderCell:e=>(0,n.jsxs)(n.Fragment,{children:["read"===e.permissionLevel?(0,n.jsx)(ay.A,{weight:"semibold",children:"Read"}):"write"===e.permissionLevel?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ay.A,{weight:"semibold",children:"Read"}),"\xa0and\xa0",(0,n.jsx)(ay.A,{weight:"semibold",children:"write"})]}):(0,n.jsx)(ay.A,{weight:"semibold",children:"Admin"}),"single file"===e.scope?(0,n.jsxs)(n.Fragment,{children:["\xa0access to files located at\xa0",e.values.map((a,t)=>(0,n.jsxs)(m.Fragment,{children:[(0,n.jsx)("code",{children:a}),t<e.values.length-1&&(0,n.jsx)(n.Fragment,{children:",\xa0"})]},a))]}):(0,n.jsxs)(n.Fragment,{children:["\xa0access to ",a2(e.values)]})]})}]}),a&&(0,n.jsx)(ay.A,{size:"small",className:"fgColor-muted",children:"Repository permissions can be granted for all or selected repositories owned by the installing account."})]})}try{th.displayName||(th.displayName="PermissionsInfo")}catch{}function tg(){return(0,n.jsx)(a6.l,{"data-testid":"scopes-info",title:"Info",hideTitle:!0,description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ay.A,{weight:"semibold",children:"Note:"})," OAuth Apps use scopes to grant access based on your current user permissions. You can view the specific scopes being requested before completing authorization. Scopes requested may change over time and depending on which resources you have access to. GitHub Apps use fixed, granular controls set at installation time."," ",(0,n.jsx)(e7.A,{inline:!0,href:"https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/differences-between-github-apps-and-oauth-apps",children:"Learn more about OAuth and GitHub Apps"}),"."]})})}try{tg.displayName||(tg.displayName="ScopesInfo")}catch{}function ty(e){let{isAiHighRisk:a,llmsInUse:t,thirdPartyServices:s,repositoryVisibility:r,repositoryUrl:i,transparencyDisclosure:l,copilotApp:o}=e,d=[{label:"Indemnity Status",value:o&&"Not covered by Microsoft's indemnity policy. All other Copilot features retain indemnity coverage."},{label:"Classified as high risk by EU AI Act",value:a&&(0,n.jsx)(n.Fragment,{children:a})},{label:"Models used",value:t&&(0,n.jsx)(n.Fragment,{children:t})},{label:"Third party services used",value:s&&(0,n.jsx)(n.Fragment,{children:s})},{label:"Repository visibility",value:r&&(0,n.jsx)(n.Fragment,{children:a3(r)})},{label:"Repository URL",value:i&&(0,n.jsx)(e7.A,{href:i,children:i})},{label:"Disclosures",value:l&&(0,n.jsx)(eq.oG,{className:"text-small markdown-body my-1",html:l})}];return(0,n.jsxs)(ac.B,{gap:"normal","data-testid":"security-compliance-info",children:[(0,n.jsx)(tm,{items:d}),(0,n.jsx)(a6.l,{title:"Info",hideTitle:!0,description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ay.A,{weight:"semibold",children:"Note:"})," Security & Compliance information is self-attested by the publisher. Only the Publisher and Permissions information is verified by GitHub. Make sure to conduct your own security reviews."]})})]})}try{ty.displayName||(ty.displayName="SecurityAndComplianceInfo")}catch{}var tf=t(40961);function tx({message:e,variant:a,onDismiss:t}){let s=document.getElementById("js-flash-container");return s?(0,tf.createPortal)((0,n.jsx)(a6.l,{title:"title",hideTitle:!0,variant:a,onDismiss:t,children:e}),s):null}try{tx.displayName||(tx.displayName="BannerPortal")}catch{}function tj({app:e}){let[a,t]=(0,m.useState)(!1),[s,r]=(0,m.useState)(!1),[i,l]=(0,m.useState)(""),o=()=>{l("An error occurred while exporting the CSV."),r(!0)},d=async a=>{a.preventDefault(),t(!0);try{let a=await (0,p.DI)(`/marketplace/${e.slug}/transparency_report_exports`,{method:"POST",headers:{Accept:"text/csv"}});if(a.ok){let t=await a.blob(),s=document.createElement("a"),r=URL.createObjectURL(t);s.href=r,s.download=`${e.slug}-transparency-report.csv`,s.click(),s.remove(),URL.revokeObjectURL(r)}else o()}catch{o()}finally{t(!1)}};return(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(tx,{message:i,variant:"critical",onDismiss:()=>r(!1)}),(0,n.jsx)("form",{onSubmit:d,children:(0,n.jsx)(eL.Q,{loading:a,disabled:a,type:"submit",leadingVisual:eg.FileIcon,children:"Export CSV"})})]})}try{tj.displayName||(tj.displayName="ExportButton")}catch{}function tv({app:e,permissionsData:a}){let{isAiHighRisk:t,llmsInUse:s,thirdPartyServices:r,repositoryVisibility:i,repositoryUrl:l,transparencyDisclosure:o,copilotApp:d}=e,c={isAiHighRisk:t,llmsInUse:s,thirdPartyServices:r,repositoryVisibility:i,repositoryUrl:l,transparencyDisclosure:o,copilotApp:d},m=Object.values(c).some(e=>e),u=(0,em.u)("marketplace_transparency_exports"),p=[{title:"1. Publisher",content:(0,n.jsx)(tu,{app:e}),defaultOpen:!0},{title:"2. Permissions",content:"Integration"===e.listableType?(0,n.jsx)(th,{permissionsData:a}):(0,n.jsx)(tg,{}),defaultOpen:!1},{title:"3. Security & Compliance",content:m&&(0,n.jsx)(ty,{...c}),defaultOpen:!1}];return(0,n.jsxs)("div",{"data-testid":"transparency-section",children:[(0,n.jsxs)(ac.B,{className:"pb-3",gap:"condensed",direction:{narrow:"vertical",regular:"horizontal"},align:{narrow:"start",regular:"center"},justify:"space-between",children:[(0,n.jsx)(eG.A,{as:"h2",variant:"medium",children:"Transparency and security"}),u&&(0,n.jsx)(tj,{app:e})]}),p.map(e=>e.content&&(0,n.jsx)(td,{title:e.title,defaultOpen:e.defaultOpen,children:e.content},e.title)),(0,n.jsx)("div",{className:"border-top color-border-muted pt-3",children:(0,n.jsxs)(ay.A,{size:"small",className:"fgColor-muted",children:["For more information on the terms of service on the GitHub Marketplace, please visit the"," ",(0,n.jsx)(e7.A,{inline:!0,href:"https://docs.github.com/en/site-policy/github-terms/github-marketplace-developer-agreement",children:"Marketplace Developer Agreement"}),"."]})})]})}try{tv.displayName||(tv.displayName="TransparencySection")}catch{}function tb(e){let{linkItems:a,dangerItems:t}=e;return(0,n.jsxs)(e2.l,{variant:"full",style:{marginLeft:"-6px"},children:[a.map(e=>{let a=e.component;return e.url&&(0,n.jsxs)(e2.l.LinkItem,{href:e.url,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(a,{size:16})}),e.text,(0,n.jsx)(e2.l.TrailingVisual,{children:e.trailingVisual})]},e.text)}),t&&t.map(e=>{let a=e.component;return e.onSelect&&(0,n.jsxs)(e2.l.Item,{onSelect:e.onSelect,variant:"danger",children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(a,{size:16})}),e.text]},e.text)})]})}try{tb.displayName||(tb.displayName="ResourceList")}catch{}function tN({app:e}){let[a]=(0,ak.I)(()=>{let a=aC.fV?.origin;if(!a)return;let t=`${a}/marketplace/${e.slug}`;return(0,ai.YPg)({report:`${t} (Marketplace Listing)`})},void 0,[aC.fV?.origin,e.slug]),t=(0,m.useMemo)(()=>[{url:e.supportUrl||e.supportEmail&&`mailto:${e.supportEmail}`,component:eg.CommentDiscussionIcon,text:"Support"},{url:e.pricingUrl,component:eg.TagIcon,text:"Pricing"},{url:e.repositoryUrl,component:eg.RepoIcon,text:"Repository"},{url:e.documentationUrl,component:eg.BookIcon,text:"Documentation"},{url:e.privacyPolicyUrl,component:eg.LawIcon,text:"Privacy Policy"},{url:e.tosUrl,component:eg.LawIcon,text:"Terms of Service"},{url:e.statusUrl,component:eg.PulseIcon,text:"Status"},{url:a,component:eg.ReportIcon,text:"Report abuse"}],[e,a]);return(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"apps-resources",children:[(0,n.jsx)(aj,{title:"Resources",htmlTag:"h2"}),(0,n.jsx)(tb,{linkItems:t})]})}try{tN.displayName||(tN.displayName="Resources")}catch{}function t_({supportedLanguages:e}){return e.length?(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"languages",children:[(0,n.jsx)(aj,{title:"Supported languages",htmlTag:"h2",count:e?.length}),(0,n.jsx)("span",{children:a2(e)})]}):null}try{t_.displayName||(t_.displayName="Languages")}catch{}var tw=t(84976);function tS(e){let a;let{app:t,screenshots:s,planInfo:r,supportedLanguages:i,permissionsData:l}=e,o=(0,au.tv)({regular:!0},!1),d=(0,em.u)("marketplace_show_transparency_info"),c=(0,em.u)("marketplace_free_install"),m=c&&t.copilotApp&&o,u=r.plans.find(e=>e.id===r.selectedPlanId),[p]=(0,tw.ok)(),h="transparency"===p.get("tab")?"transparency":"readme",g=(0,n.jsxs)(ac.B,{gap:"normal","data-testid":"readme-content",children:[t.fullDescription&&(0,n.jsx)(eq.oG,{className:"markdown-body",html:t.fullDescription}),t.extendedDescription&&(0,n.jsx)(eq.oG,{className:"markdown-body",html:t.extendedDescription}),(0,n.jsx)(a9,{screenshots:s})]});return a="transparency"===h?(0,n.jsx)(tv,{app:t,permissionsData:l}):g,(0,n.jsxs)(ac.B,{gap:"spacious",children:[m&&(0,n.jsx)(a8,{planInfo:r}),d?(0,n.jsxs)("div",{className:`${eX["marketplace-content-container"]} ${eX["marketplace-content-container--no-padding"]}`,children:[(0,n.jsxs)(ez.O,{"aria-label":"Select a tab",children:[(0,n.jsx)(ez.O.Item,{icon:eg.BookIcon,as:tw.N_,to:"?tab=readme","aria-current":"readme"===h?"page":void 0,children:"README"}),(0,n.jsx)(ez.O.Item,{icon:eg.LogIcon,as:tw.N_,to:"?tab=transparency","aria-current":"transparency"===h?"page":void 0,children:"Transparency"})]}),(0,n.jsx)("div",{className:eX["marketplace-content-container__content"],children:a})]}):(0,n.jsx)("div",{"data-testid":"markdown-body",className:eX["marketplace-content-container"],children:g}),t.copilotApp&&(0,n.jsx)(ts,{}),(0,n.jsxs)(ac.B,{className:"d-md-none",children:[(0,n.jsx)(t_,{supportedLanguages:i}),(0,n.jsx)(tN,{app:t})]}),c&&t.copilotApp?(0,n.jsx)(tl,{planInfo:r,plan:u,listing:t}):(0,n.jsx)(to,{listing:t,planInfo:r})]})}try{tS.displayName||(tS.displayName="Body")}catch{}function tk({app:e,supportedLanguages:a,planInfo:t}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(av,{app:e,sidebar:!0}),(0,n.jsx)(a0,{isVerifiedOwner:e.isVerifiedOwner,pageType:"apps"}),(0,n.jsx)(a5,{tags:e.categories,type:"apps"}),(0,n.jsx)(a4,{planInfo:t,isCopilotApp:e.copilotApp}),(0,n.jsx)(a1,{isCopilotApp:e.copilotApp}),(0,n.jsx)(t_,{supportedLanguages:a}),(0,n.jsx)(tN,{app:e})]})}try{tk.displayName||(tk.displayName="Sidebar")}catch{}function tC(){let{listing:e,planInfo:a,userCanEdit:t,screenshots:s,supportedLanguages:r,permissionsData:i}=(0,l.B)();return(0,n.jsx)(am,{header:(0,n.jsx)(a7,{app:e,planInfo:a,userCanEdit:t}),body:(0,n.jsx)(tS,{app:e,screenshots:s,planInfo:a,supportedLanguages:r,permissionsData:i}),sidebar:(0,n.jsx)(tk,{app:e,planInfo:a,supportedLanguages:r})})}try{tC.displayName||(tC.displayName="ShowApp")}catch{}function tI(e){let{action:a,repository:t,sidebar:s,releaseData:r}=e,{description:i,isVerifiedOwner:l}=a,{isOrganization:o,owner:d}=t,{selectedRelease:c,latestRelease:m}=r,u=c||m;return(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"about",children:[s&&(0,n.jsx)(aj,{title:"About",htmlTag:"h2"}),i&&(0,n.jsx)("span",{children:i}),(0,n.jsxs)(ac.B,{gap:"condensed",direction:"horizontal",children:[(0,n.jsx)(eg.TagIcon,{className:eX["marketplace-version-icon"]}),(0,n.jsx)("div",{className:"min-width-0",children:(0,n.jsxs)(ac.B,{gap:"condensed",direction:"horizontal",children:[(0,n.jsx)(aU.A,{inline:!0,title:u.tagName,maxWidth:"none",children:(0,n.jsx)("span",{children:u.tagName})}),u.tagName===m.tagName&&(0,n.jsx)(eV.A,{variant:"success",className:"flex-shrink-0",children:"Latest"}),u.isPrerelease&&(0,n.jsx)(eV.A,{variant:"severe",className:"flex-shrink-0",children:"Pre-release"})]})})]}),(0,n.jsxs)(ac.B,{wrap:"wrap",direction:"horizontal",gap:"condensed",children:[d&&(0,n.jsx)("div",{className:"color-fg-muted pr-1",children:(0,n.jsxs)(n.Fragment,{children:["By ",(0,n.jsx)(e7.A,{href:(0,ai.p3r)({owner:d}),"data-hovercard-type":o?"organization":"user","data-hovercard-url":o?(0,ai.qsO)({owner:d}):(0,ai.dCN)({owner:d}),children:d})]})}),l&&!s&&(0,n.jsxs)("div",{children:[(0,n.jsx)(eg.VerifiedIcon,{size:16,className:"fgColor-accent","aria-label":"Manually verified"}),(0,n.jsx)("span",{className:"ml-2",children:"Verified creator"})]})]})]})}try{tI.displayName||(tI.displayName="About")}catch{}function tA(e){let{action:a,selectedRelease:t,latestRelease:s}=e,{slug:r}=a,i=t&&t.tagName!==s.tagName;return(0,n.jsx)(n.Fragment,{children:i&&r&&(0,n.jsx)(a6.l,{variant:"warning",hideTitle:!0,title:"Warning",description:(0,n.jsxs)(n.Fragment,{children:["You're viewing an older version of this GitHub Action. Do you want to see the"," ",(0,n.jsx)(e7.A,{href:(0,ai.xwZ)({slug:r}),inline:!0,children:"latest version"})," ","instead?"]})})})}try{tA.displayName||(tA.displayName="ReleaseBanner")}catch{}var tP=t(91321),tT=t(26514);function tE(e){let{action:a,repository:t,isOpen:s,onClose:r,selectedRelease:i,latestRelease:l}=e,{externalUsesPathPrefix:o}=a,d=i?i.tagName:l.tagName,c=`${o}${d}`,m=`- name: ${a.name}
  uses: ${c}`;return(0,n.jsx)(n.Fragment,{children:s&&(0,n.jsxs)(eO.l,{onClose:r,title:(0,n.jsxs)(ac.B,{direction:"horizontal",align:"center",children:[(0,n.jsx)(eQ,{listing:a,additionalDivClasses:e$["marketplace-logo--dialog"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(eG.A,{as:"h3",variant:"small",className:"lh-condensed",children:a.name}),a.description&&(0,n.jsx)(ay.A,{as:"p",size:"medium",weight:"normal",className:"color-fg-muted m-0 lh-condensed",children:a.description})]})]}),children:[(0,n.jsx)(eG.A,{as:"h2",className:"h6","data-testid":"code-snippet-dialog",children:"Installation"}),(0,n.jsxs)("p",{className:"text-small color-fg-muted",children:["Copy and paste the following snippet into your ",(0,n.jsx)("span",{className:"text-mono",children:".yml"})," file."]}),(0,n.jsxs)("div",{className:"copyable-terminal mb-2",children:[(0,n.jsx)("div",{className:"copyable-terminal-button",children:(0,n.jsx)(tT.T,{textToCopy:m,ariaLabel:"Copy to clipboard"})}),(0,n.jsxs)("pre",{className:`${eX["copyable-code-snippet"]}`,children:[(0,n.jsxs)("p",{children:["- name: ",a.name]}),(0,n.jsxs)("p",{children:["\xa0\xa0uses: ",c]})]})]}),t.owner&&t.name&&(0,n.jsxs)(e7.A,{href:(0,ai.SHX)({owner:t.owner,repo:t.name}),className:"text-small",children:["Learn more about this action in"," ",(0,n.jsxs)("strong",{children:[t.owner,"/",t.name]})]})]})})}try{tE.displayName||(tE.displayName="CodeSnippet")}catch{}var tM=t(17774);function tR(e){let{action:a,selectedRelease:t,releases:s,isOpen:r,onClose:i}=e;return(0,n.jsx)(n.Fragment,{children:r&&(0,n.jsx)(eO.l,{title:"Choose a version",width:"large",onClose:i,children:(0,n.jsx)(e2.l,{showDividers:!0,variant:"full","data-testid":"version-picker-dialog",children:s.map(e=>{let s=t&&e.tagName===t.tagName;return(0,n.jsxs)(e2.l.LinkItem,{as:tM.N,to:`${(0,ai.xwZ)({slug:a.slug||""})}?version=${e.tagName}`,active:s,"data-testid":s?"selected-version":"",onClick:i,children:[(0,n.jsx)("span",{className:"text-semibold",children:e.tagName}),e.name&&e.name!==e.tagName&&(0,n.jsx)(e2.l.Description,{variant:"block",children:e.name})]},e.tagName)})})})})}try{tR.displayName||(tR.displayName="VersionPicker")}catch{}function tL(e){let{releaseData:a,action:t,repository:s}=e,{selectedRelease:r,latestRelease:i,releases:l}=a,[o,d]=(0,m.useState)(!1),c=(0,m.useCallback)(()=>d(!1),[]),[u,p]=(0,m.useState)(!1),h=(0,m.useCallback)(()=>p(!1),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(tP.A,{className:eX.ButtonGroup,children:[(0,n.jsxs)(eL.Q,{variant:"primary",onClick:()=>{d(!o),(0,eH.BI)("marketplace.action.click",{repository_action_id:t.globalRelayId,source_url:`${window.location}`,location:"actions#show"})},block:!0,children:["Use ",r?r.tagName:"latest version"]}),(0,n.jsx)(aX.K,{variant:"primary",onClick:()=>p(!u),"aria-label":"Choose a version",icon:eg.TriangleDownIcon})]}),(0,n.jsx)(tE,{action:t,repository:s,isOpen:o,onClose:c,selectedRelease:r,latestRelease:i}),(0,n.jsx)(tR,{action:t,selectedRelease:r,releases:l,isOpen:u,onClose:h})]})}try{tL.displayName||(tL.displayName="VersionButton")}catch{}var tO=t(42522);function tD(e){let{repository:a,action:t,loggedIn:s,starData:r,...i}=e,{starredByCurrentUser:l,currentUserAbleToStar:o,currentUserEnterpriseName:d}=r,c=d?`You cannot star repositories outside of your enterprise ${d}`:"You can't star at this time",[u,h]=(0,m.useState)(t.stars),[g,y]=(0,m.useState)(l),f=(0,m.useCallback)(()=>(0,p.DI)(`${(0,ai.SHX)({owner:a.owner||"",repo:a.name||""})}/star`,{method:"POST"}),[a.name,a.owner]),x=(0,m.useCallback)(()=>(0,p.DI)(`${(0,ai.SHX)({owner:a.owner||"",repo:a.name||""})}/unstar`,{method:"POST"}),[a.name,a.owner]),j=(0,m.useMemo)(()=>u>=1e3?new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(u):u.toString(),[u]),v=(0,m.useCallback)(async()=>{let e=g?"UNSTAR_BUTTON":"STAR_BUTTON";(0,eH.BI)("repository.click",{target:e,repository_id:a.id});let t=g?x:f;if(y(!g),!(await t()).ok){y(g);return}g?h(u-1):h(u+1)},[g,f,x,u,a.id]);return a.owner&&a.name&&t.slug?s&&(o||g)?(0,n.jsxs)(eL.Q,{onClick:v,leadingVisual:g?(0,n.jsx)(eg.StarFillIcon,{className:g?`${eX["starred-button-icon"]}`:""}):eg.StarIcon,"aria-label":g?`Unstar this repository (${j})`:`Star this repository (${j})`,"data-testid":"star-button",...i,children:[g?"Starred":"Star",(0,n.jsx)(af.A,{className:"ml-2",children:j})]}):s?(0,n.jsx)(tO.m,{text:c,children:(0,n.jsxs)(eL.Q,{inactive:!0,leadingVisual:eg.StarIcon,"data-testid":"star-button",...i,children:["Star",(0,n.jsx)(af.A,{className:"ml-2",children:j})]})}):(0,n.jsx)(tO.m,{text:"You must be signed in to star a repository",children:(0,n.jsxs)(eL.Q,{as:"a",leadingVisual:eg.StarIcon,href:`/login?return_to=${encodeURIComponent((0,ai.xwZ)({slug:t.slug||""}))}`,onClick:()=>(0,eH.BI)("authentication.click",{location_in_page:"star button",repository_id:a.id,auth_type:"LOG_IN"}),"data-testid":"star-button",...i,children:["Star",(0,n.jsx)(af.A,{className:"ml-2",children:j})]})}):null}try{tD.displayName||(tD.displayName="StarButton")}catch{}function tF(e){let{action:a,repository:t,releaseData:s,loggedIn:r,starData:i}=e,{selectedRelease:l,latestRelease:o}=s,{isVerifiedOwner:d}=a;return(0,n.jsx)(ag,{listing:a,banner:(0,n.jsx)(tA,{selectedRelease:l,latestRelease:o,action:a}),listingDetails:(0,n.jsx)(tI,{action:a,repository:t,releaseData:s}),additionalDetails:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a5,{tags:a.categories,type:"actions"}),(0,n.jsx)(a0,{isVerifiedOwner:d,pageType:"actions"})]}),callToAction:(0,n.jsxs)(ac.B,{gap:"condensed",direction:{narrow:"vertical",regular:"horizontal"},className:"width-full width-md-auto",children:[(0,n.jsx)(tD,{repository:t,action:a,loggedIn:r,starData:i}),(0,n.jsx)(tL,{releaseData:s,action:a,repository:t})]})})}try{tF.displayName||(tF.displayName="Header")}catch{}function tB(e){let{repository:a}=e,{contributorsCount:t,topContributorsData:s,owner:r,name:i}=a,l=t-s.length;return(0,n.jsx)(n.Fragment,{children:t>0&&r&&i&&(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"contributors",children:[(0,n.jsx)(aj,{title:"Contributors",count:t,htmlTag:"h2",link:(0,ai.e87)({ownerLogin:r,name:i})}),(0,n.jsx)(ac.B,{direction:"horizontal",gap:"condensed",wrap:"wrap",children:s.map(e=>(0,n.jsx)(e7.A,{href:(0,ai.p3r)({owner:e.displayLogin}),children:(0,n.jsx)(a$.r,{src:e.src,alt:e.alt,size:32,"data-hovercard-type":"user","data-hovercard-url":(0,ai.dCN)({owner:e.displayLogin})})},e.alt))}),l>0&&(0,n.jsxs)(e7.A,{href:(0,ai.e87)({ownerLogin:r,name:i}),children:["+ ",l," contributors"]})]})})}try{tB.displayName||(tB.displayName="Contributors")}catch{}var t$=t(53526);function tU(e){let{action:a,repoAdminableByViewer:t,isDialogOpen:s,onDialogClose:r}=e,i=(0,aE.H)((0,ai.xwZ)({slug:a.slug??""}),"delete"),l=(0,m.useRef)(null),o=(0,m.useCallback)(()=>{l.current&&((0,eH.BI)("marketplace.action.delist",{repository_action_id:a.globalRelayId,source_url:`${window.location}`,location:"actions#show"}),l.current.submit())},[a.globalRelayId]);return t&&a.slug&&(0,n.jsxs)("form",{ref:l,"data-turbo":"false",action:(0,ai.xwZ)({slug:a.slug}),method:"post","data-testid":"delist-form",className:"d-none",children:[(0,n.jsx)("input",{type:"hidden",name:"_method",value:"delete",autoComplete:"off","data-testid":"hidden-delete"}),(0,n.jsx)("input",{type:"hidden",name:"authenticity_token",value:i,"data-testid":"hidden-authenticity-token"}),s&&(0,n.jsx)(t$.K,{title:"Delist action?",onClose:e=>"confirm"===e?o():r(),confirmButtonContent:"Delist action",confirmButtonType:"danger",children:"Are you sure you want to delist this action from the Marketplace? Note: It will still be installable as long as the repository is public."})]})}try{tU.displayName||(tU.displayName="DelistForm")}catch{}function tG(e){let{repository:a,action:t,repoAdminableByViewer:s}=e,{name:r,owner:i,hasSecurityPolicy:l,isDiscussionsActive:o,hasIssues:d,openIssuesCount:c,openPullRequestsCount:u}=a,[p,h]=(0,m.useState)(!1),g=()=>{h(!0)},y=(0,m.useMemo)(()=>[{url:o&&i&&r?(0,ai.p01)({owner:i,repo:r}):void 0,component:eg.CommentDiscussionIcon,text:"Start a discussion"},{url:d&&i&&r?(0,ai.YQF)(i,r):void 0,component:eg.IssueOpenedIcon,text:"Open an issue",trailingVisual:(0,n.jsx)(af.A,{children:c})},{url:i&&r?(0,ai.Blz)(i,r):void 0,component:eg.GitPullRequestIcon,text:"Pull requests",trailingVisual:(0,n.jsx)(af.A,{children:u})},{url:i&&r?(0,ai.SHX)({owner:i,repo:r}):void 0,component:eg.RepoIcon,text:"View source code"},{url:l&&i&&r?`${(0,ai.SHX)({owner:i,repo:r})}#security-ov-file`:void 0,component:eg.LawIcon,text:"Security policy"},{url:(0,ai.YPg)({report:`${t.name} (GitHub Action)`}),component:eg.ReportIcon,text:"Report abuse"}],[t.name,d,l,o,r,c,u,i]),f=(0,m.useMemo)(()=>[{onSelect:s&&t.slug?()=>g():void 0,component:eg.EyeClosedIcon,text:"Delist action"}],[t.slug,s]);return(0,n.jsxs)(ac.B,{gap:"condensed","data-testid":"resources",children:[(0,n.jsx)(aj,{title:"Resources",htmlTag:"h2"}),(0,n.jsx)(tb,{linkItems:y,dangerItems:f}),(0,n.jsx)(tU,{action:t,repoAdminableByViewer:s,isDialogOpen:p,onDialogClose:()=>{h(!1)}})]})}try{tG.displayName||(tG.displayName="Resources")}catch{}function tz(e){let{isThirdParty:a,name:t}=e;return(0,n.jsx)(n.Fragment,{children:a&&t&&(0,n.jsxs)("p",{className:"note m-0","data-testid":"third-party-statement",children:[(0,n.jsx)("strong",{children:t})," is not certified by GitHub. It is provided by a third-party and is governed by separate terms of service, privacy policy, and support documentation."]})})}try{tz.displayName||(tz.displayName="ThirdPartyStatement")}catch{}function tV(e){let{readmeHtml:a,helpUrl:t,repository:s,action:r,repoAdminableByViewer:i}=e;return(0,n.jsxs)(ac.B,{gap:"normal",children:[a?(0,n.jsx)("div",{"data-testid":"markdown-body",className:eX["marketplace-content-container"],children:(0,n.jsx)(eq.oG,{html:a,className:"markdown-body"})}):(0,n.jsxs)(e0.A,{spacious:!0,children:[(0,n.jsx)(e0.A.Heading,{children:"No description"}),(0,n.jsxs)(e0.A.Description,{children:["This GitHub Action has no README in the repository. If"," ",(0,n.jsx)("a",{className:"Link--inTextBlock",href:t,children:"one is added"}),", it will appear here."]})]}),(0,n.jsxs)(ac.B,{className:"d-md-none",children:[(0,n.jsx)(tB,{repository:s}),(0,n.jsx)(tG,{repository:s,action:r,repoAdminableByViewer:i}),(0,n.jsx)("div",{className:"border-top color-border-muted pt-3",children:(0,n.jsx)(tz,{isThirdParty:s.isThirdParty,name:r.name})})]})]})}try{tV.displayName||(tV.displayName="Body")}catch{}function tH(e){let{action:a,repository:t,releaseData:s,repoAdminableByViewer:r}=e,{isVerifiedOwner:i,categories:l}=a,{isThirdParty:o}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tI,{action:a,repository:t,releaseData:s,sidebar:!0}),(0,n.jsx)(a0,{isVerifiedOwner:i,pageType:"actions"}),(0,n.jsx)(a5,{tags:l,type:"actions"}),(0,n.jsx)(tB,{repository:t}),(0,n.jsx)(tG,{repository:t,action:a,repoAdminableByViewer:r}),(0,n.jsx)("div",{className:"border-top color-border-muted pt-4",children:(0,n.jsx)(tz,{isThirdParty:o,name:a.name})})]})}try{tH.displayName||(tH.displayName="Sidebar")}catch{}function tW(){let{action:e,readmeHtml:a,helpUrl:t,repository:s,releaseData:r,repoAdminableByViewer:i,loggedIn:o,starData:d}=(0,l.B)();return(0,n.jsx)(am,{header:(0,n.jsx)(tF,{action:e,repository:s,releaseData:r,loggedIn:o,starData:d}),body:(0,n.jsx)(tV,{readmeHtml:a,helpUrl:t,repository:s,action:e,repoAdminableByViewer:i}),sidebar:(0,n.jsx)(tH,{action:e,repository:s,releaseData:r,repoAdminableByViewer:i})})}try{tW.displayName||(tW.displayName="ShowAction")}catch{}var tq=t(62064),tK=t(38568),tQ=t(51856),tY=t(23843),tJ=t(89790),tX=t(11561);let tZ=(0,m.createContext)(null);function t0(){let e=(0,m.useContext)(tZ);return(0,tX.A)(e,"usePlaygroundManager must be used within a PlaygroundManagerProvider"),e}let t1=({manager:e,children:a})=>(0,n.jsx)(tZ.Provider,{value:e,children:a});try{tZ.displayName||(tZ.displayName="PlaygroundManagerContext")}catch{}try{t1.displayName||(t1.displayName="PlaygroundManagerProvider")}catch{}let t2=()=>({syncInputs:!1,models:[]}),t3=(0,m.createContext)(t2());function t4(){return(0,m.useContext)(t3)}let t5=({children:e,state:a})=>(0,n.jsx)(t3.Provider,{value:a,children:e});try{t3.displayName||(t3.displayName="PlaygroundStateContext")}catch{}try{t5.displayName||(t5.displayName="PlaygroundStateProvider")}catch{}var t6=t(70404);let t8=0;function t7(){return String(++t8)}let t9=new EventTarget,se=m.createContext(null);function sa(e){let a=e.attachLimit??1,t=m.useMemo(()=>e.acceptedMIME?.split(",")??["image/*"],[e.acceptedMIME]),s=m.useMemo(()=>t.map(e=>new RegExp(e.replace(/\*/g,".*"))),[t]),r=m.useMemo(()=>e.fileSizeLimit??1048576,[e.fileSizeLimit]),[i,l]=m.useReducer((e,t)=>{switch(t.type){case"new_files":{if(0===t.files.length)return e;let n=t.files.map(e=>e.file).filter(e=>s.some(a=>e.type.match(a)));if(0===n.length)return{errorMessage:"Sorry, it look's like that file was not supported.",attachments:[]};if(n.some(e=>e.size>r))return{errorMessage:`Sorry, we only support files up to ${r>=1048576?`${(r/1048576).toFixed(2)}MB`:`${Math.round(r/1024)}KB`}.`,attachments:[]};if(n.length>a)return{errorMessage:`Sorry, only up to ${a} file${a>1?"s":""} per message are supported.`,attachments:[]};return{attachments:t.files}}case"remove":return{attachments:e.attachments.filter(e=>e!==t.attachment)};default:return{attachments:[]}}},{attachments:[]}),o=function(e,a,t=!0){let[s]=m.useState(t7),r=m.useRef(a);return r.current!==a&&(r.current=a),m.useLayoutEffect(()=>{if(!t)return;let a=new AbortController;for(let n of Object.keys(r.current))e.addEventListener(n,function(e){if(!t||((0,tX.A)(e instanceof CustomEvent,`Expected a CustomEvent for ${n}`),!(n in r.current)))return;let{args:a,source:i}=e.detail;if(i!==s)return r.current[n](...a)},{signal:a.signal});return()=>a.abort()},[e,s,t]),m.useMemo(()=>{let t={};for(let n of Object.keys(a))t[n]=function(...a){n in r.current&&(r.current[n](...a),e.dispatchEvent(new CustomEvent(n,{detail:{args:a,source:s}})))};return t},[r,s,e])}(t9,{addFiles(e){l({type:"new_files",files:e})},remove(e){l({type:"remove",attachment:e})},reset(){l({type:"reset"})}},e.subscribed),d=m.useMemo(()=>[{attachments:i.attachments,errorMessage:i.errorMessage,attachLimit:a,acceptedMIME:t},o],[i,o,a,t]);return(0,n.jsx)(se.Provider,{value:d,children:e.children})}function st(){let e=m.useContext(se);return(0,tX.A)(e,"Expected a AttachmentsProvider"),e}try{sa.displayName||(sa.displayName="AttachmentsProvider")}catch{}var ss=t(57712);function sr(e,a){var t=function(e,a,t){if(!a.has(e))throw TypeError("attempted to get private field on non-instance");return a.get(e)}(e,a,0);return t.get?t.get.call(e):t.value}function sn(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var si=new WeakMap;let Base64FileAttachment=class Base64FileAttachment{prefetch(){return sr(this,si).load()}get previewUrl(){return sr(this,si).read()}url(){return sr(this,si).load()}constructor(e){sn(this,"file",void 0),sn(this,"key",globalThis.crypto.randomUUID()),function(e,a,t){(function(e,a){if(a.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,a),a.set(e,t)}(this,si,{writable:!0,value:(0,ss.Z)(async()=>new Promise((e,a)=>{let t=new FileReader;t.onload=()=>{e(t.result)},t.onerror=a,t.readAsDataURL(this.file)}))}),this.file=e}};var sl=t(54807);function so(e,a,t){if(!a.has(e))throw TypeError("attempted to "+t+" private field on non-instance");return a.get(e)}function sd(e,a){var t=so(e,a,"get");return t.get?t.get.call(e):t.value}function sc(e,a,t){!function(e,a){if(a.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,a),a.set(e,t)}function sm(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var su=new WeakMap,sp=new WeakMap;let UploadableFileAttachment=class UploadableFileAttachment{prefetch(){return sd(this,sp).load()}get previewUrl(){return sd(this,sp).read().href}async url(){let e=await sd(this,sp).load(),a=await (0,p.DI)(e.href);return(await a.json()).url}constructor(e,a=new AbortController().signal){sm(this,"file",void 0),sc(this,su,{writable:!0,value:void 0}),sm(this,"key",globalThis.crypto.randomUUID()),sc(this,sp,{writable:!0,value:(0,ss.Z)(async()=>{let e=await (0,sl.BV)({name:this.file.name,size:String(this.file.size),content_type:this.file.type},"/upload/policies/models-attachments",sd(this,su));return await (0,sl.QM)(this.file,e,sd(this,su)),(0,sl.My)(e,sd(this,su))})}),this.file=e,function(e,a,t){var s=so(e,a,"set");!function(e,a,t){if(a.set)a.set.call(e,t);else{if(!a.writable)throw TypeError("attempted to set read only private field");a.value=t}}(e,s,t)}(this,su,a)}};function sh(){let e=(0,em.u)("github_models_uploadable_attachments"),a=m.useRef();return m.useEffect(()=>()=>{a.current?.abort()},[]),m.useCallback(t=>{let s;let r=a.current||(a.current=new AbortController);return e&&(s=new UploadableFileAttachment(t,r.signal)),s||(s=new Base64FileAttachment(t)),s.prefetch(),s},[e])}function sg(e){let{sendAnalyticsEvent:a}=(0,t6.s)(),[t,s]=st(),r=sh(),i=m.useRef(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{ref:i,type:"file",multiple:t.attachLimit>1,accept:t.acceptedMIME.join(","),hidden:!0,onChange:e=>{let t=Array.from(e.target.files||[]).map(r);s.addFiles(t),a("attachment.add","BUTTON",{fileCount:t.length})}}),(0,n.jsx)(tq.v,{variant:"invisible",size:"small",icon:eg.PaperclipIcon,"aria-label":"Attach an image",label:"Attach an image",tooltipDirection:"w",disabled:e.disabled,onClick:e=>{e.preventDefault(),i.current?.click()}})]})}try{sg.displayName||(sg.displayName="AttachmentButton")}catch{}function sy(e){let{sendAnalyticsEvent:a}=(0,t6.s)(),[,t]=st(),s=sh(),r=m.useRef(null);return(0,tK.N)(()=>{let n=new AbortController;return r?.current&&e.enabled&&r.current.addEventListener("file-attachment-accept",e=>{e.preventDefault(),(0,tX.A)(e.detail.attachments,"Expected attachments");let r=e.detail.attachments.map(e=>s(e.file));t.addFiles(r),a("attachment.add","DROPZONE",{fileCount:r.length})},{signal:n.signal}),e.enabled||n.abort(),()=>n.abort()},[e.enabled,t]),e.enabled?(0,n.jsx)("file-attachment",{ref:r,style:{display:"contents"},...(0,e5.G)("playground-chat-attachment-dropzone"),children:e.children}):(0,n.jsx)(n.Fragment,{children:e.children})}aC.X3||t.e("node_modules_github_file-attachment-element_dist_index_js").then(t.bind(t,91707));try{sy.displayName||(sy.displayName="AttachmentDropzone")}catch{}var sf=t(18933);function sx(e){return(0,n.jsx)("div",{style:{maxWidth:"min-content"},children:(0,n.jsx)(m.Suspense,{fallback:(0,n.jsx)(sj,{}),children:(0,n.jsxs)("div",{className:"d-flex flex-column color-bg-subtle p-2 gap-2 rounded-2",children:[(0,n.jsx)("div",{className:"d-flex rounded-2",style:{height:"100px",overflow:"clip",lineHeight:"0"},children:e.children}),(0,n.jsx)(eL.Q,{className:"fgColor-subtle",variant:"invisible",trailingVisual:eg.XIcon,"aria-label":"Remove file",onClick:e.onRemove,children:"Remove"})]})})})}function sj(){return(0,n.jsx)(sf.f,{width:"100px",height:"100px",className:"rounded-2"})}try{sx.displayName||(sx.displayName="AttachmentItem")}catch{}try{sj.displayName||(sj.displayName="Loading")}catch{}function sv(e){return(0,n.jsx)("img",{src:e.src,alt:e.alt??"attachment",style:{width:"100%",height:"100%",objectFit:"cover"}})}try{sv.displayName||(sv.displayName="AttachmentPreviewImage")}catch{}function sb(){let[e,a]=st(),t=e.attachments;return t.length||e.errorMessage?(0,n.jsxs)("div",{className:"rounded-top-2 p-3",...(0,e5.G)("playground-chat-attachment-outlet"),children:[e.errorMessage?(0,n.jsx)("span",{className:"fgColor-danger",children:e.errorMessage}):null,(0,n.jsx)("div",{className:"d-flex flex-row gap-3",children:t.map(e=>(0,n.jsx)(sx,{onRemove:()=>{a.remove(e)},children:(0,n.jsx)(sN,{attachment:e})},e.key))})]}):null}function sN(e){return(0,n.jsx)(sv,{src:e.attachment.previewUrl})}try{sb.displayName||(sb.displayName="AttachmentPreviewOutlet")}catch{}try{sN.displayName||(sN.displayName="AttachmentSlot")}catch{}let s_={root:"PlaygroundChatInput-module__root--OaLWP",input:"PlaygroundChatInput-module__input--pQD5a",textarea:"PlaygroundChatInput-module__textarea--UKRGv",form:"PlaygroundChatInput-module__form--m4SXs",formContainer:"PlaygroundChatInput-module__formContainer--cjwKo"};var sw=t(697);function sS({onClose:e,setDialogState:a,currentPrompt:t,setCurrentPrompt:s,promptSuggestionText:r,setPromptSuggestionText:i,type:l}){return(0,n.jsxs)(eO.l,{width:"large",onClose:e,title:(0,n.jsx)("div",{...(0,e5.G)("prompt-dialog"),children:"Improve prompt"}),footerButtons:[{buttonType:"default",content:"Cancel",onClick:e},{buttonType:"primary",content:"Improve prompt",disabled:0===t.length,onClick:()=>{a("confirm"),"user"===l?(0,eH.BI)(sw.aQ):(0,eH.BI)(sw.wG)}}],children:["Adjust your prompt with specific suggestions or simply click to enhance your prompt.",(0,n.jsxs)("div",{className:"py-3 d-flex flex-column gap-3",children:[(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aD.A.Label,{children:"Current prompt"}),(0,n.jsx)(tQ.Ay,{value:t,className:"width-full",onChange:e=>s(e.target.value)})]}),(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aD.A.Label,{children:"What would you like to improve? (optional)"}),(0,n.jsx)(tQ.Ay,{placeholder:"Eg: explain X for a beginner and write responses in nested bullets.",value:r,onChange:e=>i(e.target.value),className:"width-full"})]})]})]})}try{sS.displayName||(sS.displayName="ImprovePromptDialog")}catch{}let sk=(0,m.createContext)(null),sC=({modelClient:e,children:a})=>(0,n.jsx)(sk.Provider,{value:e,children:a});function sI(){let e=(0,m.useContext)(sk);return(0,tX.A)(e,"Expected a ModelClientProvider"),e}try{sk.displayName||(sk.displayName="ModelClientContext")}catch{}try{sC.displayName||(sC.displayName="ModelClientProvider")}catch{}var sA=t(88733),sP=t(80688);let sT="models:uiState",sE=(0,sP.A)("localStorage",{ttl:864e5,throwQuotaErrorsOnSet:!1}),sM={sidebarTab:sA.pH.PARAMETERS,showSidebar:!0,preferredLanguage:"js",preferredSdk:""},sR=()=>{try{let e=sE.getItem(sT);if(e){let a=JSON.parse(e);if(a)return!function(e){return"object"==typeof e&&null!==e&&["sidebarTab","showSidebar","preferredLanguage","preferredSdk"].every(a=>a in e)&&"number"==typeof e.sidebarTab&&"boolean"==typeof e.showSidebar&&"string"==typeof e.preferredLanguage&&"string"==typeof e.preferredSdk}(a)?sM:a}}catch{}return sM},sL=e=>{sE.setItem(sT,JSON.stringify(e))},sO=(e,a,t)=>{let s=sR();if(!e)return s;let r=a||s.preferredLanguage,n=e[r]?r:Object.keys(e)[0]||null,i=t||s.preferredSdk,l=null;if(n){let a=e[n];if(a){let e=Object.keys(a.sdks);l=e.includes(i)?i:e[0]||null}}return{...s,...n&&{preferredLanguage:n},...l&&{preferredSdk:l}}};var sD=t(61993);let sF="text",sB=(e,a)=>e.reduce((e,t)=>{let{key:s}=t,r=a[s],n=sG(s,sU(t,r));return[r,n].includes(void 0)?e:{...e,[s]:n}},{}),s$=(e,a)=>e?.capabilities?.systemPrompt?a:null,sU=(e,a)=>{let{type:t,min:s=-1/0,max:r=1/0,default:n=""}=e;switch(t){case"number":case"integer":return Math.max(Math.min([a,n,0].find(e=>!isNaN(parseFloat(e))),r),s);default:return a}},sG=(e,a)=>"stop"===e&&"string"==typeof a&&""===a.trim()?void 0:a,sz=(e,a)=>Object.entries(a).every(([a,t])=>e[a]===t||Array.isArray(e[a])&&0===e[a].length),sV=(e=[])=>e.reduce((e,a)=>({...e,[a.key]:a.default}),{}),sH=(e,a)=>{let t=sW(e);if(a){let{parameters:t={}}=a,s=e.modelInputSchema?.capabilities?.systemPrompt,r=String(t.system_prompt||""),n=String(t.chat_prompt||"");return sq({modelDetails:e,systemPromptOverride:s?r:"",chatInputOverride:s?n:`${r}
${n}`})}return t},sW=({catalogData:e,modelInputSchema:a,gettingStarted:t})=>({catalogData:e,modelInputSchema:a,gettingStarted:t,messages:[],isLoading:!1,systemPrompt:"",isUseIndexSelected:!1,chatInput:"",responseFormat:"text",jsonSchema:"",chatClosed:!1,parameters:sV(a?.parameters),parametersHasChanges:!1,tokenUsage:(0,sD.wd)(),usageStats:sK()}),sq=({modelDetails:e,systemPromptOverride:a="",responseFormatOverride:t="text",jsonSchemaOverride:s="",messagesOverride:r,parametersOverride:n={},chatInputOverride:i})=>{let l=sW(e),o=""!==a.trim(),d={...l.parameters,...n},c=o||!sz(d,l.parameters),m=o?a:l.systemPrompt,u=r??l.messages,p=i??l.chatInput,h=t??l.responseFormat,g=s??l.jsonSchema;return{...l,systemPrompt:m,responseFormat:h,jsonSchema:g,chatInput:p,parameters:d,parametersHasChanges:c,messages:u}},sK=()=>({lastMessageLatency:0,totalLatency:0}),sQ=(e,a)=>{let t=e?.parameters?.find(e=>"max_tokens"===e.key&&"integer"===e.type);if(!t)return;let s=a[t.key];if(s)return parseInt(s,10)},sY=e=>{let a=e.filter(e=>e.role===sA.rn);if(!(a.length<1))return new Date(Math.max(...a.map(e=>e.timestamp.getTime())))},sJ=e=>{for(let a=e.length-1;a>=0;a--)if(e[a]?.role===sA.rn)return e[a]?.message},sX=({catalogData:e,modelInputSchema:a,parameters:t,tokenUsage:s})=>{let r=e.max_output_tokens,n=sQ(a,t),{totalOutputTokens:i}=s;return null!==r&&i>=r||void 0!==n&&i>=n};var sZ=t(51015);function s0(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let s1=(e,{index:a,...t})=>({...e,models:e.models.map((e,s)=>s===a?{...e,...t}:e)});function s2(e,{type:a,payload:t}){switch(a){case"SET_IS_LOADING":case"SET_MESSAGES":case"SET_PARAMETERS":case"SET_SYSTEM_PROMPT":case"SET_IS_USE_INDEX_SELECTED":case"SET_CHAT_CLOSED":case"SET_CHAT_INPUT":case"SET_PARAMETERS_HAS_CHANGES":case"SET_RESPONSE_FORMAT":case"SET_JSON_SCHEMA":case"SET_TOKEN_USAGE":case"SET_USAGE_STATS":return s1(e,t);case"INCREMENT_TOKEN_USAGE":{let{index:a}=t,s=e.models[a];if(!s)return e;return s1(e,{index:a,tokenUsage:{...s.tokenUsage,lastMessageOutputTokens:s.tokenUsage.lastMessageOutputTokens+1}})}case"SET_MODEL_STATE":{let{index:a,modelState:s}=t;return e.models[a]?s1(e,{index:a,...s}):{...e,models:[...e.models,s]}}case"REMOVE_MODEL":return{...e,models:e.models.filter((e,a)=>a!==t.index)};case"SET_SYNC_INPUTS":return{...e,...t};default:return e}}let s3={Main:0,Side:1};let PlaygroundManager=class PlaygroundManager{setUsageStats(e,a){this.dispatch({type:"SET_USAGE_STATS",payload:{index:e,usageStats:a}})}incrementTokenUsage(e){this.dispatch({type:"INCREMENT_TOKEN_USAGE",payload:{index:e}})}async sendMessage(e,a,t,s,r=[]){let n;let{parameters:i,modelInputSchema:l={},systemPrompt:o,messages:d,catalogData:c,isUseIndexSelected:m}=a,{parameters:u=[]}=l,p=sw.t$.includes(a.catalogData.name)?sF:a.responseFormat||sF,h="json_schema"===p&&"gpt-4o"===a.catalogData.name.toLowerCase()?a.jsonSchema:void 0,g=sB(u,i);m&&(g.tools=[sZ.tD]);let y=s$(l,o),f=(0,tJ.Kh)(s,r,d,l,c);if(!f)return;let x=[...d,f,(0,tJ.qp)("")];this.setMessages(e,x),this.setIsLoading(e,!0);let j=Date.now(),v=x[x.length-1],b=v?.role==="assistant"&&v?.message===""?x.slice(0,-1):x;try{let s=t.sendMessage(e,c,x,g,y,p,h);for(;!(n=await s.next()).done;)this.setMessages(e,[...b,n.value.message]),this.incrementTokenUsage(e);this.setTokenUsage(e,(0,sD.mW)(a.tokenUsage,n.value))}catch(a){a instanceof sw.XP?(n&&n.value&&"message"in n.value&&n.value.message?this.setMessages(e,[...b,n.value.message,(0,tJ.Gy)(a.message)]):this.setMessages(e,[...b,(0,tJ.Gy)(a.message)]),a?.canRetry&&this.setChatInput(e,f.message),a?.tokenLimitReached&&this.setChatClosed(e,!0)):n&&n.value&&"message"in n.value&&n.value.message?this.setMessages(e,[...b,n.value.message,(0,tJ.Gy)("An error occurred. Please try again.")]):this.setMessages(e,[...b,(0,tJ.Gy)("An error occurred. Please try again.")])}let N=Date.now()-j;this.setUsageStats(e,{lastMessageLatency:N,totalLatency:a.usageStats.totalLatency+N}),this.setIsLoading(e,!1)}setModelState(e,a){this.dispatch({type:"SET_MODEL_STATE",payload:{index:e,modelState:a}})}removeModel(e){this.dispatch({type:"REMOVE_MODEL",payload:{index:e}})}resetParamsAndSystemPrompt(e,a){let t=sH(a);this.setParameters(e,t.parameters),this.setSystemPrompt(e,t.systemPrompt),this.setResponseFormat(e,t.responseFormat),this.setJsonSchema(e,t.jsonSchema||""),this.setParametersHasChanges(e,!1)}setSyncInputs(e){this.dispatch({type:"SET_SYNC_INPUTS",payload:{syncInputs:e}})}constructor(e){s0(this,"dispatch",void 0),s0(this,"setParameters",(e,a)=>{this.dispatch({type:"SET_PARAMETERS",payload:{index:e,parameters:a}})}),s0(this,"setChatInput",(e,a)=>{this.dispatch({type:"SET_CHAT_INPUT",payload:{index:e,chatInput:a}})}),s0(this,"setSystemPrompt",(e,a)=>{this.dispatch({type:"SET_SYSTEM_PROMPT",payload:{index:e,systemPrompt:a}})}),s0(this,"setResponseFormat",(e,a)=>{this.dispatch({type:"SET_RESPONSE_FORMAT",payload:{index:e,responseFormat:a}})}),s0(this,"setJsonSchema",(e,a)=>{this.dispatch({type:"SET_JSON_SCHEMA",payload:{index:e,jsonSchema:a}})}),s0(this,"setIsUseIndexSelected",(e,a)=>{this.dispatch({type:"SET_IS_USE_INDEX_SELECTED",payload:{index:e,isUseIndexSelected:a}})}),s0(this,"setMessages",(e,a)=>{this.dispatch({type:"SET_MESSAGES",payload:{index:e,messages:a}})}),s0(this,"setIsLoading",(e,a)=>{this.dispatch({type:"SET_IS_LOADING",payload:{index:e,isLoading:a}})}),s0(this,"setChatClosed",(e,a)=>{this.dispatch({type:"SET_CHAT_CLOSED",payload:{index:e,chatClosed:a}})}),s0(this,"setParametersHasChanges",(e,a)=>{this.dispatch({type:"SET_PARAMETERS_HAS_CHANGES",payload:{index:e,parametersHasChanges:a}})}),s0(this,"setTokenUsage",(e,a)=>{this.dispatch({type:"SET_TOKEN_USAGE",payload:{index:e,tokenUsage:a}})}),s0(this,"resetHistory",e=>{e===s3.Main&&sE.removeItem("playground-chat-messages"),this.setMessages(e,[]),this.setChatClosed(e,!1),this.setTokenUsage(e,(0,sD.wd)()),this.setUsageStats(e,sK())}),this.dispatch=e}};let s4=e=>`You are an AI prompt optimization specialist operating in an AI Model playground context. Your role is to analyze and improve ${e} prompts while adhering to the following guidelines:

    Evaluate the given prompt based on:
    - Clarity and specificity of instructions
    - Alignment with intended goals
    - Potential for consistent model responses
    - Technical feasibility within model constraints
    - Absence of ambiguous or conflicting directions

    Provide improvements that:
    - Enhance precision and clarity
    - Maintain compatibility with AI Model playground parameters
    - Optimize for both effectiveness and efficiency
    - Remove redundancies and ambiguities
    - Include necessary context and constraints

    Focus solely on prompt improvement without engaging in task execution or additional commentary. Ensure all improvements maintain technical feasibility within standard AI Model playground limitations. Do not add surrounding quotes to the suggested prompt.

    Please respond with the improved ${e} prompt only, formatted clearly and ready for implementation.`;function s5({setDialogState:e,onClose:a,handleUpdatePrompt:t,promptSuggestionText:s,currentPrompt:r,setImprovedPromptText:i,improvedPromptText:l,improvedPromptModel:o,type:d}){let{generatedPrompt:c,isLoading:u}=function(e,a,t,s,r){let[n,i]=(0,m.useState)(e),[l,o]=(0,m.useState)(!0),[d,c]=(0,m.useState)(!1),u=(0,m.useCallback)(async()=>{try{let n=`Improve this ${r} prompt: 
${e} ${a?`with the following instruction ${a}`:""}`,l=sA.ut[0],o=[{timestamp:new Date,role:l,message:n}],d="";for await(let e of t.sendMessage(s3.Main,s,o,{},s4(r),sF))d=e.message.message;i(d)}catch{c(!0)}finally{o(!1)}},[r,e,a,t,s]);return(0,m.useEffect)(()=>{u()},[u]),{generatedPrompt:n,isLoading:l,error:d}}(r,s,sI(),o,d);return(0,m.useEffect)(()=>{i(c)},[c,i]),(0,n.jsxs)(eO.l,{width:"large",onClose:a,title:(0,n.jsxs)("div",{...(0,e5.G)("prompt-dialog-confirmation"),className:"d-flex flex-items-center",children:[(0,n.jsx)(aX.K,{icon:eg.ArrowLeftIcon,"aria-label":"Back",variant:"invisible",className:"mr-2",onClick:()=>{e("suggest")}}),"Improve prompt"]}),footerButtons:[{buttonType:"default",content:"Cancel",onClick:a},{buttonType:"primary",content:"Use improved prompt",onClick:t}],children:["Apply the improved prompt or suggest more improvement iterations.",(0,n.jsx)("div",{className:"py-3 d-flex flex-column gap-3",children:(0,n.jsxs)(aD.A,{children:[(0,n.jsxs)(aD.A.Label,{className:"d-flex flex-items-center gap-2",children:["Improved prompt",u&&(0,n.jsx)(eA.A,{size:"small",srText:"Loading improved prompt"})]}),(0,n.jsx)(tQ.Ay,{value:l,onChange:e=>i(e.target.value),className:"width-full"})]})}),(0,n.jsx)("span",{className:"color-fg-muted text-small",children:"This tool uses AI. Check for mistakes."})]})}try{s5.displayName||(s5.displayName="ImprovePromptConfirmationDialog")}catch{}function s6({prompt:e,handleUpdatePrompt:a,type:t="system"}){let{improvedPromptModel:s}=(0,l.B)(),[r,i]=(0,m.useState)("closed"),[o,d]=(0,m.useState)(""),[c,u]=(0,m.useState)(""),p=(0,m.useCallback)(()=>{i("suggest"),"user"===t?(0,eH.BI)(sw.jM):(0,eH.BI)(sw.Ng)},[t]),h=(0,m.useCallback)(()=>{i("closed")},[]),g=(0,m.useCallback)(()=>{i("closed"),"user"===t?(0,eH.BI)(sw.Pq):(0,eH.BI)(sw.HL)},[t]),y=(0,m.useCallback)(()=>{a(c),d(""),i("closed"),"user"===t?(0,eH.BI)(sw.oq):(0,eH.BI)(sw.mA)},[a,c,t]);return s?(0,n.jsxs)(n.Fragment,{children:["system"===t?(0,n.jsx)(eL.Q,{onClick:p,variant:"invisible",size:"small",children:(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-1",children:[(0,n.jsx)(eg.SparklesFillIcon,{}),(0,n.jsx)("span",{children:"Improve prompt"})]})}):(0,n.jsx)(aX.K,{variant:"invisible",size:"small",icon:eg.SparkleFillIcon,onClick:p,"aria-label":"Open improve prompt dialog"}),"suggest"===r&&(0,n.jsx)(sS,{onClose:h,setDialogState:i,currentPrompt:e,setCurrentPrompt:a,promptSuggestionText:o,setPromptSuggestionText:d,type:t}),"confirm"===r&&(0,n.jsx)(s5,{onClose:g,handleUpdatePrompt:y,promptSuggestionText:o,currentPrompt:e,setImprovedPromptText:u,improvedPromptText:c,improvedPromptModel:s,setDialogState:i,type:t})]}):null}try{s6.displayName||(s6.displayName="ImprovePrompt")}catch{}var s8=t(20053);function s7({model:e,position:a,stopStreamingMessages:t,sendMessage:s}){let r=t0(),i=t4(),{chatInput:l,isLoading:o,chatClosed:d}=e,c=i.models.some(e=>e.isLoading),u=(0,tY.sc)(e.catalogData),p=(0,tY.du)(e.messages,e.modelInputSchema),h=u&&!p,[g,y]=st(),f=(0,tJ.Cz)(l),x=(0,m.useCallback)(e=>{for(let[t]of i.models.entries())(i.syncInputs||t===a)&&r.setChatInput(t,e)},[r,a,i.models,i.syncInputs]),j=(0,m.useRef)(null),v=(0,m.useRef)(null),b=(0,tY.YN)(e.catalogData.name),N=g.attachments.length>0,_=f.trim().length>0||N&&b,w=(0,em.u)("github_models_improve_user_prompt"),S=async e=>{e?.preventDefault(),!o&&_&&(s(f,h?await Promise.all(g.attachments.map(e=>e.url())):[]),x(""),y.reset())},k=(0,m.useCallback)(e=>{x(e.target.value)},[x]),C=async e=>{"Escape"===e.key?(e.preventDefault(),t()):"Enter"!==e.key||e.shiftKey||e.ctrlKey||e.altKey||e.nativeEvent.isComposing||(e.preventDefault(),await S())};return(0,tK.N)(()=>{let e=0;!function a(){if(!j.current||!v.current)return;let t=v.current.scrollTop;e++,0===j.current.scrollHeight&&e<10&&setTimeout(a,1),j.current.style.height="0";let s=j.current.scrollHeight,r=Math.min(s,300);j.current.style.height=`${s}px`,v.current.style.height=`${r}px`,v.current.scrollTop=t}()},[f,j]),(0,n.jsx)(sy,{enabled:u&&!p,children:(0,n.jsxs)("div",{className:s_.root,children:[u&&!p?(0,n.jsx)(sb,{}):null,(0,n.jsx)("div",{className:(0,s8.$)("copilot-chat-input",s_.input),children:(0,n.jsxs)("form",{className:s_.form,onSubmit:S,children:[(0,n.jsx)("div",{ref:v,className:s_.formContainer,children:(0,n.jsx)(tQ.Ay,{"data-hpc":!0,className:(0,s8.$)("copilot-chat-textarea",s_.textarea),autoComplete:"off",autoCorrect:"off",spellCheck:"false",role:"textbox","aria-multiline":"true",block:!0,ref:j,resize:"none",onKeyDown:C,disabled:d,onInput:k,"aria-label":"Prompt",placeholder:"Type your prompt\u2026",value:f})}),(0,n.jsx)("span",{className:"mb-2",children:o?(0,n.jsx)(tq.v,{variant:"invisible",size:"small",onClick:t,icon:eg.SquareFillIcon,label:"Stop",tooltipDirection:"w"}):(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[w&&(0,n.jsx)(s6,{prompt:f,handleUpdatePrompt:x,type:"user"}),u?(0,n.jsx)(sg,{disabled:p}):null,(0,n.jsx)(tq.v,{variant:"invisible",size:"small",onClick:S,icon:eg.PaperAirplaneIcon,disabled:!_||c||d,label:"Send now",tooltipDirection:"w"})]})})]})})]})})}try{s7.displayName||(s7.displayName="PlaygroundChatInput")}catch{}let s9="https://platform.openai.com/docs/guides/structured-outputs#all-fields-must-be-required";function re({message:e,showResetButton:a,handleClearHistory:t}){let s=(0,n.jsx)(n.Fragment,{children:e});return"Rate limited, please try again later."===e?s=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{}),"Sorry, you\u2019re currently hitting"," ",(0,n.jsx)(e7.A,{href:"https://docs.github.com/github-models/prototyping-with-ai-models#rate-limits",inline:!0,children:"usage rate limits"}),"."]}):"'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'."===e?s=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{}),"Please adjust your input message or system prompt to include the word '",(0,n.jsx)("strong",{children:"JSON"}),"' for this response output format."]}):e.includes("parameter: 'response_format.json_schema")&&(s=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{}),"Please adjust your JSON schema to address $",e," Check the"," ",(0,n.jsxs)(e7.A,{href:s9,inline:!0,children:["OpenAI guides"," "]}),"on structuring your JSON schema correctly to generate outputs."]})),(0,n.jsx)("div",{...(0,e5.G)("playground-error"),className:"py-2",children:(0,n.jsx)(a6.l,{variant:"warning",title:"Chat error message",hideTitle:!0,description:s,primaryAction:a&&(0,n.jsx)(a6.l.PrimaryAction,{onClick:t,children:"Reset chat"})})})}try{re.displayName||(re.displayName="PlaygroundError")}catch{}var ra=t(39525),rt=t(25511),rs=t(27691),rr=t(15294);let rn={playgroundChatMessagesContainer:"PlaygroundChatMessage-module__playgroundChatMessagesContainer--gggVr",messageContainer:"PlaygroundChatMessage-module__messageContainer--wgBmj",messageRowWrapper:"PlaygroundChatMessage-module__messageRowWrapper--cuebn",messageAuthor:"PlaygroundChatMessage-module__messageAuthor--Mi2vC",messageText:"PlaygroundChatMessage-module__messageText--i6ewO",message:"PlaygroundChatMessage-module__message--v8ZpL",messageRow:"PlaygroundChatMessage-module__messageRow--h3Dju",messageActions:"PlaygroundChatMessage-module__messageActions--VGzbU",lastResponse:"PlaygroundChatMessage-module__lastResponse--gTxE7"};var ri=t(13080);function rl({task:e,suggestedModels:a,action:t}){let[s,r]=(0,u.o)(),i=e=>{let a=e.name;a&&((0,eH.BI)(`${sw.Cr}.${t}.clicked`),s.set("compare_to",a),s.set("resend-user-prompt","true"),r(s))};return(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Anchor,{children:(0,n.jsxs)(e2.l.Item,{children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.NorthStarIcon,{})}),e]})}),(0,n.jsx)(e1.W.Overlay,{width:"medium",children:(0,n.jsxs)(e2.l,{children:[(0,n.jsx)(e2.l.GroupHeading,{children:"Pick a different model"}),a.map(e=>(0,n.jsxs)(e2.l.Item,{onSelect:()=>i(e),children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eK.K,{logoUrl:e.logo_url,darkModeIcon:e.dark_mode_icon,publisher:e.publisher,size:20})}),e.friendly_name]},e.id))]})})]})}try{rl.displayName||(rl.displayName="ModelSuggestionMenu")}catch{}let ro={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE"},rd=[{action:"cite_sources",task:"Cite sources in response",prompt:"Cite the sources in the response."}],rc=[{action:"make_response_cheaper",task:"Make response cheaper"},{action:"make_response_faster",task:"Make response faster"}];function rm({isLoading:e,isError:a,message:t,index:s,handleRegenerate:r,handleEdit:i,lastIndex:l,model:o,handleClearHistory:d,handleImproveSuggestion:c,lowRateLimitTierModels:u}){let p=(0,em.u)("github_models_improvement_suggestions"),{catalogData:h}=o,[g,y]=(0,m.useState)([]),f=(0,m.useMemo)(()=>(0,tJ.Cz)(t.message),[t.message]),x=(0,m.useRef)(null),j=(0,m.useRef)(null),[v,b]=(0,m.useState)(void 0),N=v===ro.POSITIVE,[_,w]=(0,m.useState)(!1),[S,k]=(0,m.useState)(!1),C="assistant"===t.role&&t.message,I=C&&l,A=Array.isArray(t.message)&&t.message.filter(e=>"image_url"===e.type)||[];(0,m.useEffect)(()=>{!e&&l&&j.current&&(0,ri.C)(j.current)},[e,l]);let P=async()=>{let e={satisfaction:rt.G.POSITIVE,reasons:[],feedbackText:"",contactConsent:!1,model:h.name};try{(await (0,rs.S)({model:h,feedback:e})).ok&&b(ro.POSITIVE)}catch(e){return e}},T=(0,m.useCallback)(()=>{w(!0),b(ro.NEGATIVE)},[]);return"tool"===t.role?null:(0,n.jsx)("div",{className:rn.playgroundChatMessagesContainer,...(0,e5.G)("playground-chat-message"),children:a?(0,n.jsx)(re,{message:f,showResetButton:f===sw.SN,handleClearHistory:d}):(0,n.jsxs)("div",{className:"position-relative",children:[(0,n.jsxs)("div",{className:"p-1",dir:"auto",ref:j,children:[f.trim().startsWith("{")||f.trim().startsWith("[")?(0,n.jsx)(rr.To,{markdown:(e=>{let a;try{a=JSON.stringify(JSON.parse(e.trim()),null,2)}catch{a="json_schema"===o.responseFormat?e.trim().replaceAll("{","{\n").replaceAll("}","\n}").replaceAll(",",",\n"):e.trim()}return`\`\`\`json
${a}
\`\`\``})(f)}):(0,n.jsx)(rr.To,{markdown:f}),A.length>0&&A.map(e=>(0,n.jsx)("div",{className:"py-2",children:(0,n.jsx)("img",{className:"color-bg-subtle p-3 rounded-2",src:e.image_url.url,alt:"Attachment",height:200})},e.image_url.url))]}),C&&!e&&(0,n.jsxs)("div",{className:(0,s8.$)("message-actions",rn.messageActions,I&&rn.lastResponse),children:[!S&&(0,n.jsx)(aX.K,{className:(0,s8.$)(N?"bGcolor-muted":"bGcolor-default"),icon:eg.ThumbsupIcon,variant:"invisible","aria-label":"Positive",onClick:P,disabled:N}),v!==ro.POSITIVE&&(0,n.jsx)(aX.K,{className:(0,s8.$)(S?"bGcolor-muted":"bGcolor-default"),icon:eg.ThumbsdownIcon,variant:"invisible","aria-label":"Negative",onClick:T,disabled:S}),(0,n.jsx)(tT.T,{textToCopy:f,ariaLabel:"Copy to clipboard"}),I&&r&&(0,n.jsx)(aX.K,{icon:eg.SyncIcon,variant:"invisible","aria-label":"Regenerate",onClick:()=>r(s)}),I&&i&&(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Button,{variant:"invisible","aria-label":"Edit prompt menu",size:"small",children:(0,n.jsx)(eg.PencilIcon,{className:"fgColor-muted"})}),(0,n.jsx)(e1.W.Overlay,{width:"medium",children:(0,n.jsxs)(e2.l,{children:[(0,n.jsxs)(e2.l.Item,{onSelect:()=>i(s),children:["Edit prompt",(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.PencilIcon,{})})]}),p&&c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e2.l.Divider,{}),(0,n.jsx)(e2.l.GroupHeading,{...(0,e5.G)("playground-chat-message-improvement-suggestions"),children:"Suggestions"}),rd.map(e=>(0,n.jsxs)(e2.l.Item,{onSelect:()=>{(0,eH.BI)(`${sw.Cr}.${e.action}.clicked`),y([...g,e.task]),c(s,e.prompt)},disabled:g.includes(e.task),children:[e.task,(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.NorthStarIcon,{})})]},e.task)),"low"!==h.rate_limit_tier&&u&&u.length>0&&rc.map(e=>{let a="make_response_faster"===e.action&&"openai"===h.publisher.toLowerCase()?u.filter(e=>"openai"===e.publisher.toLowerCase()):u;return(0,n.jsx)(rl,{task:e.task,action:e.action,suggestedModels:a},e.task)})]})]})})]})]}),v===ro.NEGATIVE&&(0,n.jsx)(ra.a,{isNegativePreSelected:!0,setIsNegativeFeedbackConfirmed:k,returnFocusRef:x,isFeedbackDialogOpen:_,setIsFeedbackDialogOpen:w,modelName:h.name})]})},s)}try{rm.displayName||(rm.displayName="PlaygroundChatMessage")}catch{}var ru=t(23976);let rp={CHAT:0,CODE:1,JSON:2},rh={[rp.CHAT]:"",[rp.CODE]:"/code",[rp.JSON]:"/json"},rg={PROMPT:0,EVALS:1},ry={[rg.PROMPT]:"/prompt",[rg.EVALS]:"/evals"},rf={linkContainer:"ModelLegalTerms-module__linkContainer--_4DsD"};var rx=t(93193);let rj=({modelName:e})=>{let{isLoggedIn:a}=(0,l.B)(),[t,s]=(0,m.useState)(!1),r=(0,m.useRef)(null),i=(0,u.Z)(),o=(0,eW.zy)().pathname;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:rf.linkContainer,...(0,e5.G)("legal-terms"),children:["Azure hosted. AI powered, can make mistakes."," ",(0,n.jsx)(e7.A,{as:"button",ref:r,onClick:()=>{a?s(!0):i(`/login?return_to=${encodeURIComponent(o)}`)},inline:!0,muted:!0,children:"Share feedback"}),". Subject to"," ",(0,n.jsx)(e7.A,{href:rx.Tc,inline:!0,muted:!0,tabIndex:0,children:"Product Terms"})," ","&"," ",(0,n.jsx)(e7.A,{href:rx.is,inline:!0,muted:!0,tabIndex:0,children:"Privacy Statement"}),". Not intended for production/sensitive data."]}),t&&(0,n.jsx)(ra.a,{returnFocusRef:r,isFeedbackDialogOpen:t,setIsFeedbackDialogOpen:s,modelName:e})]})};try{rj.displayName||(rj.displayName="ModelLegalTerms")}catch{}let rv={sampleContainer:"PlaygroundCard-module__sampleContainer--DBDRc",chevronContainer:"PlaygroundCard-module__chevronContainer--kruFB",playgroundCard:"PlaygroundCard-module__playgroundCard--c5j5c",small:"PlaygroundCard-module__small--xcq8X",large:"PlaygroundCard-module__large--NQkNK"};function rb({sample:e,onAction:a,size:t="small"}){return(0,n.jsxs)("div",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&a(e)},onClick:a,className:`${rv.playgroundCard} ${rv[t]}`,...(0,e5.G)("playground-card"),children:[(0,n.jsx)("div",{className:rv.sampleContainer,children:e}),(0,n.jsx)("div",{className:rv.chevronContainer,children:(0,n.jsx)(eg.ArrowUpRightIcon,{})})]})}try{rb.displayName||(rb.displayName="PlaygroundCard")}catch{}let rN={friendlyNameText:"PlaygroundChatEmptyState-module__friendlyNameText--Nr6db",summaryText:"PlaygroundChatEmptyState-module__summaryText--mGR3K",sampleInputContainer:"PlaygroundChatEmptyState-module__sampleInputContainer--DAwKA",normal:"PlaygroundChatEmptyState-module__normal--zeHLU",comparison:"PlaygroundChatEmptyState-module__comparison--qtZAE"};function r_({model:e,submitMessage:a}){let t=t4(),{catalogData:s,modelInputSchema:r}=e,i=t.models.length>1,l=(0,au.tv)({narrow:!0},!1),o=s.name.toLowerCase().replace(/[-\s]/g,"_"),d=(0,em.u)(`github_models_${o}_unstable`);return(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsxs)(a6.l,{...(0,e5.G)("unstable-model-warning-banner"),variant:"warning",title:"Unstable model",hideTitle:!0,className:"position-absolute width-full",children:["We're aware that ",s.friendly_name," is experiencing degraded performance, and our team is actively investigating the issue. We appreciate your patience as we work toward a resolution."]}),(0,n.jsxs)("div",{className:"d-flex height-full flex-column flex-justify-center",children:[(0,n.jsx)("div",{className:"d-flex flex-row flex-justify-center pb-3",children:(0,n.jsx)(eK.K,{logoUrl:s.logo_url,darkModeIcon:s.dark_mode_icon,publisher:s.publisher,size:{narrow:32,regular:40,wide:40}})}),(0,n.jsx)("h3",{className:rN.friendlyNameText,children:s.friendly_name}),(0,n.jsx)("p",{className:rN.summaryText,children:s.summary}),r?.sampleInputs&&r.sampleInputs.length>0?(0,n.jsx)("div",{...(0,e5.G)("sample-inputs"),className:"d-flex flex-justify-center","aria-label":"Suggested prompts",children:(0,n.jsx)("div",{className:(0,s8.$)(rN.sampleInputContainer,{[rN.normal]:!i,[rN.comparison]:i}),children:r.sampleInputs.slice(0,3).map((e,t)=>{let s=e.messages&&e?.messages[0]&&e.messages[0].content?e.messages[0].content:null;return s?(0,n.jsx)(rb,{size:l?"small":"large",sample:s,onAction:()=>a(s)},t):null})})}):null]})]})}try{r_.displayName||(r_.displayName="PlaygroundChatEmptyState")}catch{}let rw={copyButton:"PlaygroundSharedStyles-module__copyButton--bfVoO"},rS=(0,m.lazy)(()=>Promise.all([t.e("vendors-node_modules_codemirror_autocomplete_dist_index_js-node_modules_codemirror_search_dis-aafe81"),t.e("vendors-node_modules_codemirror_commands_dist_index_js-node_modules_codemirror_language-data_-92b5c9"),t.e("ui_packages_code-mirror_CodeMirror_tsx"),t.e("ui_packages_code-mirror_autocomplete_theme_ts-ui_packages_code-mirror_extensions_help-panels_-d428aa")]).then(t.bind(t,34225)));function rk({model:e,uiState:a}){let{systemPrompt:t,parameters:s,catalogData:r,gettingStarted:i,responseFormat:l}=e,o=Object.assign({},s);o.system_message=t||"",o.response_format=l||sF,o.model_name=r.original_name,o.model_endpoint="https://models.inference.ai.azure.com";let{preferredSdk:d,preferredLanguage:c}=a,u=i[c],p=function(e){let a={csharp:"cs",java:"java",js:"js",python:"py",rest:"sh"};return e in a?a[e]:"txt"}(c),h="Code snippet not available";if(u){let a=u.sdks[d];if(a&&a.codeSamples.length>0&&(h=a.codeSamples),e.isUseIndexSelected&&"python"===c&&d.startsWith("azure-ai")){h=sZ.V9;let e=(0,sZ.Dx)();o.search_endpoint=e.endpoint,o.search_index=e.name}h=h.replace(/\{(\w+)\}/g,(e,a)=>o[a]??e)}return(0,n.jsxs)("div",{className:"d-flex position-relative flex-column overflow-auto",style:{flex:1},children:[(0,n.jsx)(tT.T,{className:rw.copyButton,textToCopy:h,ariaLabel:"Copy to clipboard"}),(0,n.jsx)("div",{className:"position-absolute width-full",style:{left:0,top:0},children:(0,n.jsx)(m.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(rS,{fileName:`document.${p}`,value:h,ariaLabelledBy:"",height:"100%",spacing:{indentUnit:2,indentWithTabs:!1,lineWrapping:!1},hideHelpUntilFocus:!0,onChange:()=>{},isReadOnly:!0})})})]})}try{rS.displayName||(rS.displayName="CodeMirror")}catch{}try{rk.displayName||(rk.displayName="PlaygroundCodeSnippet")}catch{}function rC(e){return"object"==typeof e&&null!==e&&"string"==typeof e.timestamp&&"string"==typeof e.role&&"string"==typeof e.message&&sA.ut.includes(e.role)}function rI(e){try{let a=JSON.parse(e);if(Array.isArray(a)&&a.every(rC)){let e=a;return e=e.map(e=>({...e,timestamp:new Date(e.timestamp)}))}return null}catch{return null}}let rA=e=>{try{return null!==rI(e)}catch{return!1}};function rP({applyInput:e,content:a,initialContent:t,isValidJSON:s,resetInput:r}){return(0,n.jsxs)("div",{className:"d-flex flex-justify-end flex-items-center width-full gap-2",children:[(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"color-fg-danger","aria-live":"polite","aria-atomic":!0,children:s?(0,n.jsx)("span",{className:"sr-only",children:"JSON is valid"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eg.AlertIcon,{"aria-hidden":!0})," Invalid JSON or value"]})})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eL.Q,{onClick:()=>r(),size:"small",children:"Cancel"}),(0,n.jsx)(eL.Q,{variant:"primary",onClick:()=>e(a),size:"small",disabled:a===t||!s,children:"Apply changes"})]})]})}try{rP.displayName||(rP.displayName="PlaygroundJSONEditModeToolbar")}catch{}let rT={editButton:"PlaygroundJSONViewModeToolbar-module__editButton--vDZ3D",iconButton:"PlaygroundJSONViewModeToolbar-module__iconButton--sS8Cg"};function rE({doEdit:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(aX.K,{className:rT.iconButton,size:"small",icon:eg.PencilIcon,"aria-label":"Edit JSON",onClick:e}),(0,n.jsx)(eL.Q,{className:rT.editButton,onClick:e,size:"small",children:"Edit"})]})}try{rE.displayName||(rE.displayName="PlaygroundJSONViewModeToolbar")}catch{}let rM=(0,m.lazy)(()=>Promise.all([t.e("vendors-node_modules_codemirror_autocomplete_dist_index_js-node_modules_codemirror_search_dis-aafe81"),t.e("vendors-node_modules_codemirror_commands_dist_index_js-node_modules_codemirror_language-data_-92b5c9"),t.e("ui_packages_code-mirror_CodeMirror_tsx"),t.e("ui_packages_code-mirror_autocomplete_theme_ts-ui_packages_code-mirror_extensions_help-panels_-d428aa")]).then(t.bind(t,34225)));function rR({model:e,position:a,setToolbarContent:t,setFullWidthToolbarContent:s,stopStreamingMessages:r,sendMessage:i}){let[l,o]=(0,m.useState)(()=>JSON.stringify(e.messages,null,2)),[d,c]=(0,m.useState)(l),[u,p]=(0,m.useState)(!0),[h,g]=(0,m.useState)(!1),y=t0(),f=(0,m.useCallback)(e=>{if(!rA(e))return;let t=rI(e);t&&(y.setMessages(a,t),o(e),g(!1))},[y,a]),x=(0,m.useCallback)(()=>{c(l),p(!0),g(!1)},[l]),j=(0,m.useCallback)(()=>{r(),g(!0)},[r]),v=(0,m.useCallback)(()=>h?(0,n.jsx)(rP,{applyInput:f,content:d,initialContent:l,isValidJSON:u,resetInput:x}):(0,n.jsx)(rE,{doEdit:j}),[f,d,j,h,l,u,x]);return(0,m.useEffect)(()=>{s(h?v():null),t(h?null:v())},[d,l,u,h]),(0,m.useEffect)(()=>{let a=JSON.stringify(e.messages,null,2);o(a),c(a)},[e.messages]),(0,n.jsxs)("div",{className:"pl-3 pb-2 d-flex position-relative flex-column overflow-auto flex-1",children:[(0,n.jsx)(tT.T,{className:rw.copyButton,textToCopy:l,ariaLabel:"Copy to clipboard"}),(0,n.jsx)("div",{className:"height-full overflow-auto",children:(0,n.jsxs)(m.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:[(0,n.jsx)(rM,{fileName:"document.json",value:d,ariaLabelledBy:"playground-json-code-label",height:"100%",spacing:{indentUnit:2,indentWithTabs:!1,lineWrapping:!0},hideHelpUntilFocus:!0,onChange:e=>{c(e),p(rA(e))},isReadOnly:!h||e.isLoading}),(0,n.jsx)("span",{className:"sr-only",id:"playground-json-code-label",children:"JSON"})]})}),!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s7,{model:e,position:a,stopStreamingMessages:r,sendMessage:i}),(0,n.jsx)("div",{className:"pt-3 pb-2 d-flex flex-justify-center pr-3",children:(0,n.jsx)(rj,{modelName:e.catalogData.name})})]})]})}try{rM.displayName||(rM.displayName="CodeMirror")}catch{}try{rR.displayName||(rR.displayName="PlaygroundJSON")}catch{}function rL({gettingStarted:e,preferredLanguage:a,handleSelectLanguage:t}){let s=Object.keys(e),r=e[a];return r?(0,n.jsx)(ac.B,{gap:"normal",className:"width-fit d-block",children:(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Button,{size:"small",...(0,e5.G)("playground-language-button"),children:r.name}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:s.map(s=>(0,n.jsx)(e2.l.Item,{selected:s===a,onSelect:()=>{t(s)},children:e[s]?.name},s))})})]})}):null}try{rL.displayName||(rL.displayName="PlaygroundCodeLanguage")}catch{}function rO({gettingStarted:e,uiState:a,handleSelectSDK:t}){let s=(0,au.tv)({narrow:!0},!1),{preferredLanguage:r,preferredSdk:i}=a,l=e[r];if(!l)return null;let o=Object.keys(l.sdks);if(!o.length)return null;let d=l.sdks[i];return d?(0,n.jsx)(ac.B,{gap:"normal",className:"width-fit d-block",children:(0,n.jsxs)(e1.W,{children:[s?(0,n.jsx)(e1.W.Anchor,{children:(0,n.jsx)(aX.K,{icon:eg.KebabHorizontalIcon,size:"small","aria-label":"Open SDK options",className:"color-fg-muted"})}):(0,n.jsx)(e1.W.Button,{size:"small",...(0,e5.G)("playground-sdk-button"),children:d.name}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:o.map(e=>(0,n.jsx)(e2.l.Item,{selected:e===i,onSelect:()=>{t(e)},children:l.sdks[e]?.name},e))})})]})}):null}try{rO.displayName||(rO.displayName="PlaygroundCodeSDK")}catch{}let rD={container:"RestoreHistoryButton-module__container--V88yg",iconButton:"RestoreHistoryButton-module__iconButton--cYpKB",button:"RestoreHistoryButton-module__button--PeZ0J"},rF=({onClick:e})=>(0,n.jsxs)("div",{className:rD.container,children:[(0,n.jsx)(aX.K,{...(0,e5.G)("restore-history-button"),icon:eg.HistoryIcon,size:"small",onClick:e,className:rD.iconButton,"aria-label":"Restore last session"}),(0,n.jsx)(eL.Q,{size:"small",onClick:e,className:rD.button,children:"Restore last session"})]});try{rF.displayName||(rF.displayName="RestoreHistoryButton")}catch{}let rB={lastMessageInputTokens:0,totalInputTokens:0,lastMessageOutputTokens:0,totalOutputTokens:0},r$=(0,m.createContext)({history:{messages:[],tokenUsage:rB},setHistory:()=>{}}),rU=({children:e,initialMessages:a,initialTokenUsage:t})=>{let[s,r]=(0,m.useState)({messages:a??[],tokenUsage:t??rB}),i=(0,m.useMemo)(()=>({history:s,setHistory:r}),[s]);return(0,n.jsx)(r$.Provider,{value:i,children:e})},rG=()=>(0,m.useContext)(r$);try{r$.displayName||(r$.displayName="MessageHistoryContext")}catch{}try{rU.displayName||(rU.displayName="MessageHistoryProvider")}catch{}let rz=({children:e,modelState:a,option:t,position:s,onComparisonMode:r,uiState:i,handleSelectLanguage:l,handleSelectSDK:o,handleClearHistory:d})=>{let c=t0(),{messages:m}=a,{history:u}=rG(),p=u.messages.length>0&&0===m.length&&!r,h=()=>{c.setMessages(s,u.messages),c.setTokenUsage(s,u.tokenUsage)};switch(t){case rp.CHAT:return(0,n.jsxs)(n.Fragment,{children:[p?(0,n.jsx)(rF,{onClick:h}):null,(0,n.jsx)(aX.K,{icon:eg.TrashIcon,size:"small","aria-label":"Reset chat history",disabled:0===m.length,onClick:d})]});case rp.CODE:return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rL,{gettingStarted:a.gettingStarted,preferredLanguage:i.preferredLanguage,handleSelectLanguage:l}),(0,n.jsx)(rO,{gettingStarted:a.gettingStarted,uiState:i,handleSelectSDK:o})]});case rp.JSON:return(0,n.jsxs)(n.Fragment,{children:[p?(0,n.jsx)(rF,{onClick:h}):null,e]})}};try{rz.displayName||(rz.displayName="Toolbar")}catch{}let rV={text:"PlaygroundToolCallMessage-module__text--Fxhbk"};function rH({message:{message:e}}){let a=(0,m.useMemo)(()=>(0,tJ.Cz)(e),[e]);return(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:rV.text,...(0,e5.G)("playground-tool-call-message"),children:a})})}try{rH.displayName||(rH.displayName="PlaygroundToolCallMessage")}catch{}var rW=t(65607);let rq=({setSystemPrompt:e,setParametersHasChanges:a,position:t,state:s})=>(0,m.useCallback)(r=>{for(let[n]of s.models.entries())(s.syncInputs||n===t)&&(e(n,r.target.value),a(n,!0))},[e,a,t,s.models,s.syncInputs]),rK=({position:e,setSystemPrompt:a,setParametersHasChanges:t})=>(0,m.useCallback)(s=>{a(e,s),t(e,!0)},[a,t,e]),rQ=({setParameters:e,setParametersHasChanges:a,schemaParams:t=[],state:s,position:r})=>(0,m.useCallback)(({key:n,value:i,validate:l})=>{let o=(s,r)=>{let o={...r,[n]:i};e(s,l?sB(t,o):o),a(s,!0)};for(let[e,a]of s.models.entries())(s.syncInputs||e===r)&&o(e,a.parameters)},[e,a,t,s,r]),rY=({setResponseFormat:e,setParametersHasChanges:a,position:t,state:s})=>(0,m.useCallback)(r=>{for(let[n]of s.models.entries())(s.syncInputs||n===t)&&(e(n,r||sF),a(n,!0))},[e,a,t,s.models,s.syncInputs]),rJ=({state:e,setJsonSchema:a,setParametersHasChanges:t,position:s})=>(0,m.useCallback)(r=>{for(let[n]of e.models.entries())(e.syncInputs||n===s)&&(a(n,r),t(n,!0))},[a,t,s,e.models,e.syncInputs]),rX=({setIsUseIndexSelected:e,setParametersHasChanges:a,position:t,state:s})=>(0,m.useCallback)(r=>{for(let[n]of s.models.entries())(s.syncInputs||n===t)&&(e(n,r),a(n,!0))},[e,a,t,s.models,s.syncInputs]);var rZ=t(715),r0=t(89015);let r1=JSON.stringify({name:"describe_animal",strict:!0,schema:{type:"object",properties:{name:{type:"string",description:"The name of the animal"},habitat:{type:"string",description:"The habitat the animal lives in"}},additionalProperties:!1,required:["name","habitat"]}},null,2),r2=e=>null!==function(e){try{return JSON.parse(e)}catch{return null}}(e),r3={dialog:"JsonSchemaDialog-module__dialog--IF3wE"},r4=(0,m.lazy)(()=>Promise.all([t.e("vendors-node_modules_codemirror_autocomplete_dist_index_js-node_modules_codemirror_search_dis-aafe81"),t.e("vendors-node_modules_codemirror_commands_dist_index_js-node_modules_codemirror_language-data_-92b5c9"),t.e("ui_packages_code-mirror_CodeMirror_tsx"),t.e("ui_packages_code-mirror_autocomplete_theme_ts-ui_packages_code-mirror_extensions_help-panels_-d428aa")]).then(t.bind(t,34225)));function r5({onClose:e,onSubmit:a,jsonSchema:t}){let[s,r]=(0,m.useState)(!0),[i,l]=(0,m.useState)(t||""),o=async e=>{if(e.preventDefault(),!r2(i)){r(!1);return}a(i)},d=e=>{l(e)};return(0,n.jsxs)(eO.l,{title:"JSON Schema",subtitle:(0,n.jsxs)(n.Fragment,{children:["Provide"," ",(0,n.jsx)(e7.A,{href:s9,inline:!0,target:"_blank",rel:"noopener noreferrer",children:"JSON schema"})," ","to define the structure of the model's output."]}),width:"xlarge",className:r3.dialog,onClose:e,footerButtons:[{buttonType:"default",content:"Cancel",onClick:e,form:"json-schema-form"},{buttonType:"primary",content:"Save",onClick:o,form:"json-schema-form"}],children:[s?i?.trim()===""?(0,n.jsx)(a6.l,{className:"mb-2",title:"Info",hideTitle:!0,description:"No JSON schema saved. Valid schema required for playground.",primaryAction:(0,n.jsx)(a6.l.PrimaryAction,{onClick:()=>d(r1),children:"Use sample"})}):null:(0,n.jsx)(a6.l,{variant:"critical",className:"mb-2",title:"Error",hideTitle:!0,description:"Invalid JSON schema provided. Please verify the required schema structure and fields."}),(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aD.A.Label,{children:"Definition"}),(0,n.jsx)(m.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(r4,{fileName:"document.json",value:i,placeholder:r1,ariaLabelledBy:"json-schema-code-label",minHeight:"300px",spacing:{indentUnit:2,indentWithTabs:!1,lineWrapping:!0},hideHelpUntilFocus:!0,onChange:d,isReadOnly:!1})})]})]})}try{r4.displayName||(r4.displayName="CodeMirror")}catch{}try{r5.displayName||(r5.displayName="JsonSchemaDialog")}catch{}let r6={caption:"ModelResponseFormat-module__caption--C9uPf"};function r8({responseFormat:e,handleResponseFormatChange:a,jsonSchema:t,handleJsonSchemaChange:s,supportsJsonSchema:r,onSinglePlaygroundView:i}){let l=r&&i,o="json_schema"===e,[d,c]=(0,m.useState)(!1),u=(0,m.useCallback)(e=>{"json_schema"===e?c(!0):c(!1),a(e)},[a]),p=(0,m.useCallback)(e=>{s(e),c(!1)},[s,c]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{...(0,e5.G)("response-format"),children:(0,n.jsxs)(r0.A,{name:"Response formats",onChange:e=>u(e),children:[(0,n.jsx)(r0.A.Label,{children:"Response format"}),(0,n.jsxs)("div",{className:"d-flex gap-3",children:[(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aH.A,{name:"text-format",value:"text",checked:"text"===e}),(0,n.jsx)(aD.A.Label,{children:"Text"})]}),(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aH.A,{name:"json-object-format",value:"json_object",checked:"json_object"===e}),(0,n.jsx)(aD.A.Label,{children:"JSON"})]}),l&&(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aH.A,{name:"json-schema-format",value:"json_schema",checked:o,onClick:()=>c(!0)}),(0,n.jsxs)(aD.A.Label,{children:["Schema",o&&(0,n.jsx)(eL.Q,{variant:"link",className:"color-fg-muted pl-1",onClick:()=>c(!0),children:"(edit)"})]})]})})]}),(0,n.jsx)("div",{className:r6.caption,children:"Set the format for the model response."})]})}),l&&d&&(0,n.jsx)(r5,{onClose:()=>c(!1),onSubmit:p,jsonSchema:t})]})}try{r8.displayName||(r8.displayName="ModelResponseFormat")}catch{}let r7=(0,m.createContext)({}),r9=({children:e,initialIndex:a,skipInitialIndexFetch:t})=>{let[s,r]=(0,m.useState)(a??null),[i,l]=(0,m.useState)(!1);(0,m.useEffect)(()=>{a||t||o()},[]);let o=(0,m.useCallback)(async()=>{l(!0);let e=await (0,sZ.RG)();if(r(e),e?.status==="InProgress"||e?.status===null)return await new Promise(e=>setTimeout(e,1e3)),await o();l(!1)},[]),d=(0,m.useMemo)(()=>({index:s,setIndex:r,isFetchingIndex:i,pollUntilCompleted:o}),[s,i,o]);return(0,n.jsx)(r7.Provider,{value:d,children:e})},ne=()=>{let e=(0,m.useContext)(r7);if(void 0===e)throw Error("useRAGContext must be used within a RAGContextProvider");return e};try{r7.displayName||(r7.displayName="RAGContext")}catch{}try{r9.displayName||(r9.displayName="RAGContextProvider")}catch{}let na={container:"FileInput-module__container--HOQ2X",chooseFiles:"FileInput-module__chooseFiles--c2GKT",chooseFilesLabel:"FileInput-module__chooseFilesLabel--KndYi",description:"FileInput-module__description--LhxTT"},nt=[".pdf",".txt",".md",".docx",".pptx",".xlsx"];function ns({onFilesSelected:e,condensed:a=!1}){return(0,n.jsx)("div",{className:na.container,onDrop:a=>{a.preventDefault(),e(a.dataTransfer.files)},onDragOver:e=>{e.preventDefault()},onDragEnter:e=>{e.preventDefault()},children:(0,n.jsxs)(e0.A,{children:[!a&&(0,n.jsx)(e0.A.Visual,{children:(0,n.jsx)(eg.FileIcon,{size:32})}),(0,n.jsxs)("div",{children:["Drag and drop files here",a?" ":(0,n.jsx)("br",{}),"or"," ",(0,n.jsxs)(aD.A,{className:na.chooseFiles,children:[(0,n.jsx)("input",{type:"file",hidden:!0,id:"browse",onChange:a=>{a.preventDefault(),a.target.files&&e(a.target.files)},accept:nt.join(","),multiple:!0}),(0,n.jsx)(aD.A.Label,{htmlFor:"browse",className:na.chooseFilesLabel,children:"choose files"})]})]}),(0,n.jsx)(e0.A.Description,{children:(0,n.jsxs)("span",{className:na.description,children:["50MB limit. (Supported formats: ",nt.join(", "),")."]})})]})})}try{ns.displayName||(ns.displayName="FileInput")}catch{}let nr={fileList:"FileList-module__fileList--RdERW",fileListItem:"FileList-module__fileListItem--oTbT6",fileListItemName:"FileList-module__fileListItemName--VlCTy",fileListItemSize:"FileList-module__fileListItemSize--doTyJ",deleteButton:"FileList-module__deleteButton--k0PzY"};function nn({files:e,disabled:a=!1,onFileDeleted:t}){return(0,n.jsx)("ul",{"aria-label":"File list",className:nr.fileList,children:e.map(({file:e,isUploadInProgress:s},r)=>(0,n.jsxs)("li",{className:nr.fileListItem,children:[s?(0,n.jsx)(eA.A,{size:"small"}):(0,n.jsx)(eg.FileIcon,{"aria-label":"Uploaded file"}),(0,n.jsx)("span",{className:nr.fileListItemName,children:e.name}),(0,n.jsx)("span",{className:nr.fileListItemSize,children:`${(e.size/1e6).toFixed(2)} MB`}),!!t&&(0,n.jsx)(aX.K,{className:nr.deleteButton,size:"small",icon:eg.TrashIcon,"aria-label":"Remove file",variant:"link",tooltipDirection:"w",onClick:()=>t(r),disabled:s||a,children:"Remove file"})]},e.name+r))})}try{nn.displayName||(nn.displayName="FileList")}catch{}let ni={container:"CreateIndexDialog-module__container--DHhDA",header:"CreateIndexDialog-module__header--Z5S8Z",headerSubtext:"CreateIndexDialog-module__headerSubtext--Rei36"};function nl({onClose:e}){let[a,t]=(0,m.useState)([]),[s,r]=(0,m.useState)(!1),{setIndex:i,pollUntilCompleted:l}=ne(),{sendClickAnalyticsEvent:o}=(0,t6.S)(),d=a.reduce((e,a)=>e+a.file.size,0),c=(e,a)=>{t(t=>[...t.slice(0,e),{...a},...t.slice(e+1)])},u=async()=>{try{r(!0);let s=await (0,sZ.KQ)(),n=a.map((e,a)=>{let t=(async()=>{await (0,sZ.QM)(s,e.file),c(a,{...e,isUploadInProgress:!1})})();return{...e,promise:t,isUploadInProgress:!0}});t(n),await Promise.all(n.map(e=>e.promise)),await (0,sZ.vf)(s),o({category:"github_models_playground",action:"rag_create_index",fileCount:a.length,fileSize:d,fileTypes:a.map(e=>e.file.name.slice((e.file.name.lastIndexOf(".")-1>>>0)+2))}),i({name:"default-vector-index",status:"InProgress",files:a.map(e=>({name:e.file.name,size:e.file.size}))}),r(!1),l(),e()}catch(e){console.error("Failed to upload files:",e),r(!1)}};return(0,n.jsx)(eO.l,{onClose:e,"aria-labelledby":"header",title:"Create index",width:"large",footerButtons:[{buttonType:"default",content:"Cancel",onClick:e},{buttonType:"primary",content:"Upload and create index",onClick:u,disabled:!a.length||s,loading:s}],children:(0,n.jsxs)("div",{className:ni.container,children:[(0,n.jsx)("span",{children:"Select the files you would like to upload. Models in the playground will use these files as grounding context to generate an answer."}),(0,n.jsxs)("span",{className:ni.header,children:["Upload files",a.length>0&&(0,n.jsx)("span",{className:ni.headerSubtext,children:` (${a.length} file${a.length>1?"s":""}, ${(d/1e6).toFixed(1)}/50 MB limit used)`})]}),(0,n.jsx)(ns,{onFilesSelected:e=>{t([...a,...Array.from(e).filter(e=>nt.some(a=>e.name.endsWith(a))).map(e=>({file:e}))])},condensed:a.length>0}),a.length>0&&(0,n.jsx)(nn,{files:a,disabled:s,onFileDeleted:e=>{t(a.filter((a,t)=>t!==e))}})]})})}try{nl.displayName||(nl.displayName="CreateIndexDialog")}catch{}let no={container:"IndexDetailsDialog-module__container--Mf2Ga",header:"IndexDetailsDialog-module__header--jzcVN",headerSubtext:"IndexDetailsDialog-module__headerSubtext--Ix6_o"};function nd({onClose:e,onDelete:a,files:t,showWarning:s=!1}){let[r,i]=(0,m.useState)(s),l=t.reduce((e,a)=>e+a.size,0);return(0,n.jsx)(eO.l,{onClose:e,"aria-labelledby":"header",title:"Index details",width:"large",footerButtons:[{buttonType:"default",content:"Cancel",onClick:e},{buttonType:"danger",content:"Delete index",onClick:r?a:()=>i(!0),disabled:!1,loading:!1}],children:(0,n.jsxs)("div",{className:no.container,children:[(0,n.jsx)("span",{children:"Models in the playground will use these files as grounding context. To create a new index, you must delete this current index first."}),(0,n.jsxs)("span",{className:no.header,children:["Index files",(0,n.jsxs)("span",{...(0,e5.G)("file-bytes-used"),className:no.headerSubtext,children:[" ","(created 10-03-2024, ",(l/1e6).toFixed(1),"/50 MB limit used)"]})]}),t.length>0&&(0,n.jsx)(nn,{files:t.map(e=>({file:e}))}),r&&(0,n.jsx)(a6.l,{variant:"warning",title:"Warning",hideTitle:!0,description:"Deleting this index will remove all listed file context for models across your GitHub account (i.e. VS Code, Codespaces, Playground)."})]})})}try{nd.displayName||(nd.displayName="IndexDetailsDialog")}catch{}let nc={container:"IndexItem-module__container--WOlrg",containerLeft:"IndexItem-module__containerLeft--N_Rrg",leadingIcon:"IndexItem-module__leadingIcon--J5Z0b",detailButton:"IndexItem-module__detailButton--UjDCL",detailButtonText:"IndexItem-module__detailButtonText--tKm8G",detailButtonSubtext:"IndexItem-module__detailButtonSubtext--lHguh",statusIconSuccess:"IndexItem-module__statusIconSuccess--mB5Ne",statusIconDanger:"IndexItem-module__statusIconDanger--T0B4S",containerRight:"IndexItem-module__containerRight--ola3s"};function nm({index:e,onDelete:a,onClick:t}){let{sendClickAnalyticsEvent:s}=(0,t6.S)();return(0,n.jsxs)("div",{className:nc.container,children:[(0,n.jsx)("div",{className:nc.containerLeft,children:(0,n.jsxs)(eL.Q,{className:nc.detailButton,onClick:t,variant:"invisible",leadingVisual:()=>(0,n.jsx)("div",{className:nc.leadingIcon,children:(0,n.jsx)(eg.BookIcon,{})}),alignContent:"start",labelWrap:!0,size:"small",...(0,e5.G)("rag-index-button"),children:[(0,n.jsx)("span",{className:nc.detailButtonText,children:e.name}),(0,n.jsxs)("span",{className:nc.detailButtonSubtext,children:[`${e.files.length} ${1===e.files.length?"file":"files"} added on ${new Date().toLocaleDateString("en-US").replace(/\//g,"-")}`," ","InProgress"===e.status?(0,n.jsx)(eA.A,{size:"small"}):"Success"===e.status?(0,n.jsx)(eg.CheckIcon,{size:14,className:nc.statusIconSuccess,"aria-label":"Success"}):(0,n.jsx)(eg.XIcon,{size:14,className:nc.statusIconDanger,"aria-label":"Failure"})]})]})}),(0,n.jsx)("div",{className:nc.containerRight,children:(0,n.jsx)(aX.K,{icon:eg.TrashIcon,size:"medium",variant:"invisible",onClick:()=>{s({category:"github_models_playground",action:"rag_delete_index"}),a()},"aria-label":"Delete index",...(0,e5.G)("delete-index")})})]})}try{nm.displayName||(nm.displayName="IndexItem")}catch{}let nu={container:"IndexParameter-module__container--aSsci",label:"IndexParameter-module__label--ryDez"};function np({value:e,onChange:a}){let{index:t,setIndex:s,isFetchingIndex:r}=ne(),[i,l]=(0,m.useState)(!1),[o,d]=(0,m.useState)(!1),[c,u]=(0,m.useState)(!1),p=async()=>{s(null),a(!1),d(!1),u(!1);try{(0,sZ.Yu)()}catch(e){console.error("Error deleting index:",e)}},h=(0,m.useCallback)(()=>{u(!0),d(!0)},[]),g=(0,m.useCallback)(()=>{d(!1),u(!1)},[]);return(0,n.jsxs)(aD.A,{className:nu.container,children:[(0,n.jsx)(aD.A.Label,{children:"Grounding data"}),(0,n.jsxs)(aD.A,{disabled:!t||"Success"!==t.status,children:[(0,n.jsx)(rW.A,{checked:!!t&&e,onChange:()=>{a(!e)}}),(0,n.jsx)(aD.A.Label,{className:nu.label,children:"Use index for model context"})]}),t?(0,n.jsx)(nm,{index:t,onClick:()=>d(!0),onDelete:h}):(0,n.jsx)(eL.Q,{leadingVisual:r?(0,n.jsx)(eA.A,{size:"small"}):eg.UploadIcon,value:"Upload files to create index",onClick:()=>l(!0),block:!0,disabled:r,...(0,e5.G)("upload-files-to-create-index"),children:"Upload files to create index"}),(0,n.jsx)("span",{className:nu.label,children:"The model will use these files to generate responses that are grounded in the Azure Al Search index."}),i&&(0,n.jsx)(nl,{onClose:()=>l(!1)}),o&&(0,n.jsx)(nd,{onClose:g,onDelete:p,files:t?.files??[],showWarning:c})]})}try{np.displayName||(np.displayName="IndexParameter")}catch{}var nh=t(55310);function ng({systemPrompt:e,handleSystemPromptChange:a,updateSystemPrompt:t,onSinglePlaygroundView:s,label:r}){return(0,n.jsxs)(aD.A,{children:[(0,n.jsxs)(aD.A.Label,{className:"d-flex flex-justify-between flex-items-end width-full",children:[r||"System prompt",s&&(0,n.jsx)(s6,{prompt:e,handleUpdatePrompt:t})]}),(0,n.jsx)(tQ.Ay,{value:e,block:!0,resize:"vertical",rows:4,onChange:a,name:"systemPrompt",placeholder:"Define the model's behavior or role. Example: 'You are a spaceship captain telling intergalactic tales.'"})]})}try{ng.displayName||(ng.displayName="ModelSystemPrompt")}catch{}function ny({model:e,handleModelParamsChange:a,handleSystemPromptChange:t,handleResponseFormatChange:s,handleIsUseIndexSelectedChange:r,handleJsonSchemaChange:i,updateSystemPrompt:l,onSinglePlaygroundView:o}){let{modelInputSchema:d,isUseIndexSelected:c,parameters:m,responseFormat:u,jsonSchema:p}=e,h=(0,em.u)("project_neutron_rag"),g=["Mistral-small","Mistral-large","Mistral-large-2407","Mistral-Nemo","Ministral-3B","gpt-4o","gpt-4o-mini","Cohere-command-r","Cohere-command-r-plus","Cohere-command-r-08-2024","Cohere-command-r-plus-08-2024"].includes(e.catalogData.name),y=(0,nh.PG)(e.catalogData),f=(0,nh.SL)(e.catalogData);return(0,n.jsxs)(ac.B,{...(0,e5.G)("model-parameters"),gap:"normal",className:"p-0 p-md-3",children:[d?.parameters?.length===0&&!d?.capabilities?.systemPrompt&&!g&&(0,n.jsxs)("div",{className:"p-3 d-flex flex-column flex-items-center",children:[(0,n.jsx)("span",{className:"text-bold",children:"No parameters available"}),(0,n.jsx)("p",{children:"Currently, this model does not support any parameters for customization."})]}),d?.capabilities?.systemPrompt&&t&&l&&(0,n.jsx)(ng,{systemPrompt:e.systemPrompt,handleSystemPromptChange:t,updateSystemPrompt:l,onSinglePlaygroundView:o,showPresets:!0}),y&&s&&i&&(0,n.jsx)(r8,{responseFormat:u,handleResponseFormatChange:s,jsonSchema:p,handleJsonSchemaChange:i,supportsJsonSchema:f,onSinglePlaygroundView:o}),h&&g&&r&&(0,n.jsx)(np,{value:c,onChange:r}),(d?.parameters||[]).map(e=>(0,n.jsx)(rZ.W,{value:m[e.key]??"",parameter:e,handleInputChange:a},e.key))]})}try{ny.displayName||(ny.displayName="ModelParameters")}catch{}let nf={parametersHeading:"ParameterSettingsMenu-module__parametersHeading--hPr05"};function nx({model:e,onOpenChange:a,handleModelParamsChange:t,handleSystemPromptChange:s,handleResponseFormatChange:r,handleIsUseIndexSelectedChange:i,handleJsonSchemaChange:l,updateSystemPrompt:o,iconSize:d="small",className:c="",children:m}){let u=e.catalogData?{}:{"aria-disabled":!0,onClick:e=>e.preventDefault()};return(0,n.jsxs)(e1.W,{onOpenChange:a,children:[(0,n.jsx)(e1.W.Anchor,{children:(0,n.jsx)(aX.K,{icon:eg.SlidersIcon,size:d,"aria-label":"Show parameters setting",className:c,...u})}),(0,n.jsx)(e1.W.Overlay,{width:"xlarge",side:"outside-left",children:(0,n.jsxs)(e2.l,{children:[(0,n.jsxs)("div",{className:"d-flex flex-items-center border-bottom borderColor-default px-3 py-2",style:{minHeight:"49px"},children:[(0,n.jsx)(eG.A,{as:"h1",className:nf.parametersHeading,children:"Parameters"}),m]}),(0,n.jsx)(ny,{model:e,handleModelParamsChange:t,handleSystemPromptChange:s,handleResponseFormatChange:r,handleIsUseIndexSelectedChange:i,handleJsonSchemaChange:l,updateSystemPrompt:o})]})})]})}try{nx.displayName||(nx.displayName="ParameterSettingsMenu")}catch{}let nj=({modelState:e,position:a})=>{let t=t4(),{models:s,syncInputs:r}=t,{parametersHasChanges:i}=e,l=t0(),o=e.modelInputSchema?.parameters||[],{setIsUseIndexSelected:d,setSystemPrompt:c,setParametersHasChanges:m,setResponseFormat:u,setParameters:p,setJsonSchema:h}=l,g=rq({setSystemPrompt:c,setParametersHasChanges:m,position:a,state:t}),y=rQ({setParameters:p,setParametersHasChanges:m,position:a,state:t,schemaParams:o}),f=rY({setResponseFormat:u,setParametersHasChanges:m,position:a,state:t}),x=rX({setIsUseIndexSelected:d,setParametersHasChanges:m,position:a,state:t}),j=rK({setSystemPrompt:c,setParametersHasChanges:m,position:a}),v=rJ({state:t,setJsonSchema:h,setParametersHasChanges:m,position:a});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(nx,{model:e,onOpenChange:t=>{let{parameters:n=[]}=e.modelInputSchema||{};if(!t&&0!==n.length&&e.parametersHasChanges)for(let[e,{modelInputSchema:t={},parameters:n}]of s.entries())(r||e===a)&&l.setParameters(e,sB(t.parameters||[],n))},handleModelParamsChange:y,handleSystemPromptChange:g,handleResponseFormatChange:f,handleIsUseIndexSelectedChange:x,handleJsonSchemaChange:v,updateSystemPrompt:j,children:(0,n.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[(0,n.jsx)("div",{className:"d-flex",children:(e.modelInputSchema?.parameters?.length!==0||e.modelInputSchema?.capabilities?.systemPrompt)&&i&&(0,n.jsx)(aX.K,{icon:eg.TrashIcon,as:"button",variant:"invisible",disabled:!i,"aria-label":"Reset to default inputs",onClick:()=>{let t={catalogData:e.catalogData,modelInputSchema:e.modelInputSchema,gettingStarted:e.gettingStarted};for(let[e]of s.entries())(e===a||r)&&l.resetParamsAndSystemPrompt(e,t)}})}),(0,n.jsx)("form",{children:(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(rW.A,{value:"default",checked:r,onChange:()=>{let t=!r;if(t&&s.length>1)for(let[t,r]of s.entries())t!==a&&l.setModelState(t,{...r,systemPrompt:e.systemPrompt,isUseIndexSelected:e.isUseIndexSelected,parameters:sB(r.modelInputSchema?.parameters||[],e.parameters),chatInput:e.chatInput});l.setSyncInputs(t)}}),(0,n.jsx)(aD.A.Label,{children:"Sync chat input and parameters"})]})})]})})})};try{nj.displayName||(nj.displayName="ComparisonModeMenu")}catch{}function nv({modelState:{catalogData:e,messages:a,modelInputSchema:t,parameters:s,tokenUsage:{lastMessageInputTokens:r,lastMessageOutputTokens:i,totalInputTokens:l,totalOutputTokens:o},usageStats:{lastMessageLatency:d,totalLatency:c}},border:m=!1}){let{max_output_tokens:u,max_input_tokens:p,friendly_name:h}=e,g=sQ(t,s),y=sY(a);return(0,n.jsx)("div",{className:(0,s8.$)("d-flex","flex-1","p-3",m&&"border rounded-2"),children:(0,n.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,n.jsxs)("h2",{className:"h5 d-flex gap-2",children:[(0,n.jsx)(eK.K,{logoUrl:e.logo_url,darkModeIcon:e.dark_mode_icon,publisher:e.publisher}),(0,n.jsx)("span",{...(0,e5.G)("model-name"),className:"text-bold",children:h}),y&&(0,n.jsx)(tn.A,{...(0,e5.G)("latest-user-message-time"),className:"text-normal fgColor-muted",date:y,format:"relative"})]}),(0,n.jsxs)("div",{...(0,e5.G)("playground-usage-input-tokens"),children:[(0,n.jsx)("h3",{className:"h5",children:"Input Tokens"}),(0,n.jsxs)("ul",{className:"ml-3 color-fg-muted",children:[(0,n.jsxs)("li",{children:["Most recent message: ",r.toLocaleString()]}),(0,n.jsxs)("li",{children:["Total: ",l.toLocaleString()]}),(0,n.jsxs)("li",{...(0,e5.G)("max-input-tokens"),children:["Limit: ",p.toLocaleString()]})]})]}),(0,n.jsxs)("div",{...(0,e5.G)("playground-usage-output-tokens"),children:[(0,n.jsx)("h3",{className:"h5",children:"Output Tokens"}),(0,n.jsxs)("ul",{className:"ml-3 color-fg-muted",children:[(0,n.jsxs)("li",{children:["Most recent message: ",i.toLocaleString()]}),(0,n.jsxs)("li",{children:["Total: ",o.toLocaleString()]}),null!==u&&(0,n.jsxs)("li",{...(0,e5.G)("max-output-tokens"),children:["Limit: ",u.toLocaleString(),void 0!==g&&(0,n.jsxs)("span",{children:[" \xb7 ",g.toLocaleString()," for parameter"]})]})]})]}),(0,n.jsxs)("div",{...(0,e5.G)("playground-usage-stats"),children:[(0,n.jsx)("h3",{className:"h5",children:"Latency"}),(0,n.jsxs)("ul",{className:"ml-3 color-fg-muted",children:[(0,n.jsxs)("li",{children:["Most recent message: ",d," ms"]}),(0,n.jsxs)("li",{children:["Total: ",c," ms"]})]})]})]})})}try{nv.displayName||(nv.displayName="PlaygroundTokenUsage")}catch{}function nb({modelState:e,position:a}){let{lastMessageInputTokens:t,totalInputTokens:s,lastMessageOutputTokens:r,totalOutputTokens:i}=e.tokenUsage,l=e.usageStats,{sendClickAnalyticsEvent:o}=(0,t6.S)(),[d,c]=(0,m.useState)(!1),{models:u}=t4(),p=(0,au.tv)({narrow:!0},!1),h=(0,em.u)("github_models_playground_token_usage"),g=u.length>1,y=()=>{c(!d),o({category:"github_models_playground",action:"click_to_open_usage_info"})};if(!h||!(0,nh.fc)(e.catalogData))return null;let f=(0,n.jsxs)("div",{className:"fgColor-muted text-small",children:["Input: ",t,"/",s," \u2022 Output: ",r,"/",i," \u2022"," ",l.lastMessageLatency,"ms"]}),x=(0,n.jsxs)("div",{className:"fgColor-muted text-small text-right lh-condensed",children:["In: ",t,"/",s,(0,n.jsx)("br",{}),"Out: ",r,"/",i]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eL.Q,{...(0,e5.G)("playground-token-usage"),variant:"invisible",size:"small","aria-label":"Show usage info",onClick:()=>y(),children:p?x:f}),d&&(0,n.jsx)(eO.l,{title:"Model usage insights",role:"dialog",onClose:()=>c(!1),children:(0,n.jsx)("div",{className:"d-flex gap-3",children:u.map(e=>(0,n.jsx)(nv,{modelState:e,border:g},`pg-usage-${a}-${e.catalogData.id}`))})})]})}try{nb.displayName||(nb.displayName="PlaygroundTokenUsageWidget")}catch{}let nN="You have reached the maximum tokens limit for this output.";function n_({modelState:{isLoading:e,...a}}){let t=!e&&sX(a);return((0,m.useEffect)(()=>{t&&(0,ri.i)(nN)},[t]),t)?(0,n.jsx)(a6.l,{...(0,e5.G)("max-tokens-banner"),className:"mb-3",title:"Max output tokens reached",hideTitle:!0,children:nN}):null}try{n_.displayName||(n_.displayName="MaxTokensBanner")}catch{}var nw=t(34004);let nS=(e,a,t)=>{switch(e.role){case"error":case"assistant":return{name:a.friendly_name,avatarUrl:a.logo_url??"/github.png"};case"user":return{name:t?.name??"User",avatarUrl:t?.avatarUrl??"/github.png"};default:return{name:"default",avatarUrl:"/github.png"}}},nk={spinnerContainer:"PlaygroundChatAvatar-module__spinnerContainer--xq59W"};function nC({isLoading:e,messageRole:a,model:t,avatarUrl:s}){let r="assistant"===a||"error"===a?(0,n.jsx)(eK.K,{square:!1,logoUrl:t.logo_url,darkModeIcon:t.dark_mode_icon,publisher:t.publisher,size:24}):(0,n.jsx)(a$.r,{src:s,size:24});return(0,n.jsxs)("div",{className:"d-flex flex-items-center position-relative",children:[r,e&&(0,n.jsx)("div",{className:nk.spinnerContainer,...(0,e5.G)("playground-avatar-spinner"),children:(0,n.jsx)(eA.A,{size:"medium",className:"fgColor-accent"})})]})}try{nC.displayName||(nC.displayName="PlaygroundChatAvatar")}catch{}function nI({message:e,model:a,currentUser:t,isLoading:s}){let{avatarUrl:r,name:i}=nS(e,a,t);return(0,n.jsxs)("div",{className:"d-flex gap-2 p-1",...(0,e5.G)("playground-chat-message-header"),children:[(0,n.jsx)(nC,{isLoading:s,messageRole:e.role,model:a,avatarUrl:r}),(0,n.jsx)("div",{className:`message-container ${rn.messageContainer}`,children:(0,n.jsx)("div",{className:rn.messageRowWrapper,children:(0,n.jsx)("div",{className:rn.messageRow,children:(0,n.jsxs)("div",{className:rn.message,children:[(0,n.jsx)("span",{className:rn.messageAuthor,children:i}),(0,n.jsx)("span",{className:rn.messageText,children:"user"!==e.role&&s?"Responding...":(0,n.jsx)(tn.A,{...(0,e5.G)("message-timestamp"),date:e.timestamp,format:"relative"})})]})})})})]})}try{nI.displayName||(nI.displayName="PlaygroundChatMessageHeader")}catch{}var nA=t(97286);let nP={container:"PlaygroundChat-module__container--qZPLy",header:"PlaygroundChat-module__header--hUzwJ",edit:"PlaygroundChat-module__edit--J96O0"};function nT({model:e,position:a,showSidebar:t,onComparisonMode:s,handleSetSidebarTab:r,handleShowSidebar:i,stopStreamingMessages:l,uiState:o,handleSelectLanguage:d,handleSelectSDK:c}){var h,g;let{models:y,syncInputs:f}=t4(),{messages:x,isLoading:j,catalogData:v}=e,b=x.length-1,N=(0,m.useRef)(null),_=(0,m.useRef)(!0),w=t0(),{setHistory:S}=rG(),k=sI(),C=(0,eW.zy)(),I=(0,u.Z)(),[A,P]=(0,u.o)(),T=x.length>0||A.has("p")||A.has("mp")||A.has("prompt"),E=Math.min(3,...y.map(e=>e.modelInputSchema?.capabilities?.chat?.imagesPerTurn||3)),[M,R]=(0,m.useState)(null),[L,O]=(0,m.useState)(null),[D,F]=(0,m.useState)(()=>{switch(C.pathname.split("/").pop()?.toLowerCase()){case"code":return rp.CODE;case"json":return rp.JSON;default:return rp.CHAT}}),B=(0,m.useCallback)(()=>{if(N.current&&_.current){var e;((e=N.current).scrollTo?"auto"!==window.getComputedStyle(e).overflowY:1)?window.scrollTo(0,document.body.scrollHeight):N.current.scrollTo(0,N.current.scrollHeight)}},[]);(0,m.useEffect)(()=>{if(s)return;let e=function(){let e=sE.getItem("playground-chat-messages");return e?JSON.parse(e,(e,a)=>"timestamp"===e?new Date(a):a):null}();e&&e.modelName===v.name&&S({messages:e.messages??[],tokenUsage:e.tokenUsage??(0,sD.wd)()})},[v.name,s,S]),(0,m.useEffect)(()=>{requestAnimationFrame(B)},[x,B]),(0,m.useEffect)(()=>{j&&(0,ri.i)(`${v.friendly_name} is responding...`)},[j,v.friendly_name]);let $=(0,m.useCallback)(()=>{if(!N.current)return;let{scrollHeight:e,scrollTop:a,clientHeight:t}=N.current;_.current=1>=Math.abs(e-a-t)},[]),U=(0,m.useCallback)(e=>{["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(e.key)&&$()},[$]),G=(0,m.useMemo)(()=>(0,eP.s)(e=>{!function(e){let a=JSON.stringify(e);sE.setItem("playground-chat-messages",a)}(e)},200),[]);(0,m.useEffect)(()=>{a===s3.Main&&x.length>0&&G({modelName:v.name,messages:x,tokenUsage:e.tokenUsage})},[x,G,v.name,a]);let z=(0,m.useCallback)(()=>{l(),w.resetHistory(a),A.delete("p"),A.delete("mp"),A.delete("prompt"),P(A),S({messages:[],tokenUsage:(0,sD.wd)()})},[w,a,A,S,P,l]),V=(0,m.useCallback)((e,a,t,s)=>{w.sendMessage(e,a,k,t,s)},[w,k]),H=(e,t=[])=>{for(let[s,r]of y.entries())(f||a===s)&&V(s,r,e,t)},W=(0,m.useCallback)((t,s="")=>{if(t>x.length||t+1!==x.length)return;let r=x&&x[t-1]?.message;if(!r)return;let n=(0,tJ.Cz)(r);if(s&&(n=`${n}
${s}`),!n&&!(0,tY.YN)(e.catalogData.name))return;let i=[];"object"==typeof r&&(i=r.filter(e=>"image_url"===e.type).map(e=>e.image_url.url));let l=x.slice(0,-2);V(a,{...e,messages:l},n,i)},[x,e,a,V]),q=(0,m.useCallback)(t=>{if(s)return;let r=x&&x[t-1]?.message;if(!r)return;let n=(0,tJ.Cz)(r),i=x.slice(0,t-1),{lastMessageOutputTokens:l,totalOutputTokens:o}=e.tokenUsage,d={...e.tokenUsage,lastMessageOutputTokens:0,totalOutputTokens:o-l},c={...e,chatInput:n,messages:i,tokenUsage:d};w.setModelState(a,c)},[x,e,a,w,s]),K=(0,m.useCallback)(e=>"assistant"===e.role&&Array.isArray(e.message)&&e.message.length>0&&"tool_calls"===e.message[0].type,[]),Q=(e,a)=>{let t=x[a-1];return!(t?.role==="assistant"&&"error"===e.role)},{currentUser:Y}=(0,nw.J)(),J=(0,m.useCallback)((e,a)=>{W(e,a)},[W]),{data:X}=(h=v.publisher,g=v.rate_limit_tier,(0,nA.I)({queryKey:["github-models","models","low",h],initialData:[],async queryFn(){let e=new URLSearchParams;e.append("publisher",h),e.append("rate_limit_tier","low");let a=`/marketplace/models?${e.toString()}`,t=await (0,p.lS)(a);if(!t.ok)throw Error(await t.text());return t.json()},enabled:!s&&null!==g&&"low"!==g}));return(0,n.jsxs)("div",{className:nP.container,children:[L?(0,n.jsx)("div",{className:(0,s8.$)(nP.header,nP.edit),children:L}):(0,n.jsxs)("div",{className:nP.header,children:[(0,n.jsxs)(ru.I,{"aria-label":D===rp.CHAT?"Show playground chat":"Show code sample",size:"small",onChange:e=>{if(e===D||(!function(e){if(!new Set(Object.values(rp)).has(e))throw Error(`Invalid GettingStartedContentOption "${e}".`)}(e),F(e),a!==s3.Main))return;let t=(0,ai.m2O)(v),s=rh[e];I({pathname:`${t}${s}`,search:A.toString()})},children:[(0,n.jsx)(ru.I.Button,{selected:D===rp.CHAT,children:"Chat"}),(0,n.jsx)(ru.I.Button,{selected:D===rp.CODE,children:"Code"}),(0,n.jsx)(ru.I.Button,{selected:D===rp.JSON,children:"Raw"})]}),(0,n.jsxs)("div",{className:"d-flex gap-2",children:[(0,n.jsx)(nb,{modelState:e,position:a}),(0,n.jsx)(rz,{onComparisonMode:s,modelState:e,option:D,position:a,uiState:o,handleSelectLanguage:d,handleSelectSDK:c,handleClearHistory:z,children:M}),s?(0,n.jsx)(nj,{modelState:e,position:a}):(0,n.jsxs)(n.Fragment,{children:[!t&&(0,n.jsx)(aX.K,{icon:eg.SidebarExpandIcon,size:"small","aria-label":"Show parameters setting",onClick:()=>i(!0)}),(0,n.jsx)("div",{className:"hide-lg hide-xl",children:(0,n.jsx)(aX.K,{icon:eg.SlidersIcon,size:"small","aria-label":"Show parameters setting",onClick:()=>r(sA.pH.PARAMETERS)})})]})]})]}),(0,n.jsx)(sa,{subscribed:f,attachLimit:E,children:(t=>{switch(t){case rp.CHAT:return(0,n.jsxs)("div",{className:"pl-3 pb-2 overflow-auto flex-1 d-flex flex-column",children:[(0,n.jsx)("div",{className:"flex-1 d-flex flex-column flex-justify-between pr-3 overflow-auto",ref:N,onWheel:$,onKeyDown:U,role:"textbox","aria-label":"Playground chat",tabIndex:0,children:(0,n.jsx)("div",{className:"flex-1 position-relative pt-3",children:T?(0,n.jsxs)("div",{className:"position-absolute width-full",children:[x.map((a,t)=>K(a)?(0,n.jsx)(rH,{message:a},`${a.timestamp}-${JSON.stringify(a.message)}`):(0,n.jsxs)("div",{children:[Q(a,t)&&(0,n.jsx)(nI,{message:a,model:e.catalogData,currentUser:Y,isLoading:t===b&&j}),(0,n.jsx)(rm,{model:e,message:a,index:t,isLoading:t===b&&j,isError:"error"===a.role,lastIndex:t===b,handleRegenerate:W,handleEdit:s?void 0:q,handleClearHistory:z,handleImproveSuggestion:J,lowRateLimitTierModels:X})]},`${a.role}-${t}`)),(0,n.jsx)(n_,{modelState:e})]}):(0,n.jsx)(r_,{model:e,submitMessage:H})})}),(0,n.jsx)(s7,{model:e,position:a,sendMessage:H,stopStreamingMessages:l}),(0,n.jsx)("div",{className:"pt-3 pb-2 d-flex flex-justify-center pr-3",children:(0,n.jsx)(rj,{modelName:v.name})})]});case rp.CODE:return(0,n.jsx)(rk,{model:e,uiState:o});case rp.JSON:return(0,n.jsx)(rR,{setFullWidthToolbarContent:O,setToolbarContent:R,model:e,position:a,stopStreamingMessages:l,sendMessage:H})}})(D)})]})}try{nT.displayName||(nT.displayName="PlaygroundChat")}catch{}let nE={tagsSection:"TagsSection-module__tagsSection--QQZb6",categories:"TagsSection-module__categories--fAjZL"};function nM({labels:{tags:e,task:a},headingLevel:t="h3"}){return(0,n.jsxs)("div",{className:nE.tagsSection,...(0,e5.G)("tags-section"),children:[(0,n.jsx)(aj,{htmlTag:t,title:"Tags",count:a?e.length+1:e.length}),(e.length>0||a)&&(0,n.jsxs)("div",{className:nE.categories,children:[e.map(e=>(0,n.jsx)("a",{href:(0,ai.NGT)({category:e}),className:"topic-tag topic-tag-link",tabIndex:0,children:e},e)),a&&(0,n.jsx)("a",{href:(0,ai.NGT)({task:a}),className:"topic-tag topic-tag-link",tabIndex:0,children:a},a)]})]})}try{nM.displayName||(nM.displayName="TagsSection")}catch{}function nR({languages:e,headingLevel:a="h3"}){let t;let[s,r]=(0,m.useState)(!1),i=e.length>12,l=new Intl.DisplayNames(["en"],{type:"language"}),o=e.map(e=>l.of(e));if(1===o.length)t=o[0];else if(i&&!s)t=o.slice(0,12).join(", ");else{let e=o.slice(0,o.length-1).join(", ");t=`${e}, and ${o[o.length-1]}`}return(0,n.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,n.jsx)(aj,{htmlTag:a,title:"Languages",count:e.length}),(0,n.jsxs)("div",{...(0,e5.G)("languages"),children:[t," ",i&&!s&&(0,n.jsx)(aX.K,{size:"small",icon:eg.EllipsisIcon,variant:"invisible","aria-label":"Reveal all languages",className:"color-fg-muted btn-link",onClick:()=>r(!0)})]})]})}try{nR.displayName||(nR.displayName="LanguagesSection")}catch{}let nL={label:"InfoItem-module__label--K23Tu",wrapper:"InfoItem-module__wrapper--5WOSP",isInline:"InfoItem-module__isInline--lcqBn"};function nO({isInline:e=!1,children:a,label:t,...s}){return(0,n.jsxs)("div",{className:nL.wrapper+(e?` ${nL.isInline}`:""),children:[t&&(0,n.jsx)("div",{className:nL.label,children:t}),(0,n.jsx)("div",{className:"fgColor-muted",...s,children:a})]})}try{nO.displayName||(nO.displayName="InfoItem")}catch{}let nD=e=>`${Math.round(e/1e3)}k`,nF=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`;function nB({direction:e="column",model:a}){let t=a.rate_limit_tier,s=a.max_output_tokens?nD(a.max_output_tokens):"",r=nD(a.max_input_tokens),i="row"===e;return(0,n.jsxs)("div",{className:`d-flex flex-${e} ${"row"===e?"flex-wrap":"flex-nowrap"} gap-2`,...(0,e5.G)("model-details"),children:[(0,n.jsxs)(nO,{...(0,e5.G)("context"),isInline:i,label:"Context",children:[r," input ",s?(0,n.jsxs)(n.Fragment,{children:["\xb7 ",s," output"]}):""]}),(0,n.jsx)(nO,{...(0,e5.G)("training-date"),isInline:i,label:"Training date",children:a.training_data_date||"Undisclosed"}),t&&(0,n.jsx)(nO,{...(0,e5.G)("rate-limit-tier"),isInline:i,label:"Rate limit tier",children:(0,n.jsx)(e7.A,{inline:!0,href:"https://docs.github.com/en/github-models/prototyping-with-ai-models#rate-limits",tabIndex:0,children:nF(t)})}),(0,n.jsx)(nO,{isInline:i,label:"Provider support",children:(0,n.jsx)(e7.A,{inline:!0,href:`https://ai.azure.com/github/support/${a.name}`,tabIndex:0,children:"Azure support site"})})]})}try{nB.displayName||(nB.displayName="ModelDetails")}catch{}function n$({headingLevel:e="h3",model:a}){let{task:t,summary:s,tags:r}=a,i={tags:r,task:t},l=a.supported_languages.filter(e=>null!==e);return(0,n.jsxs)("div",{className:"d-flex flex-column gap-4",...(0,e5.G)("sidebar-info"),children:[(0,n.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,n.jsx)(aj,{htmlTag:e,title:"About"}),(0,n.jsx)("div",{...(0,e5.G)("summary"),children:s})]}),(0,n.jsx)(nB,{model:a}),(i.tags.length>0||i.task)&&(0,n.jsx)(nM,{headingLevel:e,labels:i}),l.length>0&&(0,n.jsx)(nR,{headingLevel:e,languages:l})]})}try{n$.displayName||(n$.displayName="SidebarInfo")}catch{}function nU({headingLevel:e,model:a,renderAs:t}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"p-0 pb-6 p-md-3 border-bottom",children:(0,n.jsx)(n$,{headingLevel:e,model:a})}),(0,n.jsx)("div",{className:"p-0 pt-2 px-md-2",children:"button"===t?(0,n.jsx)(eL.Q,{variant:"invisible",block:!0,alignContent:"start",as:"a",leadingVisual:eg.ArrowUpRightIcon,href:(0,ai.LHP)(a),children:"Model details page"}):"listitem"===t?(0,n.jsxs)(e2.l.LinkItem,{as:"a",href:(0,ai.LHP)(a),children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.ArrowUpRightIcon,{className:"fgColor-muted"})}),"Model details page"]}):null})]})}try{nU.displayName||(nU.displayName="ModelInfo")}catch{}function nG({activeTab:e,headingLevel:a="h3",modelState:t,position:s}){let r=t.modelInputSchema?.parameters||[],i=t4(),{setIsUseIndexSelected:l,setSystemPrompt:o,setParametersHasChanges:d,setResponseFormat:c,setParameters:m,setJsonSchema:u}=t0(),p=rq({setSystemPrompt:o,setParametersHasChanges:d,position:s,state:i}),h=rQ({setParameters:m,setParametersHasChanges:d,position:s,state:i,schemaParams:r}),g=rY({setResponseFormat:c,setParametersHasChanges:d,position:s,state:i}),y=rX({setIsUseIndexSelected:l,setParametersHasChanges:d,position:s,state:i}),f=rK({setSystemPrompt:o,setParametersHasChanges:d,position:s}),x=rJ({state:i,setJsonSchema:u,setParametersHasChanges:d,position:s});switch(e){case sA.pH.DETAILS:return(0,n.jsx)(nU,{headingLevel:a,model:t.catalogData,renderAs:"button"});case sA.pH.PARAMETERS:default:return(0,n.jsx)(ny,{model:t,handleSystemPromptChange:p,handleModelParamsChange:h,handleResponseFormatChange:g,handleIsUseIndexSelectedChange:y,handleJsonSchemaChange:x,updateSystemPrompt:f,onSinglePlaygroundView:!0})}}try{nG.displayName||(nG.displayName="SidebarContent")}catch{}function nz({sidebarTab:e,modelState:a,position:t,resetLabel:s,handleShowSidebarOnMobile:r,doReset:i}){return(0,n.jsx)(eO.l,{position:{narrow:"fullscreen",regular:"center"},renderHeader:({dialogLabelId:t})=>(0,n.jsxs)(eO.l.Header,{className:"d-flex flex-items-center flex-justify-between",children:[(0,n.jsx)(eO.l.Title,{id:t,className:"px-2 flex-direction-column",children:e===sA.pH.DETAILS?"Info":"Parameters"}),e===sA.pH.PARAMETERS&&a.parametersHasChanges&&(0,n.jsx)(tO.m,{text:s,children:(0,n.jsx)(aX.K,{icon:eg.TrashIcon,as:"button",variant:"invisible","aria-label":s,onClick:i})}),(0,n.jsx)(eO.l.CloseButton,{onClose:()=>r(!1)})]}),onClose:()=>r(!1),children:(0,n.jsx)(nG,{headingLevel:"h2",activeTab:e,modelState:a,position:t})})}try{nz.displayName||(nz.displayName="MobileInputs")}catch{}let nV={container:"PlaygroundInputs-module__container--MDfAQ",showSidebar:"PlaygroundInputs-module__showSidebar--KNbeW",segmentedControl:"PlaygroundInputs-module__segmentedControl--j1fAI"};function nH({model:e,position:a,sidebarTab:t,showSidebar:s,showSidebarOnMobile:r,handleSetSidebarTab:i,handleShowSidebar:l,handleShowSidebarOnMobile:o}){let d=(0,au.tv)({narrow:!0},!1),c=t0(),[m,p]=(0,u.o)(),h="Reset to default inputs",g=()=>{let t={catalogData:e.catalogData,modelInputSchema:e.modelInputSchema,gettingStarted:e.gettingStarted};m.get("preset")&&p(),c.resetParamsAndSystemPrompt(a,t)};return d&&r?(0,n.jsx)(nz,{sidebarTab:t,modelState:e,position:a,resetLabel:h,handleShowSidebarOnMobile:o,doReset:g}):(0,n.jsxs)("div",{className:`${nV.container} ${s?nV.showSidebar:""} border-top border-md-top-0 border-md-left`,children:[(0,n.jsxs)("div",{className:"d-flex flex-justify-between position-sticky top-0 p-2 border-bottom bgColor-muted flex-items-center",style:{zIndex:1},children:[(0,n.jsx)("div",{className:"flex-1 pr-2",children:(0,n.jsxs)(ru.I,{className:nV.segmentedControl,size:"small",onChange:i,fullWidth:{narrow:!0,regular:!1},"aria-label":"Mode",children:[(0,n.jsx)(ru.I.Button,{selected:t===sA.pH.PARAMETERS,children:"Parameters"}),(0,n.jsx)(ru.I.Button,{selected:t===sA.pH.DETAILS,children:"Details"})]})}),(0,n.jsxs)("div",{children:[t===sA.pH.PARAMETERS&&e.parametersHasChanges&&(0,n.jsx)(tO.m,{text:h,children:(0,n.jsx)(aX.K,{size:"small",icon:eg.TrashIcon,as:"button","aria-label":h,onClick:g})}),(0,n.jsx)(aX.K,{size:"small",icon:eg.SidebarCollapseIcon,"aria-label":"Hide parameters setting",onClick:()=>l(!1),className:"ml-2"})]})]}),(0,n.jsx)(nG,{activeTab:t,modelState:e,position:a})]})}try{nH.displayName||(nH.displayName="PlaygroundInputs")}catch{}var nW=t(34407),nq=t(61597);let nK=["o1","o1-mini","o1-preview","o3-mini"],nQ=(e,a)=>!nK.includes(e)||a.includes(e);function nY({model:e,onComparisonMode:a,onSelect:t,handleSetSidebarTab:s,variant:r}){let{restrictedModels:i}=(0,l.B)(),[o,d]=(0,m.useState)(!1),[c,u]=(0,m.useState)(""),h=(0,m.useRef)(null),g=(0,m.useRef)(null),{data:y,isLoading:f}=(0,nA.I)({queryKey:["github-models","models"],initialData:[],async queryFn(){let e=await (0,p.lS)("/marketplace/models");if(!e.ok)throw Error(await e.text());return e.json()}});(0,m.useEffect)(()=>{o&&g.current?.scrollIntoView()},[o]);let x=y.filter(e=>"chat-completion"===e.task&&(e.friendly_name.toLowerCase().includes(c.toLowerCase())||(0,e3.D)(e.publisher).toLowerCase().includes(c.toLowerCase()))&&nQ(e.name,i));return(0,n.jsxs)("div",{className:"d-flex flex-items-center",children:["compare_button"===r?(0,n.jsx)(eL.Q,{variant:"default",ref:h,onClick:()=>d(!0),"aria-label":"Select model to compare",...(0,e5.G)("compare-model-button"),children:"Compare"}):(0,n.jsxs)(eL.Q,{variant:e?"default":"primary",ref:h,onClick:()=>d(!0),"aria-label":"Switch model",leadingVisual:e&&(0,n.jsx)(eK.K,{logoUrl:e.logo_url,darkModeIcon:e.dark_mode_icon,publisher:e.publisher,size:18}),trailingVisual:(0,n.jsx)(eg.ChevronDownIcon,{}),className:e&&"bgColor-default",...(0,e5.G)("model-friendly-name"),children:[(0,n.jsx)("span",{className:e&&"fgColor-muted",children:"Model:"})," ",e?e.friendly_name:"Select a Model"]}),(0,n.jsxs)(nq.X,{open:o,anchorRef:h,onSubmit:()=>d(!1),onCancel:()=>d(!1),title:"compare_button"===r?"Select model":"Switch model",selectionVariant:"instant",children:[(0,n.jsx)(nq.X.Header,{children:(0,n.jsx)(nq.X.SearchInput,{"aria-label":"Filter models",value:c,onChange:e=>u(e.target.value)})}),f?Array.from({length:16}).map((e,a)=>(0,n.jsxs)(e2.l.Item,{disabled:!0,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(nW.O,{width:"20px",variant:"rounded"})}),(0,n.jsx)(nW.O,{variant:"rounded"})]},a)):(0,n.jsx)(e2.l,{children:x.map(a=>(0,n.jsxs)(e2.l.Item,{onSelect:()=>{if(a.id===e?.id){d(!1);return}t(a)},ref:a.id===e?.id?g:null,selected:a.id===e?.id,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eK.K,{logoUrl:a.logo_url,darkModeIcon:a.dark_mode_icon,publisher:a.publisher,size:20})}),a.friendly_name]},a.id))}),(0,n.jsx)(nq.X.Footer,{children:(0,n.jsx)(nq.X.SecondaryAction,{variant:"link",href:(0,ai.NGT)(),children:"View all models"})})]}),e&&a&&(0,n.jsx)("div",{className:"ml-2 hide-sm",children:(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Anchor,{children:(0,n.jsx)(aX.K,{icon:eg.InfoIcon,"aria-label":"Show model info",...(0,e5.G)("model-info-button")})}),(0,n.jsx)(e1.W.Overlay,{width:"xlarge",side:"outside-left",children:(0,n.jsxs)(e2.l,{children:[(0,n.jsx)("div",{className:"border-bottom borderColor-default px-3 pt-2 pb-3",...(0,e5.G)("model-info-menu"),children:(0,n.jsx)("h1",{className:"h4",children:"Details"})}),(0,n.jsx)(nU,{headingLevel:"h2",model:e,renderAs:"listitem"})]})})]})}),e&&"compare_button"!==r&&(0,n.jsx)("div",{className:"hide-lg hide-xl ml-2",children:(0,n.jsx)(aX.K,{icon:eg.InfoIcon,"aria-label":"Show model info",onClick:()=>s(sA.pH.DETAILS)})})]})}try{nY.displayName||(nY.displayName="ModelSwitcher")}catch{}let nJ={codespacesSuggestionContainer:"CodespacesSuggestion-module__codespacesSuggestionContainer--nUq1n",runCodespacesText:"CodespacesSuggestion-module__runCodespacesText--cqZDs",runCodespacesSubtitle:"CodespacesSuggestion-module__runCodespacesSubtitle--TODR8",codespacesButtonContainer:"CodespacesSuggestion-module__codespacesButtonContainer--_Wcwf"};function nX({openInCodespaceUrl:e}){return(0,n.jsxs)("div",{className:nJ.codespacesSuggestionContainer,children:[(0,n.jsx)("span",{className:nJ.runCodespacesText,children:"Run with codespaces"}),(0,n.jsx)("span",{className:nJ.runCodespacesSubtitle,children:"Seriously, you'll be up and running in seconds. It will be great."}),(0,n.jsx)("div",{className:nJ.codespacesButtonContainer,children:(0,n.jsx)(eL.Q,{as:"a",leadingVisual:eg.CodespacesIcon,variant:"primary",href:e,onClick:()=>(0,eH.BI)(sw.qY),target:"_blank",children:"Run codespace"})})]})}try{nX.displayName||(nX.displayName="CodespacesSuggestion")}catch{}var nZ=t(33530);let n0={placeholderContainer:"MissingCombinationPlaceholder-module__placeholderContainer--WFhC2",documentationText:"MissingCombinationPlaceholder-module__documentationText--nTAOa",differentComboText:"MissingCombinationPlaceholder-module__differentComboText--J17pk"};function n1(){return(0,n.jsxs)("div",{className:n0.placeholderContainer,...(0,e5.G)("missing-combination-placeholder"),children:[(0,n.jsx)("div",{className:"color-fg-attention",children:(0,n.jsx)(eg.AlertIcon,{size:16})}),(0,n.jsx)(eG.A,{as:"h2",className:n0.documentationText,children:"Documentation for this language and SDK combination is unavailable"}),(0,n.jsx)("p",{className:n0.differentComboText,children:"Try a different combination"})]})}try{n1.displayName||(n1.displayName="MissingCombinationPlaceholder")}catch{}let n2={markdownContentWrapper:"MarkdownContent-module__markdownContentWrapper--IBwx5",getStartedHeader:"MarkdownContent-module__getStartedHeader--Mo_eE",gettingStartedSubtitle:"MarkdownContent-module__gettingStartedSubtitle--ZJk2_",markdownContent:"MarkdownContent-module__markdownContent--Ybw3_"},n3=(0,m.forwardRef)(({payload:e},a)=>(0,n.jsx)("div",{className:n2.markdownContentWrapper,ref:a,...(0,e5.G)("markdown-content"),children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eG.A,{as:"h2",className:n2.getStartedHeader,children:"Or set it up yourself..."}),(0,n.jsx)(eG.A,{as:"h3",className:n2.gettingStartedSubtitle,children:"Get started"}),(0,n.jsx)("div",{className:"readme pb-3",children:(0,n.jsx)(nZ.s,{suppressHydrationWarning:!0,richText:e,className:n2.markdownContent})})]}):(0,n.jsx)(n1,{})}));n3.displayName="MarkdownContent";let n4={outerCodeContainer:"CodeContainer-module__outerCodeContainer--O554R",innerCodeContainer:"CodeContainer-module__innerCodeContainer--rgoYq",menuWrapper:"CodeContainer-module__menuWrapper--xP3bF",chaptersSection:"CodeContainer-module__chaptersSection--QnZBi",codespaceSuggestionWrapper:"CodeContainer-module__codespaceSuggestionWrapper--oeqSI",contentWrapper:"CodeContainer-module__contentWrapper--nOXri"};function n5({openInCodespaceUrl:e,showCodespacesSuggestion:a,gettingStarted:t,modelName:s,uiState:r,setUiState:i}){let l=sO(t,r?.preferredLanguage,r?.preferredSdk),[o,d]=(0,m.useState)(l.preferredLanguage),[c,u]=(0,m.useState)(l.preferredSdk),p=o?t[o]:null,h=p&&c&&p.sdks[c]?p.sdks[c]:null,[g,y]=(0,m.useState)(null),f=(0,m.useRef)(null),x=(0,m.useRef)(null);if((0,m.useEffect)(()=>{let e=x.current;if(!e||!h)return;let a=h.tocHeadings.filter(e=>2===e.level).map(e=>e.anchor),t=new IntersectionObserver(e=>{for(let a of e){let e=a.target.id;a.isIntersecting&&y(e)}},{root:e,rootMargin:"0px",threshold:.5});for(let s of a){let a=e.querySelector(`#user-content-${s}`);a&&t.observe(a)}return()=>{for(let s of a){let a=e?.querySelector(`#user-content-${s}`);a&&t.unobserve(a)}}},[h]),!p||!h||!o||!c)return(0,n.jsx)("p",{...(0,e5.G)("code-container"),children:"Error"});let{tocHeadings:j,content:v}=h,b=Object.entries(t).map(([e,a])=>({key:e,active:a.name===p.name,name:a.name})),N=j.filter(e=>2===e.level),_=e=>{if(null===f.current)return;let a=f.current.querySelector(`#user-content-${e}`);a?.scrollIntoView({block:"start",behavior:"smooth"})},w=e=>{let a=t[e];if(!a||!c)return;let s=Object.keys(a.sdks).includes(c)?c:Object.keys(a.sdks)[0]||null;d(e),sL({...l,preferredLanguage:e,...s&&{preferredSdk:s}}),s&&u(s),i&&r&&i({...r,preferredLanguage:e,preferredSdk:s||c})},S=e=>{sL({...l,preferredLanguage:o,preferredSdk:e}),u(e),i&&r&&i({...r,preferredLanguage:o,preferredSdk:e})};return(0,n.jsxs)("div",{className:n4.outerCodeContainer,...(0,e5.G)("code-container"),children:[(0,n.jsxs)("div",{className:n4.innerCodeContainer,children:[(0,n.jsxs)("div",{className:n4.menuWrapper,children:[(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{alignContent:"start",block:!0,children:[(0,n.jsx)("span",{className:"color-fg-muted",children:"Language: "}),p.name]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:b.map(({key:e,name:a})=>(0,n.jsx)(e2.l.Item,{selected:a===p.name,"aria-label":`Language: ${a}`,onSelect:()=>w(e),children:a},e))})})]}),(0,n.jsxs)(e1.W,{children:[(0,n.jsxs)(e1.W.Button,{block:!0,alignContent:"start",children:[(0,n.jsx)("span",{className:"color-fg-muted",children:"SDK: "}),h.name]}),(0,n.jsx)(e1.W.Overlay,{width:"small",children:(0,n.jsx)(e2.l,{selectionVariant:"single",children:Object.entries(p.sdks).map(([e,a])=>(0,n.jsx)(e2.l.Item,{selected:a.name===h.name,"aria-label":`SDK: ${a.name}`,onSelect:()=>S(e),children:a.name},e))})})]})]}),(0,n.jsx)("div",{className:n4.chaptersSection,children:(0,n.jsx)(e2.l,{children:(0,n.jsxs)(e2.l.Group,{children:[(0,n.jsx)(e2.l.GroupHeading,{as:"h4",children:"Chapters"}),N.map(e=>{let a=g===`user-content-${e.anchor}`;return(0,n.jsx)(e2.l.Item,{onSelect:()=>_(e.anchor),active:a,"aria-current":a,children:e.text},e.anchor)})]})})}),(0,n.jsx)("div",{className:n4.codespaceSuggestionWrapper,children:a&&(0,n.jsx)(nX,{openInCodespaceUrl:e})})]}),(0,n.jsxs)("div",{className:n4.contentWrapper,ref:x,children:[(0,n.jsx)(n3,{payload:v,ref:f}),(0,n.jsx)(rj,{modelName:s})]})]})}try{n5.displayName||(n5.displayName="CodeContainer")}catch{}let n6={gettingStartedDialog:"GettingStartedDialog-module__gettingStartedDialog--aZMTY"};function n8({onClose:e,openInCodespaceUrl:a,showCodespacesSuggestion:t,gettingStarted:s,modelName:r,uiState:i,setUiState:l,returnFocusRef:o}){return(0,n.jsx)(eO.l,{returnFocusRef:o,title:"Get API key",position:{narrow:"fullscreen",regular:"center"},onClose:e,className:n6.gettingStartedDialog,renderBody:()=>(0,n.jsx)(n5,{openInCodespaceUrl:a,showCodespacesSuggestion:t,gettingStarted:s,modelName:r,uiState:i,setUiState:l})})}try{n8.displayName||(n8.displayName="GettingStartedDialog")}catch{}let n7={giveFeedbackContainerMobile:"GiveFeedback-module__giveFeedbackContainerMobile--S4z1H",thoughtsTextMobile:"GiveFeedback-module__thoughtsTextMobile--pG8zi",lifeCycleLabelMobile:"GiveFeedback-module__lifeCycleLabelMobile--RvhnV",lifeCycleLabel:"GiveFeedback-module__lifeCycleLabel--FoNdy",giveFeedbackLink:"GiveFeedback-module__giveFeedbackLink--oIIPv"};var n9=t(98939);let ie={feedbackPopover:"GiveFeedbackPopover-module__feedbackPopover--mopJ5"};var ia=t(57516);function it({handleClose:e,mobile:a}){return(0,m.useEffect)(()=>{(0,ia.i)({incrementKey:"MODELS_PLAYGROUND_FEEDBACK_POPOVER_DISPLAYED"})},[]),(0,n.jsx)(n9.A,{open:!0,caret:a?"top-right":"top",className:a?"right-0":"",children:(0,n.jsxs)(n9.A.Content,{className:ie.feedbackPopover,children:[(0,n.jsx)("div",{className:"d-flex flex-justify-end flex-items-center position-absolute top-0 right-0 p-2",children:(0,n.jsx)(aX.K,{size:"small",variant:"invisible",icon:eg.XIcon,"aria-label":"Close",onClick:e})}),(0,n.jsx)("span",{className:"text-bold",children:"Welcome to GitHub Models!"}),(0,n.jsxs)("p",{children:["We want to make Models Playground amazing for you. Got feedback? Book a call or\xa0",(0,n.jsx)(e7.A,{inline:!0,href:rx.fk,onClick:()=>{(0,ia.i)({incrementKey:"MODELS_PLAYGROUND_FEEDBACK_POPOVER_SHARE_FEEDBACK_SELECTED"})},className:"cursor-pointer",children:"share feedback via discussion"}),"."]}),(0,n.jsx)("div",{className:"d-flex",children:(0,n.jsx)(eL.Q,{as:"a",href:rx.gT,onClick:()=>{(0,ia.i)({incrementKey:"MODELS_PLAYGROUND_FEEDBACK_POPOVER_BOOK_CALL_SELECTED"})},children:"Book a call"})})]})})}try{it.displayName||(it.displayName="GiveFeedbackPopover")}catch{}function is({playground:e,mobile:a}){let t=(0,ae.G7)("lifecycle_label_name_updates"),{playgroundFeedbackPopoverDismissed:s}=(0,l.B)(),r=e&&!s,[i,o]=(0,m.useState)(r),d=(0,m.useCallback)(()=>{r&&(0,p.DI)((0,ai.VB1)({noticeName:"github_models_playground_feedback_popover"}),{method:"POST"}),o(!1)},[r]);return a?(0,n.jsxs)("div",{className:n7.giveFeedbackContainerMobile,children:[(0,n.jsx)("div",{className:n7.thoughtsTextMobile,children:"Thoughts on GitHub Models?"}),(0,n.jsxs)("div",{className:n7.lifeCycleLabelMobile,children:[t?(0,n.jsx)(e9.X,{}):(0,n.jsx)(eV.A,{variant:"success",children:"Beta"}),e?(0,n.jsxs)("div",{className:"position-relative",children:[(0,n.jsx)(e7.A,{as:"button",onClick:()=>o(!0),children:"Give feedback"}),(0,n.jsx)("div",{children:i&&(0,n.jsx)(it,{handleClose:d,mobile:!0})})]}):(0,n.jsx)(e7.A,{href:rx.fk,tabIndex:0,children:"Give feedback"})]})]}):(0,n.jsxs)("div",{className:n7.lifeCycleLabel,children:[t?(0,n.jsx)(e9.X,{}):(0,n.jsx)(eV.A,{variant:"success",children:"Beta"}),e?(0,n.jsxs)("div",{className:"position-relative",children:[(0,n.jsx)(e7.A,{as:"button",onClick:()=>o(!0),className:"text-small",children:"Give feedback"}),(0,n.jsx)("div",{children:i&&(0,n.jsx)(it,{handleClose:d})})]}):(0,n.jsx)(e7.A,{...(0,e5.G)("feedback-link"),href:rx.fk,className:n7.giveFeedbackLink,tabIndex:0,children:"Give feedback"})]})}try{is.displayName||(is.displayName="GiveFeedback")}catch{}let ir=(0,m.forwardRef)(function({hideLabelOnSmallScreens:e=!0,model:a,...t},s){let{currentUser:r}=(0,nw.J)(),i=t.onClick,l="Use this model",o=(0,au.tv)({narrow:!0},!1),d={...t,onClick:e=>{i&&i(e);let t={registry:a.registry,model:a.name,publisher:a.publisher,label:l,analyticsTrackingId:r?.analyticsTrackingId};(0,eH.BI)(sw.jB,t)},...(0,e5.G)("get-api-key-button")};return o&&e?(0,n.jsx)(aX.K,{...d,"aria-label":l,icon:eg.CodeIcon,ref:s}):(0,n.jsx)(eL.Q,{leadingVisual:eg.CodeIcon,...d,ref:s,children:l})});try{ir.displayName||(ir.displayName="UseThisModelButton")}catch{}var ii=t(84100),il=t(19797);async function io({preset:e}){return await (0,p.lS)("/marketplace/models/presets",{method:"POST",body:{preset:e}})}async function id({urlIdentifier:e,preset:a}){let t=encodeURIComponent(e);return await (0,p.lS)(`/marketplace/models/presets/${t}`,{method:"PUT",body:{preset:a}})}async function ic({urlIdentifier:e}){let a=encodeURIComponent(e),t=await (0,p.lS)(`/marketplace/models/presets/${a}`,{method:"DELETE"});if(t.ok)return t;throw Error("Failed to delete preset")}let im=e=>""!==e.trim(),iu=(e="")=>{let a="string"==typeof e?e:e.reduce((e,a)=>"text"===a.type?[...e,a.text]:e,[]).join("\n");return im(a)?a.trim():void 0};function ip({onClose:e,onSuccess:a,selectedPreset:t,action:s}){let{sendClickAnalyticsEvent:r}=(0,t6.S)(),i=t4().models[s3.Main],l=i?.systemPrompt||"",o=iu(i?.messages[0]?.message)||"",d=iu(i?.chatInput)||"",c="create"===s,[u,p]=(0,m.useState)(c?"":t.name),[h,g]=(0,m.useState)(!c&&!t.private),[y,f]=(0,m.useState)(""!==l),[x,j]=(0,m.useState)(!1),[v,b]=(0,m.useState)(!1),[N,_]=(0,m.useState)(null),[w,S]=(0,m.useState)(null),k=m.useRef(null),C=e=>{e.error&&_(e.error),e.url_identifier&&S(`Name ${e.url_identifier}`),e.name&&S(`Name ${e.name.join(", ")}`),k.current?.focus()},I=async n=>{if(n.preventDefault(),S(null),!im(u)){S("Name is required"),k.current?.focus();return}if(u.trim().length>100){S("Name cannot be longer than 100 characters"),k.current?.focus();return}try{let{urlIdentifier:s}=t,n=x&&v?"\n":"",i=`${x?o:""}${n}${v?d:""}`,m={name:u,private:!h,parameters:{system_prompt:y?l:"",chat_prompt:i}},p=c?await io({preset:m}):await id({urlIdentifier:s,preset:m});if(p.ok){let t=await p.json();a(t.urlIdentifier),r({category:"github_models_playground",action:"click_to_save_preset",label:"ref_cta:save_preset_dialog;ref_loc:presets_dialog"}),e()}else{let e=await p.json();C(e.error)}}catch{C({error:`Failed to ${s} preset: ${u}`})}};return(0,n.jsxs)(eO.l,{title:(0,n.jsx)("div",{...(0,e5.G)("save-preset-dialog"),className:"capitalize",children:`${c?"Create":"Update"} prompt`}),width:"large",onClose:()=>{e(),r({category:"github_models_playground",action:"click_to_close_preset_dialog",label:"ref_cta:close_preset_dialog;ref_loc:presets_dialog"})},footerButtons:[{buttonType:"default",content:"Cancel",onClick:e,form:"preset-dialog-form"},{buttonType:"primary",content:c?"Save prompt":"Update prompt",form:"preset-dialog-form",type:"submit"}],children:[N&&(0,n.jsx)(a6.l,{hideTitle:!0,variant:"critical",title:"Something went wrong",description:N,className:"mb-3",...(0,e5.G)("generic-error-banner")}),(0,n.jsxs)("form",{onSubmit:I,id:"preset-dialog-form",children:[(0,n.jsxs)(aD.A,{id:"preset-name-input",className:"mb-3",required:!0,children:[(0,n.jsx)(aD.A.Label,{children:"Name"}),(0,n.jsx)(eI.A,{name:"name",onChange:e=>p(e.target.value),placeholder:"",value:u,validationStatus:w?"error":void 0,ref:k,className:"width-full"}),w?(0,n.jsx)(aD.A.Validation,{variant:"error",children:w}):null]}),(0,n.jsxs)(il.A,{className:"mb-3",children:[(0,n.jsx)(il.A.Label,{children:"Included fields"}),(0,n.jsx)(il.A.Caption,{children:'Select the fields you want to include in your preset. If both "Current input" and "First message" are checked, they will be combined into the chat prompt.'}),im(l)&&(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(rW.A,{checked:y,onChange:()=>f(!y)}),(0,n.jsx)(aD.A.Label,{children:"System prompt"})]}),im(d)&&(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(rW.A,{checked:v,onChange:()=>b(!v)}),(0,n.jsx)(aD.A.Label,{children:"Current input"}),(0,n.jsx)(aD.A.Caption,{children:"The current unsent chat input will be saved."})]}),im(o)&&(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(rW.A,{checked:x,onChange:()=>j(!x)}),(0,n.jsx)(aD.A.Label,{children:"First message"}),(0,n.jsx)(aD.A.Caption,{children:"The first message sent by the user this session will be saved."})]})]}),(0,n.jsxs)(il.A,{children:[(0,n.jsx)(il.A.Label,{children:"Settings"}),(0,n.jsxs)(aD.A,{id:"preset-public-checkbox",children:[(0,n.jsx)(rW.A,{name:"public",checked:h,onChange:()=>g(!h)}),(0,n.jsx)(aD.A.Label,{children:"Enable sharing"}),(0,n.jsx)(aD.A.Caption,{children:"Anyone with the URL will be able to view and use this prompt, but not edit. Prompts are private by default."})]})]})]})]})}try{ip.displayName||(ip.displayName="PresetDialog")}catch{}function ih({onClose:e,onSuccess:a,selectedPreset:t}){let[s,r]=(0,m.useState)(null),i=async()=>{let{urlIdentifier:s,name:n}=t;try{(await ic({urlIdentifier:s})).ok&&a(),e()}catch{r(`Failed to delete ${n} preset. Try again later.`)}},l=(0,m.useRef)(null);return(0,m.useEffect)(()=>{s&&l.current?.focus()},[s]),(0,n.jsxs)(t$.K,{onClose:a=>{"confirm"===a?i():e()},title:(0,n.jsx)("div",{...(0,e5.G)("delete-preset-dialog"),className:"text-medium",children:"Delete prompt"}),confirmButtonContent:"Delete",confirmButtonType:"danger",children:[s&&(0,n.jsx)(a6.l,{variant:"critical",title:"Something went wrong",description:s,className:"mb-2",ref:l}),"Are you sure you want to delete this prompt?"]})}try{ih.displayName||(ih.displayName="DeletePresetDialog")}catch{}function ig({onClose:e,playgroundUrl:a,urlIdentifier:t=""}){if(!aC.cg)return;let s=new URL(`${a}?preset=${t}`,aC.cg.location.origin).href;return(0,n.jsxs)(eO.l,{onClose:e,title:(0,n.jsx)("div",{...(0,e5.G)("share-preset-dialog"),className:"text-medium",children:"Share prompt"}),children:[(0,n.jsx)("p",{children:"Anyone with the URL will be able to view and use this prompt, but not edit."}),(0,n.jsxs)("div",{className:"d-flex gap-2",children:[(0,n.jsx)(eI.A,{readOnly:!0,className:"form-control input-sm color-bg-subtle flex-1","data-autoselect":!0,value:s,"aria-label":s}),(0,n.jsx)(tT.T,{className:"color-bg-subtle",variant:"default",textToCopy:s,ariaLabel:"Copy url to clipboard",tooltipProps:{direction:"nw"}})]})]})}try{ig.displayName||(ig.displayName="SharePresetDialog")}catch{}let iy={presetActionList:"PresetsMenu-module__presetActionList--tk2zb"},ix=()=>({name:"Default",parameters:{system_prompt:""},private:!0,urlIdentifier:""});function ij(){let{models:e}=t4(),a=t0(),[t,s]=(0,u.o)(),{sendClickAnalyticsEvent:r}=(0,t6.S)(),i=ix(),[l,o]=(0,m.useState)([i]),[d,c]=(0,m.useState)(0),[h,g]=(0,m.useState)("create"),[y,f]=(0,m.useState)(!1),[x,j]=(0,m.useState)(!1),[v,b]=(0,m.useState)(!1),N=(0,m.useRef)(null),_=(0,ii.U)(async()=>{let e=await (0,p.lS)("/marketplace/models/presets");if(e?.ok){let a=await e.json();o([i,...a.presets]),c(a.limit_per_user)}});if((0,m.useEffect)(()=>{_()},[_]),e.length>1)return null;let w=e[s3.Main];if(!w)return null;let{catalogData:S,modelInputSchema:k,gettingStarted:C,systemPrompt:I="",chatInput:A="",messages:P=[]}=w,T=t.get("preset")?.toLowerCase()??"",E=l.find(({urlIdentifier:e})=>e.toLowerCase()===T)??i,M=e=>{r({category:"github_models_playground",action:`click_to_${e}_preset`,label:`ref_cta:${e}_preset;ref_loc:presets_menu`})},R=async e=>{_(),s(e?{preset:e}:{})},L=e=>{let t={catalogData:S,modelInputSchema:k,gettingStarted:C};""===e.urlIdentifier?(s({}),a.setModelState(s3.Main,sH(t))):(s({preset:e.urlIdentifier}),a.setModelState(s3.Main,sH(t,e)))},O="Default"===E.name,D=im(I)||iu(A)||iu(P[0]?.message),F=[{name:"Save prompt as new preset",icon:(0,n.jsx)(eg.PlusIcon,{}),onSelect:()=>{j(!0),g("create"),M("create")},disabled:l.length>d,show:D},{name:"Update",icon:(0,n.jsx)(eg.PencilIcon,{}),onSelect:()=>{j(!0),g("update"),M("edit")},disabled:!D,show:!O&&D},{name:"Delete",icon:(0,n.jsx)(eg.TrashIcon,{}),onSelect:()=>{f(!0),M("delete")},show:!O},{name:"Share",icon:(0,n.jsx)(eg.ShareIcon,{}),onSelect:()=>{b(!0),M("share")},show:!E.private}].filter(({show:e})=>e);function B(){globalThis.requestAnimationFrame(()=>{N.current?.focus()})}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e1.W,{anchorRef:N,children:[(0,n.jsxs)(e1.W.Button,{children:[(0,n.jsx)("span",{className:"fgColor-muted",children:"Preset:"})," ",(0,n.jsx)(aU.A,{inline:!0,title:E.name,maxWidth:"20ch",children:E.name})]}),(0,n.jsx)(e1.W.Overlay,{width:"medium",children:(0,n.jsxs)(e2.l,{className:iy.presetActionList,children:[F.length?(0,n.jsxs)(e2.l.Group,{children:[F.map(({name:e,icon:a,onSelect:t,disabled:s})=>(0,n.jsxs)(e2.l.Item,{onSelect:t,disabled:s,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:a}),e]},e)),(0,n.jsx)(e2.l.Divider,{className:"mb-0"})]}):null,(0,n.jsx)(e2.l.Group,{selectionVariant:"single",children:l.map(e=>(0,n.jsxs)(e2.l.Item,{selected:e.urlIdentifier===E.urlIdentifier,onSelect:()=>{L(e),M("open")},children:[(0,n.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[(0,n.jsx)("div",{children:e.name}),!e.private&&(0,n.jsx)(eV.A,{children:"Shared"})]}),e.parameters.system_prompt?(0,n.jsx)(e2.l.Description,{variant:"block",children:(0,n.jsx)("span",{className:"line-clamp-2",children:e.parameters.system_prompt})}):null]},e.name))})]})})]}),x&&(0,n.jsx)(ip,{onClose:()=>{j(!1),B()},onSuccess:R,selectedPreset:E,action:h}),y&&(0,n.jsx)(ih,{onClose:()=>{f(!1),B()},onSuccess:R,selectedPreset:E}),v&&(0,n.jsx)(ig,{onClose:()=>{b(!1),B()},playgroundUrl:(0,ai.m2O)(S),urlIdentifier:E.urlIdentifier})]})}try{ij.displayName||(ij.displayName="PresetsMenu")}catch{}function iv({model:e,position:a,gettingStarted:t,uiState:s,setUiState:r,handleSetSidebarTab:i}){let l=`/codespaces/new?template_repository=${sw.DL}`,[o,d]=(0,m.useState)(!1),c=(0,m.useRef)(null),{models:p=[]}=t4(),h=p.length>1,g=(0,au.tv)({narrow:!0},!1),y=(0,u.Z)(),[f,x]=(0,u.o)(),j=(0,em.h)(),v=(0,m.useCallback)(async e=>{f.delete("resend-user-prompt"),a===s3.Side?x({compare_to:e.name}):y({pathname:(0,ai.m2O)(e),search:f.toString()})},[a,x,y,f]),b=async e=>{let a=e.name;a&&x({compare_to:a})};return(0,n.jsxs)("div",{className:`d-flex flex-row flex-justify-between flex-items-center gap-3 ${h?"p-2 border border-bottom-0 rounded-top-2":g?"pb-2":"pb-3"}`,children:[(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,n.jsx)(nY,{model:e,onSelect:v,onComparisonMode:h,handleSetSidebarTab:i}),!h&&!g&&(0,n.jsx)(nY,{model:e,onSelect:b,onComparisonMode:!1,handleSetSidebarTab:i,variant:"compare_button"})]}),(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[!h&&(0,n.jsxs)(n.Fragment,{children:[!g&&(0,n.jsx)(is,{playground:!0}),(j.github_models_prompt_evals||j.github_models_prompt_editor)&&(0,n.jsx)(ab.z,{className:g?"px-2":"","aria-label":"Prompt editor",leadingVisual:eg.StackIcon,href:(0,ai.Da2)(e),children:g?void 0:"Prompt editor"}),!g&&(0,n.jsx)(ij,{})]}),(0,n.jsx)(ir,{className:g?"px-2":"",variant:"primary",model:e,ref:c,onClick:()=>d(!0)}),h&&(0,n.jsx)(aX.K,{icon:eg.XIcon,"aria-label":"Close model",onClick:()=>{a===s3.Main?y({pathname:(0,ai.m2O)(p[s3.Side]?.catalogData||e),search:`retain=${s3.Side}`}):x()}}),o&&(0,n.jsx)(n8,{openInCodespaceUrl:l,onClose:()=>d(!1),showCodespacesSuggestion:!0,gettingStarted:t,modelName:e.name,uiState:s,setUiState:r,returnFocusRef:c})]})]})}try{iv.displayName||(iv.displayName="PlaygroundHeader")}catch{}let ib={featuredGrid:"Playground-module__featuredGrid--hSVGW"},iN=()=>{let{featuredModels:e=[]}=(0,l.B)();return(0,n.jsxs)("div",{className:"flex-1 d-flex flex-column flex-justify-center flex-items-center p-3",children:[(0,n.jsx)(eg.MarkGithubIcon,{size:64,className:"pb-3"}),(0,n.jsx)("p",{className:"h4",children:"Welcome to GitHub Models"}),(0,n.jsx)("p",{className:"color-fg-muted",children:"A catalog and playground of AI models to help you build AI features and products."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"fgColor-success pr-1",children:(0,n.jsx)(eg.CheckIcon,{size:16})}),(0,n.jsx)("span",{className:"text-bold",children:"Model switching:"})," A single API key for all models & billing."]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"fgColor-success pr-1",children:(0,n.jsx)(eg.CheckIcon,{size:16})}),(0,n.jsx)("span",{className:"text-bold",children:"Quick personal setup:"})," GitHub PAT to install models in your projects."]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"fgColor-success pr-1",children:(0,n.jsx)(eg.CheckIcon,{size:16})}),(0,n.jsx)("span",{className:"text-bold",children:"Free to start:"})," No charges until you hit our rate limits."]}),(0,n.jsxs)("p",{className:"pt-md-10",children:["Select a model to get started, or"," ",(0,n.jsx)("a",{className:"Link--inTextBlock",href:(0,ai.NGT)(),children:"explore the full model catalog"}),"."]}),(0,n.jsx)("div",{className:`pt-3 d-flex flex-column flex-md-row gap-3 ${ib.featuredGrid}`,...(0,e5.G)("featured-model-container"),"data-hpc":!0,children:e.map(e=>(0,n.jsx)(al,{model:e,href:(0,ai.m2O)(e)},e.id))})]})};try{iN.displayName||(iN.displayName="NoModel")}catch{}function i_({modelState:e,position:a}){let t=sO(e?.gettingStarted),s=sI(),[r,i]=(0,m.useState)(!1),[l,o]=(0,m.useState)(t),d=(0,au.tv)({narrow:!0},!1),{models:c}=t4(),p=c.length>1,h=(0,u.Z)(),g=e=>{!function(e){if(!new Set(Object.values(sA.pH)).has(e))throw Error(`Invalid SidebarSelectionOptions "${e}"`)}(e),sL({...l,sidebarTab:e}),o(a=>({...a,sidebarTab:e})),i(!0)},y=e=>{o(a=>({...a,showSidebar:e})),sL({...l,showSidebar:e})},f=(0,m.useCallback)(a=>{let t=e?.gettingStarted[a];if(!t)return;let s=Object.keys(t.sdks).includes(l.preferredSdk)?l.preferredSdk:Object.keys(t.sdks)[0]||"";o(e=>({...e,preferredLanguage:a,preferredSdk:s})),sL({...l,preferredLanguage:a,preferredSdk:s})},[e?.gettingStarted,l]),x=(0,m.useCallback)(e=>{o(a=>({...a,preferredSdk:e})),sL({...l,preferredSdk:e})},[l]),j=(0,m.useCallback)(()=>s.stopStreamingMessages(a),[s,a]);return(0,m.useEffect)(()=>j,[j,e?.catalogData?.name]),(0,n.jsxs)("div",{className:"flex-1 d-flex flex-column height-fit",style:{minWidth:p?"560px":void 0},children:[e?(0,n.jsx)(iv,{model:e?.catalogData,position:a,gettingStarted:e?.gettingStarted,uiState:l,setUiState:o,handleSetSidebarTab:g}):(0,n.jsxs)("div",{className:"d-flex flex-justify-between mb-3",children:[(0,n.jsx)(nY,{onSelect:async e=>h({pathname:(0,ai.m2O)(e)}),onComparisonMode:p,handleSetSidebarTab:g}),!d&&(0,n.jsx)(is,{})]}),(0,n.jsx)("div",{className:`flex-1 d-flex flex-column flex-md-row border ${e?"overflow-hidden":""} ${p?"rounded-bottom-2":"rounded-2"}`,children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rU,{children:(0,n.jsx)(nT,{model:e,position:a,stopStreamingMessages:j,showSidebar:l.showSidebar,onComparisonMode:p,handleSetSidebarTab:g,handleShowSidebar:y,uiState:l,handleSelectLanguage:f,handleSelectSDK:x})}),!p&&(0,n.jsx)(nH,{model:e,position:a,sidebarTab:l.sidebarTab,showSidebar:l.showSidebar,showSidebarOnMobile:r,handleSetSidebarTab:g,handleShowSidebar:y,handleShowSidebarOnMobile:i})]}):(0,n.jsx)(iN,{})})]})}try{i_.displayName||(i_.displayName="Playground")}catch{}var iw=t(25780);let iS={playgroundContainer:"ModelsPlaygroundRoute-module__playgroundContainer--gyCav"};function ik(){let{model:e,modelInputSchema:a,playgroundUrl:t,gettingStarted:s,comparedModelDetails:r,appliedPreset:i,miniplaygroundIcebreaker:o}=(0,l.B)(),[d,c]=(0,m.useReducer)(s2,t2()),{models:p=[],syncInputs:h=!1}=d,g=p[s3.Main],y=p[s3.Side],f=(0,em.h)(),x=(0,au.tv)({narrow:!0},!1),j=(0,m.useMemo)(()=>new PlaygroundManager(c),[c]),v=(0,m.useMemo)(()=>new iw.o(t),[t]),b={catalogData:e,modelInputSchema:a,gettingStarted:s},[N]=(0,u.o)();(0,m.useEffect)(()=>{let a=sO();if(!e){g&&j.removeModel(s3.Main),sL({...a,sidebarTab:sA.pH.DETAILS});return}if(g){if(!r&&y)Number(N.get("retain"))===s3.Side&&j.setModelState(s3.Main,y),j.removeModel(s3.Side),j.setSyncInputs(!1);else if(g.catalogData.name!==e.name){let e=N.has("preset")||h,a=sq({modelDetails:b,systemPromptOverride:e?g.systemPrompt:void 0,responseFormatOverride:e?g.responseFormat:void 0,jsonSchemaOverride:e?g.jsonSchema:void 0,parametersOverride:e?g.parameters:void 0,chatInputOverride:g.chatInput});j.setModelState(s3.Main,a)}}else{let e=sH(b,i);j.setModelState(s3.Main,e),o&&j.sendMessage(s3.Main,e,v,o)}if(x){y&&j.removeModel(s3.Side);return}if(r){if(y){if(y.catalogData.name!==r.catalogData.name){let e=sq({modelDetails:r,systemPromptOverride:h?y.systemPrompt:void 0,responseFormatOverride:h?y.responseFormat:void 0,parametersOverride:h?y.parameters:void 0,chatInputOverride:y.chatInput});j.setModelState(s3.Side,e)}}else{let e=g?.responseFormat==="json_schema"?"text":g?.responseFormat,a=sq({modelDetails:r,systemPromptOverride:g?.systemPrompt,responseFormatOverride:e,parametersOverride:g?.parameters,chatInputOverride:g?.chatInput});if(j.setSyncInputs(!0),j.setModelState(s3.Side,a),N.get("resend-user-prompt")&&g){let e=sJ(g.messages);if(e){let{text:t,attachments:s}=(0,tJ.Zx)(e);(t||s.length>0&&(0,tY.YN)(r.catalogData.name))&&j.sendMessage(s3.Side,a,v,t,s)}}let t=sq({modelDetails:b,systemPromptOverride:g?.systemPrompt,responseFormatOverride:e,parametersOverride:g?.parameters,chatInputOverride:g?.chatInput,messagesOverride:g?.messages});j.setModelState(s3.Main,t)}}},[e,r,x]);let _=(0,m.useMemo)(()=>f.project_neutron_rag?r9:m.Fragment,[f.project_neutron_rag]);if(e&&!g)return null;let w=!!(r&&y&&!x);return(0,n.jsx)(t5,{state:d,children:(0,n.jsx)(t1,{manager:j,children:(0,n.jsx)(_,{children:(0,n.jsx)(sC,{modelClient:v,children:(0,n.jsxs)("div",{style:{height:"calc(100dvh - 64px)"},className:"d-flex flex-column",children:[x&&(0,n.jsx)(is,{playground:!!g,mobile:!0}),(0,n.jsxs)("div",{...(0,e5.G)("playground"),className:`${iS.playgroundContainer} flex-1 d-flex gap-3 p-2 p-md-3`,children:[(0,n.jsx)(i_,{modelState:g,position:s3.Main}),w&&(0,n.jsx)(i_,{modelState:y,position:s3.Side})]})]})})})})})}try{ik.displayName||(ik.displayName="ModelsPlaygroundRoute")}catch{}try{(s=FeatureFlaggedRAGContextProvider).displayName||(s.displayName="FeatureFlaggedRAGContextProvider")}catch{}var iC=t(6020);let iI="models-prompt-evals",iA=(0,sP.A)("localStorage",{ttl:864e5,throwQuotaErrorsOnSet:!1});function iP(){let e=iA.getItem(iI);return e?JSON.parse(e,(e,a)=>"timestamp"===e?new Date(a):a):null}let iT=(e={})=>{let a=iP();return{selectedLanguage:"js",selectedSDK:"",error:void 0,variables:a?.variables??{},systemPrompt:a?.systemPrompt,prompt:a?.prompt??"",messagePairs:a?.messagePairs??[],evals:{isRunning:!1,rows:a?.evals?.rows??[],result:a?.evals?.result??[],evaluators:a?.evals?.evaluators??[]},...e}},iE=(0,m.createContext)(iT({}));function iM(){return(0,m.useContext)(iE)}let iR=({children:e,state:a})=>(0,n.jsx)(iE.Provider,{value:a,children:e});try{iE.displayName||(iE.displayName="PromptEvalsStateContext")}catch{}try{iR.displayName||(iR.displayName="PromptEvalsStateProvider")}catch{}let iL={custom:{name:"Custom"},quality:{name:"Quality"},relevance:{name:"Relevance"},comparative:{name:"Comparative"},performance:{name:"Performance"}},iO=[{displayName:"String check",description:"Check if the output contains a specific string",icon:eg.NoteIcon,configTemplate:{name:"",string:{}}},{displayName:"Custom prompt",description:"Create a test criteria by writing your own prompt",icon:eg.PencilIcon,configTemplate:{name:"",llm:{modelId:"",prompt:"",choices:[]}}},{displayName:"Similarity",description:"Evaluates similarity score for QA scenario",category:"quality",readonly:!0,configTemplate:{name:"Similarity",uses:"github/similarity"}},{displayName:"Coherence",description:"Evaluates coherence score for QA scenario",category:"quality",readonly:!0,configTemplate:{name:"Coherence",uses:"github/coherence"}},{displayName:"Fluency",description:"Evaluates fluency score for QA scenario",category:"quality",readonly:!0,configTemplate:{name:"Fluency",uses:"github/fluency"}},{displayName:"Relevance",description:"Evaluates relevance score for QA scenario",category:"relevance",readonly:!0,configTemplate:{name:"Relevance",uses:"github/relevance"}},{displayName:"Groundedness",description:"Evaluates groundedness score for RAG scenario",category:"relevance",readonly:!0,configTemplate:{name:"Groundedness",uses:"github/groundedness"}}].reduce((e,a)=>{let t=a.category??"custom";return e[t]||(e[t]=[]),e[t].push(a),e},{});function iD(e,a,t,s,r){let n=[];if(a){let t=s$(e.modelInputSchema,a);t&&n.push((0,tJ.dX)(t))}return n.push((0,tJ.j$)(t)),{models:[{id:e.catalogData.id,parameters:e.parameters}],prompts:[{messages:n}],datasets:[{rows:s.map(({id:e,...a})=>({...a}))}],evaluators:r}}async function iF(e){let a=[];for(let t of e)if(!0=="rows"in t)a.push(...t.rows);else throw Error(`Unsupported dataset configuration: ${JSON.stringify(t)}`);return a}let iB="input",i$="expected",iU="prompt",iG="completion",iz={name:"Coherence",llm:{modelId:"azureml://registries/azure-openai/models/gpt-4o/",modelParameters:{temperature:0,max_tokens:800,top_p:1,presence_penalty:0,frequency_penalty:0,response_format:"text"},systemPrompt:`# Instruction
  ## Goal
  ### You are an expert in evaluating the quality of a RESPONSE from an intelligent system based on provided definition and data. Your goal will involve answering the questions below using the information provided.
  - **Definition**: You are given a definition of the communication trait that is being evaluated to help guide your Score.
  - **Data**: Your input data include a QUERY and a RESPONSE.
  - **Tasks**: To complete your evaluation you will be asked to evaluate the Data in different ways.`,prompt:`# Definition
**Coherence** refers to the logical and orderly presentation of ideas in a response, allowing the reader to easily follow and understand the writer's train of thought. A coherent answer directly addresses the question with clear connections between sentences and paragraphs, using appropriate transitions and a logical sequence of ideas.

# Ratings
## [Coherence: 1] (Incoherent Response)
**Definition:** The response lacks coherence entirely. It consists of disjointed words or phrases that do not form complete or meaningful sentences. There is no logical connection to the question, making the response incomprehensible.

**Examples:**
  **Query:** What are the benefits of renewable energy?
  **Response:** Wind sun green jump apple silence over.

  **Query:** Explain the process of photosynthesis.
  **Response:** Plants light water flying blue music.

## [Coherence: 2] (Poorly Coherent Response)
**Definition:** The response shows minimal coherence with fragmented sentences and limited connection to the question. It contains some relevant keywords but lacks logical structure and clear relationships between ideas, making the overall message difficult to understand.

**Examples:**
  **Query:** How does vaccination work?
  **Response:** Vaccines protect disease. Immune system fight. Health better.

  **Query:** Describe how a bill becomes a law.
  **Response:** Idea proposed. Congress discuss vote. President signs.

## [Coherence: 3] (Partially Coherent Response)
**Definition:** The response partially addresses the question with some relevant information but exhibits issues in the logical flow and organization of ideas. Connections between sentences may be unclear or abrupt, requiring the reader to infer the links. The response may lack smooth transitions and may present ideas out of order.

**Examples:**
  **Query:** What causes earthquakes?
  **Response:** Earthquakes happen when tectonic plates move suddenly. Energy builds up then releases. Ground shakes and can cause damage.

  **Query:** Explain the importance of the water cycle.
  **Response:** The water cycle moves water around Earth. Evaporation, then precipitation occurs. It supports life by distributing water.

## [Coherence: 4] (Coherent Response)
**Definition:** The response is coherent and effectively addresses the question. Ideas are logically organized with clear connections between sentences and paragraphs. Appropriate transitions are used to guide the reader through the response, which flows smoothly and is easy to follow.

**Examples:**
  **Query:** What is the water cycle and how does it work?
  **Response:** The water cycle is the continuous movement of water on Earth through processes like evaporation, condensation, and precipitation. Water evaporates from bodies of water, forms clouds through condensation, and returns to the surface as precipitation. This cycle is essential for distributing water resources globally.

  **Query:** Describe the role of mitochondria in cellular function.
  **Response:** Mitochondria are organelles that produce energy for the cell. They convert nutrients into ATP through cellular respiration. This energy powers various cellular activities, making mitochondria vital for cell survival.

## [Coherence: 5] (Highly Coherent Response)
**Definition:** The response is exceptionally coherent, demonstrating sophisticated organization and flow. Ideas are presented in a logical and seamless manner, with excellent use of transitional phrases and cohesive devices. The connections between concepts are clear and enhance the reader's understanding. The response thoroughly addresses the question with clarity and precision.

**Examples:**
  **Query:** Analyze the economic impacts of climate change on coastal cities.
  **Response:** Climate change significantly affects the economies of coastal cities through rising sea levels, increased flooding, and more intense storms. These environmental changes can damage infrastructure, disrupt businesses, and lead to costly repairs. For instance, frequent flooding can hinder transportation and commerce, while the threat of severe weather may deter investment and tourism. Consequently, cities may face increased expenses for disaster preparedness and mitigation efforts, straining municipal budgets and impacting economic growth.

  **Query:** Discuss the significance of the Monroe Doctrine in shaping U.S. foreign policy.
  **Response:** The Monroe Doctrine was a pivotal policy declared in 1823 that asserted U.S. opposition to European colonization in the Americas. By stating that any intervention by external powers in the Western Hemisphere would be viewed as a hostile act, it established the U.S. as a protector of the region. This doctrine shaped U.S. foreign policy by promoting isolation from European conflicts while justifying American influence and expansion in the hemisphere. Its long-term significance lies in its enduring influence on international relations and its role in defining the U.S. position in global affairs.


# Data
QUERY: {{${iB}}}
RESPONSE: {{${iG}}}


# Tasks
## Please provide your assessment Score for the previous RESPONSE in relation to the QUERY based on the Definitions above. Your output should include the following information:
- **ThoughtChain**: To improve the reasoning process, think step by step and include a step-by-step explanation of your thought process as you analyze the data based on the definitions. Keep it brief and start your ThoughtChain with "Let's think step by step:".
- **Explanation**: a very short explanation of why you think the input Data should get that Score.
- **Score**: based on your previous analysis, provide your Score. The Score you give MUST be a integer score (i.e., "1", "2"...) based on the levels of the definitions.

## Please provide only your Score as the last output on a new line.
# Output`,choices:[{choice:"1",score:0},{choice:"2",score:.25},{choice:"3",score:.5},{choice:"4",score:.75},{choice:"5",score:1}]}},iV={name:"Fluency",llm:{modelId:"azureml://registries/azure-openai/models/gpt-4o/",modelParameters:{temperature:0,max_tokens:800,top_p:1,presence_penalty:0,frequency_penalty:0,response_format:"text"},systemPrompt:`# Instruction
## Goal
### You are an expert in evaluating the quality of a RESPONSE from an intelligent system based on provided definition and data. Your goal will involve answering the questions below using the information provided.
- **Definition**: You are given a definition of the communication trait that is being evaluated to help guide your Score.
- **Data**: Your input data include a RESPONSE.
- **Tasks**: To complete your evaluation you will be asked to evaluate the Data in different ways.`,prompt:`# Definition
**Fluency** refers to the effectiveness and clarity of written communication, focusing on grammatical accuracy, vocabulary range, sentence complexity, coherence, and overall readability. It assesses how smoothly ideas are conveyed and how easily the text can be understood by the reader.

# Ratings
## [Fluency: 1] (Emergent Fluency)
**Definition:** The response shows minimal command of the language. It contains pervasive grammatical errors, extremely limited vocabulary, and fragmented or incoherent sentences. The message is largely incomprehensible, making understanding very difficult.

**Examples:**
  **Response:** Free time I. Go park. Not fun. Alone.

  **Response:** Like food pizza. Good cheese eat.

## [Fluency: 2] (Basic Fluency)
**Definition:** The response communicates simple ideas but has frequent grammatical errors and limited vocabulary. Sentences are short and may be improperly constructed, leading to partial understanding. Repetition and awkward phrasing are common.

**Examples:**
  **Response:** I like play soccer. I watch movie. It fun.

  **Response:** My town small. Many people. We have market.

## [Fluency: 3] (Competent Fluency)
**Definition:** The response clearly conveys ideas with occasional grammatical errors. Vocabulary is adequate but not extensive. Sentences are generally correct but may lack complexity and variety. The text is coherent, and the message is easily understood with minimal effort.

**Examples:**
  **Response:** I'm planning to visit friends and maybe see a movie together.

  **Response:** I try to eat healthy food and exercise regularly by jogging.

## [Fluency: 4] (Proficient Fluency)
**Definition:** The response is well-articulated with good control of grammar and a varied vocabulary. Sentences are complex and well-structured, demonstrating coherence and cohesion. Minor errors may occur but do not affect overall understanding. The text flows smoothly, and ideas are connected logically.

**Examples:**
  **Response:** My interest in mathematics and problem-solving inspired me to become an engineer, as I enjoy designing solutions that improve people's lives.

  **Response:** Environmental conservation is crucial because it protects ecosystems, preserves biodiversity, and ensures natural resources are available for future generations.

## [Fluency: 5] (Exceptional Fluency)
**Definition:** The response demonstrates an exceptional command of language with sophisticated vocabulary and complex, varied sentence structures. It is coherent, cohesive, and engaging, with precise and nuanced expression. Grammar is flawless, and the text reflects a high level of eloquence and style.

**Examples:**
  **Response:** Globalization exerts a profound influence on cultural diversity by facilitating unprecedented cultural exchange while simultaneously risking the homogenization of distinct cultural identities, which can diminish the richness of global heritage.

  **Response:** Technology revolutionizes modern education by providing interactive learning platforms, enabling personalized learning experiences, and connecting students worldwide, thereby transforming how knowledge is acquired and shared.


# Data
RESPONSE: {{${iG}}}


# Tasks
## Please provide your assessment Score for the previous RESPONSE based on the Definitions above. Your output should include the following information:
- **ThoughtChain**: To improve the reasoning process, think step by step and include a step-by-step explanation of your thought process as you analyze the data based on the definitions. Keep it brief and start your ThoughtChain with "Let's think step by step:".
- **Explanation**: a very short explanation of why you think the input Data should get that Score.
- **Score**: based on your previous analysis, provide your Score. The Score you give MUST be a integer score (i.e., "1", "2"...) based on the levels of the definitions.


## Please provide only your Score as the last output on a new line.
# Output`,choices:[{choice:"1",score:0},{choice:"2",score:.25},{choice:"3",score:.5},{choice:"4",score:.75},{choice:"5",score:1}]}},iH={name:"Groundedness",llm:{modelId:"azureml://registries/azure-openai/models/gpt-4o/",modelParameters:{temperature:0,max_tokens:800,top_p:1,presence_penalty:0,frequency_penalty:0,response_format:"text"},systemPrompt:`# Instruction
## Goal
### You are an expert in evaluating the quality of a RESPONSE from an intelligent system based on provided definition and data. Your goal will involve answering the questions below using the information provided.
- **Definition**: You are given a definition of the communication trait that is being evaluated to help guide your Score.
- **Data**: Your input data include CONTEXT, QUERY, and RESPONSE.
- **Tasks**: To complete your evaluation you will be asked to evaluate the Data in different ways.`,prompt:`# Definition
**Groundedness** refers to how well an answer is anchored in the provided context, evaluating its relevance, accuracy, and completeness based exclusively on that context. It assesses the extent to which the answer directly and fully addresses the question without introducing unrelated or incorrect information. The scale ranges from 1 to 5, with higher numbers indicating greater groundedness.

# Ratings
## [Groundedness: 1] (Completely Unrelated Response)
**Definition:** An answer that does not relate to the question or the context in any way. It fails to address the topic, provides irrelevant information, or introduces completely unrelated subjects.

**Examples:**
  **Context:** The company's annual meeting will be held next Thursday.
  **Query:** When is the company's annual meeting?
  **Response:** I enjoy hiking in the mountains during summer.

  **Context:** The new policy aims to reduce carbon emissions by 20% over the next five years.
  **Query:** What is the goal of the new policy?
  **Response:** My favorite color is blue.

## [Groundedness: 2] (Related Topic but Does Not Respond to the Query)
**Definition:** An answer that relates to the general topic of the context but does not answer the specific question asked. It may mention concepts from the context but fails to provide a direct or relevant response.

**Examples:**
  **Context:** The museum will exhibit modern art pieces from various local artists.
  **Query:** What kind of art will be exhibited at the museum?
  **Response:** Museums are important cultural institutions.

  **Context:** The new software update improves battery life and performance.
  **Query:** What does the new software update improve?
  **Response:** Software updates can sometimes fix bugs.

## [Groundedness: 3] (Attempts to Respond but Contains Incorrect Information)
**Definition:** An answer that attempts to respond to the question but includes incorrect information not supported by the context. It may misstate facts, misinterpret the context, or provide erroneous details.

**Examples:**
  **Context:** The festival starts on June 5th and features international musicians.
  **Query:** When does the festival start?
  **Response:** The festival starts on July 5th and features local artists.

  **Context:** The recipe requires two eggs and one cup of milk.
  **Query:** How many eggs are needed for the recipe?
  **Response:** You need three eggs for the recipe.

## [Groundedness: 4] (Partially Correct Response)
**Definition:** An answer that provides a correct response to the question but is incomplete or lacks specific details mentioned in the context. It captures some of the necessary information but omits key elements needed for a full understanding.

**Examples:**
  **Context:** The bookstore offers a 15% discount to students and a 10% discount to senior citizens.
  **Query:** What discount does the bookstore offer to students?
  **Response:** Students get a discount at the bookstore.

  **Context:** The company's headquarters are located in Berlin, Germany.
  **Query:** Where are the company's headquarters?
  **Response:** The company's headquarters are in Germany.

## [Groundedness: 5] (Fully Correct and Complete Response)
**Definition:** An answer that thoroughly and accurately responds to the question, including all relevant details from the context. It directly addresses the question with precise information, demonstrating complete understanding without adding extraneous information.

**Examples:**
  **Context:** The author released her latest novel, 'The Silent Echo', on September 1st.
  **Query:** When was 'The Silent Echo' released?
  **Response:** 'The Silent Echo' was released on September 1st.

  **Context:** Participants must register by May 31st to be eligible for early bird pricing.
  **Query:** By what date must participants register to receive early bird pricing?
  **Response:** Participants must register by May 31st to receive early bird pricing.


# Data
CONTEXT: {{${i$}}}
QUERY: {{${iU}}}
RESPONSE: {{${iG}}}


# Tasks
## Please provide your assessment Score for the previous RESPONSE in relation to the CONTEXT and QUERY based on the Definitions above. Your output should include the following information:
- **ThoughtChain**: To improve the reasoning process, think step by step and include a step-by-step explanation of your thought process as you analyze the data based on the definitions. Keep it brief and start your ThoughtChain with "Let's think step by step:".
- **Explanation**: a very short explanation of why you think the input Data should get that Score.
- **Score**: based on your previous analysis, provide your Score. The Score you give MUST be a integer score (i.e., "1", "2"...) based on the levels of the definitions.

## Please provide only your Score as the last output on a new line.
# Output`,choices:[{choice:"1",score:0},{choice:"2",score:.25},{choice:"3",score:.5},{choice:"4",score:.75},{choice:"5",score:1}]}},iW={name:"Relevance",llm:{modelId:"azureml://registries/azure-openai/models/gpt-4o/",modelParameters:{temperature:0,max_tokens:800,top_p:1,presence_penalty:0,frequency_penalty:0,response_format:"text"},systemPrompt:`# Instruction
## Goal
### You are an expert in evaluating the quality of a RESPONSE from an intelligent system based on provided definition and data. Your goal will involve answering the questions below using the information provided.
- **Definition**: You are given a definition of the communication trait that is being evaluated to help guide your Score.
- **Data**: Your input data include QUERY and RESPONSE.
- **Tasks**: To complete your evaluation you will be asked to evaluate the Data in different ways.`,prompt:`# Definition
**Relevance** refers to how effectively a response addresses a question. It assesses the accuracy, completeness, and direct relevance of the response based solely on the given information.

# Ratings
## [Relevance: 1] (Irrelevant Response)
**Definition:** The response is unrelated to the question. It provides information that is off-topic and does not attempt to address the question posed.

**Examples:**
  **Query:** What is the team preparing for?
  **Response:** I went grocery shopping yesterday evening.

  **Query:** When will the company's new product line launch?
  **Response:** International travel can be very rewarding and educational.

## [Relevance: 2] (Incorrect Response)
**Definition:** The response attempts to address the question but includes incorrect information. It provides a response that is factually wrong based on the provided information.

**Examples:**
  **Query:** When was the merger between the two firms finalized?
  **Response:** The merger was finalized on April 10th.

  **Query:** Where and when will the solar eclipse be visible?
  **Response:** The solar eclipse will be visible in Asia on December 14th.

## [Relevance: 3] (Incomplete Response)
**Definition:** The response addresses the question but omits key details necessary for a full understanding. It provides a partial response that lacks essential information.

**Examples:**
  **Query:** What type of food does the new restaurant offer?
  **Response:** The restaurant offers Italian food like pasta.

  **Query:** What topics will the conference cover?
  **Response:** The conference will cover renewable energy and climate change.

## [Relevance: 4] (Complete Response)
**Definition:** The response fully addresses the question with accurate and complete information. It includes all essential details required for a comprehensive understanding, without adding any extraneous information.

**Examples:**
  **Query:** What type of food does the new restaurant offer?
  **Response:** The new restaurant offers Italian cuisine, featuring dishes like pasta, pizza, and risotto.

  **Query:** What topics will the conference cover?
  **Response:** The conference will cover renewable energy, climate change, and sustainability practices.

## [Relevance: 5] (Comprehensive Response with Insights)
**Definition:** The response not only fully and accurately addresses the question but also includes additional relevant insights or elaboration. It may explain the significance, implications, or provide minor inferences that enhance understanding.

**Examples:**
  **Query:** What type of food does the new restaurant offer?
  **Response:** The new restaurant offers Italian cuisine, featuring dishes like pasta, pizza, and risotto, aiming to provide customers with an authentic Italian dining experience.

  **Query:** What topics will the conference cover?
  **Response:** The conference will cover renewable energy, climate change, and sustainability practices, bringing together global experts to discuss these critical issues.



# Data
QUERY: {{${iU}}}
RESPONSE: {{${iG}}}


# Tasks
## Please provide your assessment Score for the previous RESPONSE in relation to the QUERY based on the Definitions above. Your output should include the following information:
- **ThoughtChain**: To improve the reasoning process, think step by step and include a step-by-step explanation of your thought process as you analyze the data based on the definitions. Keep it brief and start your ThoughtChain with "Let's think step by step:".
- **Explanation**: a very short explanation of why you think the input Data should get that Score.
- **Score**: based on your previous analysis, provide your Score. The Score you give MUST be a integer score (i.e., "1", "2"...) based on the levels of the definitions.

## Please provide only your Score as the last output on a new line.
# Output`,choices:[{choice:"1",score:0},{choice:"2",score:.25},{choice:"3",score:.5},{choice:"4",score:.75},{choice:"5",score:1}]}},iq={coherence:iz,fluency:iV,similarity:{name:"Similarity",llm:{modelId:"azureml://registries/azure-openai/models/gpt-4o/",modelParameters:{temperature:0,max_tokens:1,top_p:1,presence_penalty:0,frequency_penalty:0,response_format:"text"},systemPrompt:"You are an AI assistant. You will be given the definition of an evaluation metric for assessing the quality of an answer in a question-answering task. Your job is to compute an accurate evaluation score using the provided evaluation metric. You should return a single integer value between 1 to 5 representing the evaluation metric. You will include no other text or information.",prompt:`Equivalence, as a metric, measures the similarity between the predicted answer and the correct answer. If the information and content in the predicted answer is similar or equivalent to the correct answer, then the value of the Equivalence metric should be high, else it should be low. Given the question, correct answer, and predicted answer, determine the value of Equivalence metric using the following rating scale:
One star: the predicted answer is not at all similar to the correct answer
Two stars: the predicted answer is mostly not similar to the correct answer
Three stars: the predicted answer is somewhat similar to the correct answer
Four stars: the predicted answer is mostly similar to the correct answer
Five stars: the predicted answer is completely similar to the correct answer

This rating value should always be an integer between 1 and 5. So the rating produced should be 1 or 2 or 3 or 4 or 5.

The examples below show the Equivalence score for a question, a correct answer, and a predicted answer.

question: What is the role of ribosomes?
correct answer: Ribosomes are cellular structures responsible for protein synthesis. They interpret the genetic information carried by messenger RNA (mRNA) and use it to assemble amino acids into proteins.
predicted answer: Ribosomes participate in carbohydrate breakdown by removing nutrients from complex sugar molecules.
stars: 1

question: Why did the Titanic sink?
correct answer: The Titanic sank after it struck an iceberg during its maiden voyage in 1912. The impact caused the ship's hull to breach, allowing water to flood into the vessel. The ship's design, lifeboat shortage, and lack of timely rescue efforts contributed to the tragic loss of life.
predicted answer: The sinking of the Titanic was a result of a large iceberg collision. This caused the ship to take on water and eventually sink, leading to the death of many passengers due to a shortage of lifeboats and insufficient rescue attempts.
stars: 2

question: What causes seasons on Earth?
correct answer: Seasons on Earth are caused by the tilt of the Earth's axis and its revolution around the Sun. As the Earth orbits the Sun, the tilt causes different parts of the planet to receive varying amounts of sunlight, resulting in changes in temperature and weather patterns.
predicted answer: Seasons occur because of the Earth's rotation and its elliptical orbit around the Sun. The tilt of the Earth's axis causes regions to be subjected to different sunlight intensities, which leads to temperature fluctuations and alternating weather conditions.
stars: 3

question: How does photosynthesis work?
correct answer: Photosynthesis is a process by which green plants and some other organisms convert light energy into chemical energy. This occurs as light is absorbed by chlorophyll molecules, and then carbon dioxide and water are converted into glucose and oxygen through a series of reactions.
predicted answer: In photosynthesis, sunlight is transformed into nutrients by plants and certain microorganisms. Light is captured by chlorophyll molecules, followed by the conversion of carbon dioxide and water into sugar and oxygen through multiple reactions.
stars: 4

question: What are the health benefits of regular exercise?
correct answer: Regular exercise can help maintain a healthy weight, increase muscle and bone strength, and reduce the risk of chronic diseases. It also promotes mental well-being by reducing stress and improving overall mood.
predicted answer: Routine physical activity can contribute to maintaining ideal body weight, enhancing muscle and bone strength, and preventing chronic illnesses. In addition, it supports mental health by alleviating stress and augmenting general mood.
stars: 5

question: {{${iB}}}
correct answer: {{${i$}}}
predicted answer: {{${iG}}}
stars:`,choices:[{choice:"1",score:0},{choice:"2",score:.25},{choice:"3",score:.5},{choice:"4",score:.75},{choice:"5",score:1}]}},relevance:iW,groundedness:iH};function iK(e,a){return e.replace(/{{(.*?)}}/g,(e,t)=>a[t]??e)}function iQ(e){let a=e.match(/{{(.*?)}}/g);return a?Array.from(new Set(a.map(e=>e.slice(2,-2)))):[]}function iY(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let LLMEvaluator=class LLMEvaluator{async evaluate(e,a,t,s){let r=e.find(e=>"user"===e.role).message,n={...t,prompt:r,completion:a.message},i=iK(this.cfg.prompt,n),l=[];this.cfg.systemPrompt&&l.push({timestamp:new Date,role:"system",message:this.cfg.systemPrompt}),l.push({timestamp:new Date,role:"user",message:i});let o=await this.options.api.sendMessages(this.cfg.modelId,this.cfg.modelParameters,l,s);if(!o||0===o.length)throw Error("Completion for LLM evaluator is empty");let d=o[0].message,c=this.findChoice(d);return c?2===this.cfg.choices.length?{pass:c.score>0}:{score:c.score}:{error:"No choice found in completion"}}findChoice(e){return this.cfg.choices.find(a=>a.choice===e)}constructor(e,a,t){iY(this,"name",void 0),iY(this,"cfg",void 0),iY(this,"options",void 0),this.name=e,this.cfg=a,this.options=t}};function iJ(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let StringEvaluator=class StringEvaluator{get name(){return this.customName||`string.${this.operationName}`}async evaluate(e,a,t){let s=iK(this.value,t);return{pass:this.operation(a.message,s)}}constructor(e,a){switch(iJ(this,"operationName",void 0),iJ(this,"operation",void 0),iJ(this,"value",void 0),iJ(this,"customName",void 0),iJ(this,"cfg",void 0),this.customName=e,this.cfg=a,!0){case void 0!==this.cfg.contains:this.operation=(e,a)=>e.includes(a),this.operationName="contains",this.value=this.cfg.contains;break;case void 0!==this.cfg.startsWith:this.operation=(e,a)=>e.startsWith(a),this.operationName="startsWith",this.value=this.cfg.startsWith;break;case void 0!==this.cfg.endsWith:this.operation=(e,a)=>e.endsWith(a),this.operationName="endsWith",this.value=this.cfg.endsWith;break;default:throw Error("unknown operation")}}};async function iX(e,a){if(e.uses){let t=e.uses.split("/");if(t.length>1&&"github"===t[0]){let e=iq[t[1]];if(e)return iX(e,a)}}if(e.string)return new StringEvaluator(e.name,e.string);if(e.llm)return new LLMEvaluator(e.name,e.llm,a);throw Error("Not implemented")}async function iZ(e){switch(!0){case"prompt"in e&&"string"==typeof e.prompt:return[{timestamp:new Date,role:"user",message:e.prompt}];case"messages"in e&&Array.isArray(e.messages):return e.messages;default:throw Error("Invalid prompt configuration")}}async function*i0(e,a,t){for(let s of e.models)for(let r of e.prompts){let n=await iZ(r);for(let r of(await iF(e.datasets))){let i=n.map(e=>({...e,message:iK(e.message,r)}));if(yield await i1(s,i,r,e,a,t),t?.aborted)return}}}async function i1(e,a,t,s,r,n){let i=await r.api.sendMessages(e.id,e.parameters,a,n);if(!i||!i[0])throw Error("Completion is empty");let l={model:e,prompt:a,completion:i[0].message,data:t,evals:[]};for(let e of s.evaluators){let s=await iX(e,r),o=await s.evaluate(a,i[0],t,n);if(l.evals.push(o),n?.aborted)break}return l}function i2(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}let i3=(0,m.createContext)({});function i4(){return(0,m.useContext)(i3)}function i5(e,a){switch(a.type){case"SET_IS_LOADING":return{...e,model:{...e.model,isLoading:a.payload.isLoading}};case"SET_MESSAGES":return{...e,model:{...e.model,messages:a.payload.messages}};case"SET_PARAMETERS":return i6({...e,parameters:a.payload.parameters}),{...e,model:{...e.model,parameters:a.payload.parameters}};case"SET_PARAMETERS_HAS_CHANGES":return{...e,model:{...e.model,parametersHasChanges:a.payload.parametersHasChanges}};case"SET_SYSTEM_PROMPT":return i6({...e,systemPrompt:a.payload.systemPrompt});case"SET_MODEL_STATE":{let{modelState:t}=a.payload;return{...e,model:t}}case"SET_PROMPT_INPUT":return i6({...e,prompt:a.payload.prompt});case"CLEAR_PROMPTS_INPUT":return i6({...e,prompt:"",systemPrompt:""});case"SET_PROMPT_FEEDBACK_BANNER_DISMISSED":return{...e,promptFeedbackBannerDismissed:a.payload.dismissed};case"EVAL_ADD_ROW":return i6({...e,evals:{...e.evals,rows:[...e.evals.rows,{...a.row,id:e.evals.rows.length}]}});case"EVAL_UPDATE_ROW":return i6({...e,evals:{...e.evals,rows:e.evals.rows.map(e=>e.id===a.row.id?a.row:e)}});case"EVAL_REMOVE_ROW":return i6({...e,evals:{...e.evals,rows:e.evals.rows.filter(e=>e.id!==a.id)}});case"EVAL_CLEAR":return i6({...e,evals:{rows:[],result:[],evaluators:[],isRunning:!1}});case"EVAL_ADD_EVALUATOR":return i6({...e,evals:{...e.evals,evaluators:[...e.evals.evaluators,a.evaluator]}});case"EVAL_UPDATE_EVALUATOR":return i6({...e,evals:{...e.evals,evaluators:e.evals.evaluators.map((e,t)=>t===a.payload.index?{...e,config:a.payload.evaluator}:e)}});case"EVAL_REMOVE_EVALUATOR":return i6({...e,evals:{...e.evals,evaluators:e.evals.evaluators.filter((e,t)=>t!==a.index),result:e.evals.result.map(e=>({...e,evals:e.evals.filter((e,t)=>t!==a.index)}))}});case"EVAL_SET_IS_RUNNING":return{...e,evals:{...e.evals,isRunning:a.payload.isRunning}};case"EVAL_SET_RESULT":return i6({...e,evals:{...e.evals,result:a.result}});case"EVAL_UPDATE_RESULT_ROW":{let t=e.evals.result.indexOf(a.row);return -1===t&&(t=e.evals.result.length),{...e,evals:{...e.evals,result:[...e.evals.result.slice(0,t),a.row,...e.evals.result.slice(t+1)]}}}case"EVAL_SET_VARIABLES":return i6({...e,variables:a.payload.variables});case"EVAL_SET_ERROR":return{...e,error:a.payload.error};case"SET_MESSAGE_PAIRS":return i6({...e,messagePairs:a.payload.messagePairs})}}function i6(e){return!function(e){let a=JSON.stringify(e);iA.setItem(iI,a)}(e),e}let PromptEvalsManager=class PromptEvalsManager{updateModel(e,a,t){let s=a?.catalogData.name===e.catalogData.name,r=t||s,n=sq({modelDetails:e,systemPromptOverride:r?a?.systemPrompt:void 0,responseFormatOverride:r?a?.responseFormat:void 0,messagesOverride:s?a?.messages:void 0,parametersOverride:r?a?.parameters:void 0,chatInputOverride:a?.chatInput});this.setModelState(n)}setParameters(e){this.dispatch({type:"SET_PARAMETERS",payload:{parameters:e}})}setParametersHasChanges(e){this.dispatch({type:"SET_PARAMETERS_HAS_CHANGES",payload:{parametersHasChanges:e}})}setSystemPrompt(e){this.dispatch({type:"SET_SYSTEM_PROMPT",payload:{systemPrompt:e}})}setMessages(e){this.dispatch({type:"SET_MESSAGES",payload:{messages:e}})}setIsLoading(e){this.dispatch({type:"SET_IS_LOADING",payload:{isLoading:e}})}setPromptInput(e){this.dispatch({type:"SET_PROMPT_INPUT",payload:{prompt:e}})}setMessagePairs(e){this.dispatch({type:"SET_MESSAGE_PAIRS",payload:{messagePairs:e}})}async dismissPromptFeedbackBanner(){this.dispatch({type:"SET_PROMPT_FEEDBACK_BANNER_DISMISSED",payload:{dismissed:!0}}),await (0,p.DI)("/settings/dismiss-notice/github_models_prompt_feedback_banner",{method:"POST"})}resetHistory(){this.setMessages([])}setError(e){this.dispatch({type:"EVAL_SET_ERROR",payload:{error:e}})}setVariables(e){this.dispatch({type:"EVAL_SET_VARIABLES",payload:{variables:e}})}async startEvalsRun(e,a,t,s,r,n,i){this.stopEvalsRun(),this.evalsRunAbortController=new AbortController,this.dispatch({type:"EVAL_SET_IS_RUNNING",payload:{isRunning:!0}});let l=iD(e,s,r,n,i);this.dispatch({type:"EVAL_SET_RESULT",result:[]});try{for await(let e of i0(l,{api:{sendMessages:async(e,s,r,n)=>{let i=t.filter(a=>a.id.startsWith(e));if(!i||0===i.length)throw Error(`Model ${e} not found`);let l=i.sort((e,a)=>a.id.localeCompare(e.id))[0];return[(await a.sendNonStreamingMessage(l,r,s,null,"text",void 0,n)).message].map(e=>({timestamp:e.timestamp,role:e.role,message:e.message}))}}},this.evalsRunAbortController.signal))this.dispatch({type:"EVAL_UPDATE_RESULT_ROW",row:e})}catch(a){if(a instanceof DOMException&&"AbortError"===a.name)return;console.error(a);let e=a?.message||"An error occurred while running evals.";this.dispatch({type:"EVAL_SET_ERROR",payload:{error:e}})}finally{this.dispatch({type:"EVAL_SET_IS_RUNNING",payload:{isRunning:!1}})}}stopEvalsRun(){this.evalsRunAbortController&&(this.evalsRunAbortController.abort(),this.evalsRunAbortController=null),this.dispatch({type:"EVAL_SET_IS_RUNNING",payload:{isRunning:!1}})}evalsAddRow(e){this.dispatch({type:"EVAL_ADD_ROW",row:e})}evalsUpdateRow(e){this.dispatch({type:"EVAL_UPDATE_ROW",row:e})}evalsRemoveRow(e){this.dispatch({type:"EVAL_REMOVE_ROW",id:e})}evalsClear(){this.dispatch({type:"EVAL_CLEAR"})}evalsAddEvaluator(e){this.dispatch({type:"EVAL_ADD_EVALUATOR",evaluator:e})}evalsUpdateEvaluator(e,a){this.dispatch({type:"EVAL_UPDATE_EVALUATOR",payload:{index:e,evaluator:a}})}evalsRemoveEvaluator(e){this.dispatch({type:"EVAL_REMOVE_EVALUATOR",index:e})}evalsSetResult(e){this.dispatch({type:"EVAL_SET_RESULT",result:e})}evalsClearUserSystemPrompt(){this.dispatch({type:"CLEAR_PROMPTS_INPUT"})}evalsClearUserSystemPromptAndVariables(){this.setVariables({}),this.evalsClearUserSystemPrompt()}async sendMessage(e,a,t="",s,r=[],n){let{parameters:i,modelInputSchema:l={},messages:o,catalogData:d,isUseIndexSelected:c}=e,{parameters:m=[]}=l,u=e.catalogData.name.includes("o1")?sF:e.responseFormat||sF,p=sB(m,i);c&&(p.tools=[sZ.tD]);let h=s$(l,t),g=(0,tJ.Kh)(s,r,o,l,d);if(!g)return;let y=(0,tJ.qp)(""),f=n?[g]:[g,y];if(n){for(let e of n)f=f.concat([(0,tJ.qp)(e.assistant),(0,tJ.j$)(e.user)]);f=f.concat(y)}this.setMessages(f),this.setIsLoading(!0);let x=f[f.length-1],j=x?.role==="assistant"&&x?.message===""?f.slice(0,-1):f;try{for await(let e of a.sendMessage(s3.Main,d,f,p,h,u))this.setMessages([...j,e.message])}catch(e){e instanceof sw.XP?this.setMessages([...j,(0,tJ.Gy)(e.message)]):this.setMessages([...j,(0,tJ.Gy)("An error occurred. Please try again.")])}this.setIsLoading(!1)}setModelState(e){this.dispatch({type:"SET_MODEL_STATE",payload:{modelState:e}})}resetParams(e){let a=sH(e);this.setParameters(a.parameters)}constructor(e){i2(this,"dispatch",void 0),i2(this,"evalsRunAbortController",null),this.dispatch=e}};let i8={"eval-grid":"Evals-module__eval-grid--LLsni",header:"Evals-module__header--uDpt7",mobileFeedback:"Evals-module__mobileFeedback--Z5Iht",container:"Evals-module__container--XjYBd"};var i7=t(98488),i9=t(70255);function le(e,a){return(0,nA.I)({queryKey:["github-models","models",e,a],enabled:!!a&&!!e,async queryFn(){if(void 0===a||void 0===e)return;let t=await (0,p.lS)(`/marketplace/models/${e}/${a}/details`);if(!t.ok)throw Error(await t.text());return t.json()}})}let la={button:"ModelPicker-module__button--CxLEE",dropdown:"ModelPicker-module__dropdown--LyKdB"};function lt({modelId:e,restrictedModels:a,onSelect:t}){let{data:s,isLoading:r}=(0,nA.I)({queryKey:["github-models","models"],initialData:[],async queryFn(){let e=await (0,p.lS)("/marketplace/models");if(!e.ok)throw Error(await e.text());return e.json()}}),[i,l]=(0,m.useState)(!1),[o,d]=(0,m.useState)(""),[c,u]=(0,m.useState)(()=>s?.find(a=>a.id===e)||{}),h=(0,m.useRef)(null),g=(0,m.useRef)(null),{data:y,isFetching:f}=le(c?.registry,c?.name);(0,m.useEffect)(()=>{i&&g.current?.scrollIntoView()},[i]);let x=s.filter(e=>"chat-completion"===e.task&&(e.friendly_name.toLowerCase().includes(o.toLowerCase())||(0,e3.D)(e.publisher).toLowerCase().includes(o.toLowerCase()))&&nQ(e.name,a));return(0,m.useEffect)(()=>{if(!f&&y){if(c.id===e){l(!1);return}t(c,y)}},[f,c,e,y,t]),(0,n.jsxs)("div",{children:[(0,n.jsx)(eL.Q,{ref:h,onClick:()=>l(!0),"aria-label":"Select model",className:la.button,children:(0,n.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[c.name&&(0,n.jsx)(eK.K,{logoUrl:c.logo_url,darkModeIcon:c.dark_mode_icon,publisher:c.publisher,size:18}),(0,n.jsx)("div",{className:la.dropdown,children:c.name?c.friendly_name:"Select model"}),(0,n.jsx)("div",{className:"fgColor-muted",children:(0,n.jsx)(eg.ChevronDownIcon,{})})]})}),(0,n.jsxs)(nq.X,{open:i,anchorRef:h,onSubmit:()=>l(!1),onCancel:()=>l(!1),title:"Select model",selectionVariant:"instant",children:[(0,n.jsx)(nq.X.Header,{children:(0,n.jsx)(nq.X.SearchInput,{"aria-label":"Filter models",value:o,onChange:e=>d(e.target.value)})}),r?Array.from({length:16}).map((e,a)=>(0,n.jsxs)(e2.l.Item,{disabled:!0,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(nW.O,{width:"20px",variant:"rounded"})}),(0,n.jsx)(nW.O,{variant:"rounded"})]},a)):(0,n.jsx)(e2.l,{children:x.map(e=>(0,n.jsxs)(e2.l.Item,{onSelect:()=>u(e),ref:e.id===c?.id?g:null,selected:e.id===c?.id,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eK.K,{logoUrl:e.logo_url,darkModeIcon:e.dark_mode_icon,publisher:e.publisher,size:20})}),e.friendly_name]},e.id))})]})]})}try{lt.displayName||(lt.displayName="ModelPicker")}catch{}let ls={PassFail:"passFail",Score:"score"};function lr({e,readonly:a,updateEvaluator:t}){let[s,r]=(0,m.useState)(()=>e.choices.length>2?ls.Score:ls.PassFail),i=(0,m.useCallback)(a=>{t({...e,choices:e.choices.filter((e,t)=>t!==a)})},[e,t]),l=(0,m.useCallback)(()=>{t({...e,choices:[...e.choices,{choice:"",score:0}]})},[e,t]),o=(0,m.useCallback)((a,s)=>{t({...e,choices:[...e.choices.slice(0,a),{choice:e.choices[a].choice,score:s},...e.choices.slice(a+1)]})},[e,t]),d=(0,m.useCallback)((a,s)=>{t({...e,choices:[...e.choices.slice(0,a),{...e.choices[a],choice:s},...e.choices.slice(a+1)]})},[e,t]),c=(0,m.useCallback)(a=>{t({...e,prompt:a.currentTarget.value})},[e,t]),u=(0,m.useCallback)(a=>{t({...e,systemPrompt:a.currentTarget.value||void 0})},[e,t]),[h,g]=(0,m.useState)([]),y=(0,m.useCallback)(e=>{g(["{{prompt}}","{{input}}","{{expected}}","{{completion}}"])},[]),f=(0,m.useCallback)(()=>{g([])},[]),[x,j]=(0,m.useState)({}),{data:v}=(0,nA.I)({queryKey:["github-models","models"],initialData:[],async queryFn(){let e=await (0,p.lS)("/marketplace/models");if(!e.ok)throw Error(await e.text());return e.json()}}),b=v?.find(a=>a.id===e.modelId)||{},{data:N,isFetching:_}=le(b?.registry,b?.name);return(0,m.useEffect)(()=>{_||Object.keys(x).length>0||!N||j({...sH(N),...e.modelParameters?{parameters:e.modelParameters}:{}})},[_,e.modelParameters,N]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(aD.A,{disabled:a,children:[(0,n.jsx)(aD.A.Label,{children:"Model"}),(0,n.jsxs)("div",{className:"d-flex flex-row",children:[(0,n.jsx)(lt,{modelId:e.modelId,onSelect:(a,s)=>{t({...e,modelId:a.id}),j(sH(s))},restrictedModels:[]}),(0,n.jsx)(nx,{model:x,handleModelParamsChange:({key:a,value:s,validate:r})=>{let n={...x.parameters,[a]:s},i=x.modelInputSchema?.parameters,l=r&&void 0!==i?sB(i,n):n;t({...e,modelParameters:l}),j({...x,parameters:l})},iconSize:"medium",className:"ml-2"})]})]}),(0,n.jsxs)(aD.A,{disabled:a,className:"mb-3",children:[(0,n.jsx)(aD.A.Label,{children:"System prompt"}),(0,n.jsx)(tQ.Ay,{value:e.systemPrompt,resize:"vertical",placeholder:"Optional system prompt to use when prompting the model",block:!0,onInput:u,rows:2,style:{height:"50px"}})]}),(0,n.jsxs)(aD.A,{required:!0,disabled:a,className:"mb-3",children:[(0,n.jsx)(aD.A.Label,{children:"Prompt"}),(0,n.jsx)(i9.a,{fullWidth:!0,tabInsertsSuggestions:!0,triggers:[{triggerChar:"{{",keepTriggerCharOnCommit:!1}],suggestions:h,onShowSuggestions:y,onHideSuggestions:f,children:(0,n.jsx)(tQ.Ay,{value:e.prompt,resize:"vertical",placeholder:"Enter your prompt. Connect to your dataset and the model output with {{variables}}",block:!0,onInput:c,rows:4,style:{height:"150px"}})})]}),(0,n.jsxs)(r0.A,{className:"flex-row",name:"choiceMode",onChange:e=>r(e),children:[(0,n.jsx)(r0.A.Label,{children:"Mode"}),(0,n.jsxs)(ac.B,{direction:"horizontal",children:[(0,n.jsxs)(aD.A,{disabled:a,children:[(0,n.jsx)(aH.A,{value:ls.PassFail,checked:s===ls.PassFail}),(0,n.jsx)(aD.A.Label,{children:"Pass/Fail"})]}),(0,n.jsxs)(aD.A,{disabled:a,children:[(0,n.jsx)(aH.A,{value:ls.Score,checked:s===ls.Score}),(0,n.jsx)(aD.A.Label,{children:"Scores"})]})]})]}),(0,n.jsxs)(aD.A,{required:!0,disabled:a,children:[(0,n.jsx)(aD.A.Label,{children:"Choices"}),e.choices.map((e,t)=>(0,n.jsx)("div",{className:"width-full",children:(0,n.jsxs)(ac.B,{direction:"horizontal",children:[(0,n.jsx)(ac.B.Item,{grow:!0,className:"d-flex",children:(0,n.jsx)(eI.A,{disabled:a,className:"flex-1",placeholder:"Enter a choice",value:e.choice,onInput:e=>d(t,e.currentTarget.value)})}),s===ls.Score?(0,n.jsxs)(aD.A,{disabled:a,children:[(0,n.jsx)(aD.A.Label,{visuallyHidden:!0,children:"Score"}),(0,n.jsx)(eI.A,{type:"number",style:{width:"75px"},placeholder:"Score",value:e.score,onInput:e=>o(t,parseFloat(e.currentTarget.value))})]}):(0,n.jsxs)(ru.I,{"aria-label":"Choice value",children:[(0,n.jsx)(ru.I.Button,{disabled:a,selected:1===e.score,onClick:()=>o(t,1),children:"Pass"}),(0,n.jsx)(ru.I.Button,{disabled:a,selected:0===e.score,onClick:()=>o(t,0),children:"Fail"})]}),(0,n.jsx)(aX.K,{disabled:a,"aria-label":"Remove choice",icon:eg.TrashIcon,variant:"invisible",onClick:()=>i(t)})]})},t)),!a&&(0,n.jsx)(eL.Q,{size:"small",onClick:l,children:"Add choice"})]})]})}try{lr.displayName||(lr.displayName="LLMEvaluatorContent")}catch{}var ln=t(24743);function li({e,readonly:a,updateEvaluator:t}){let s=e.startsWith?"startsWith":e.endsWith?"endsWith":"contains",[r,i]=(0,m.useState)([]),l=(0,m.useCallback)(e=>{i(["{{input}}","{{expected}}","{{completion}}"])},[]),o=(0,m.useCallback)(()=>{i([])},[]),d=(0,m.useCallback)(a=>{t({...e,[s]:a.currentTarget.value})},[e,s,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(aD.A,{disabled:a,children:[(0,n.jsx)(aD.A.Label,{children:"Operation"}),(0,n.jsxs)(ln.A,{value:s,onChange:a=>t({[a.target.value]:e[s]}),children:[(0,n.jsx)(ln.A.Option,{value:"contains",children:"contains"}),(0,n.jsx)(ln.A.Option,{value:"startsWith",children:"startsWith"}),(0,n.jsx)(ln.A.Option,{value:"endsWith",children:"endsWith"})]})]}),(0,n.jsxs)(aD.A,{required:!0,disabled:a,className:"mb-3",children:[(0,n.jsx)(aD.A.Label,{children:"Value"}),(0,n.jsx)(i9.a,{fullWidth:!0,tabInsertsSuggestions:!0,triggers:[{triggerChar:"{{",keepTriggerCharOnCommit:!1}],suggestions:r,onShowSuggestions:l,onHideSuggestions:o,children:(0,n.jsx)(tQ.Ay,{value:e[s],resize:"vertical",placeholder:"Value to check. Add variables with {{variable}}",block:!0,onInput:d,rows:1,style:{height:"50px"}})})]})]})}try{li.displayName||(li.displayName="StringCheckContent")}catch{}function ll({template:e,evaluatorIndex:a,evaluator:t,onClose:s}){let r=i4(),i=t?"edit":"add",l="add"===i&&e.readonly||!1,[o,d]=m.useState(()=>e?(0,i7.A)(e.configTemplate):t),[c,u]=(0,m.useState)(null),p=o.string?(0,n.jsx)(li,{e:o.string,readonly:l,updateEvaluator:e=>{d({...o,string:e})}}):o.llm?(0,n.jsx)(lr,{e:o.llm,readonly:l,updateEvaluator:e=>{d({...o,llm:e})}}):null,h=[{content:"Cancel",onClick:s}];return"edit"===i&&l||h.push({buttonType:"primary",content:"add"===i?"Add":"Update",onClick:()=>{var e,t;let n=o.name?o.string?(e=o.string).contains||e.startsWith||e.endsWith?null:"Value is required":o.llm?(t=o.llm).prompt?t.modelId?0===t.choices.length?"At least one choice is required":t.choices.some(e=>""===e.choice)?"All choices must have a value":t.choices.every(e=>0===e.score)?"At least one choice must have a score > 0":null:"Model is required":"Prompt is required":null:"Name is required";if(n){u(n);return}switch(i){case"add":r.evalsAddEvaluator({config:o});break;case"edit":r.evalsUpdateEvaluator(a,o)}s()}}),(0,n.jsx)(eO.l,{title:"add"===i?"Add test criteria":"Edit test criteria",onClose:s,footerButtons:h,children:(0,n.jsxs)(ac.B,{children:[(0,n.jsxs)(aD.A,{required:!0,children:[(0,n.jsx)(aD.A.Label,{children:"Name"}),(0,n.jsx)(eI.A,{disabled:l,value:o.name,onInput:e=>{d({...o,name:e.currentTarget.value})}})]}),p,c&&(0,n.jsx)(aD.A.Validation,{variant:"error",children:c})]})})}try{ll.displayName||(ll.displayName="EvaluatorDialog")}catch{}var lo=t(11499);let ld={header:"Header-module__header--SyHNu",modelSwitcherWrapper:"Header-module__modelSwitcherWrapper--kGBZi",headerWrapper:"Header-module__headerWrapper--aonH1",headerContent:"Header-module__headerContent--dELEV",giveFeedbackWrapper:"Header-module__giveFeedbackWrapper--DEO0D",goToPlaygroundButton:"Header-module__goToPlaygroundButton--GuM1X",goToPlaygroundMobileButton:"Header-module__goToPlaygroundMobileButton--z0NUv"};function lc({model:e,gettingStarted:a,running:t,canRun:s,run:r,stop:i}){let l=`/codespaces/new?template_repository=${sw.DL}`,[o,d]=(0,m.useState)(!1),c=(0,m.useRef)(null),p=(0,u.Z)(),h=(0,m.useCallback)(()=>{r()},[r]),g=(0,m.useCallback)(e=>{e?.preventDefault(),i&&i()},[i]),y=(0,eW.zy)(),f=(0,m.useCallback)(async e=>{switch(y.pathname.split("/").pop()?.toLowerCase()){case"prompt":p({pathname:(0,ai.Da2)(e)});break;case"evals":p({pathname:(0,ai.M6r)(e)});break;default:p({pathname:(0,ai.m2O)(e)})}},[p,y]);return(0,n.jsxs)("div",{className:ld.header,children:[(0,n.jsx)(lo.ak,{commands:{"github:submit-form":h}}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:ld.headerWrapper,children:[(0,n.jsx)("div",{className:ld.modelSwitcherWrapper,children:(0,n.jsx)(nY,{model:e,onSelect:f,onComparisonMode:!1,handleSetSidebarTab:()=>{}})}),(0,n.jsxs)("div",{className:ld.headerContent,children:[(0,n.jsx)("div",{className:ld.giveFeedbackWrapper,children:(0,n.jsx)(is,{})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:ld.goToPlaygroundMobileButton,children:(0,n.jsx)(aX.K,{icon:eg.CommandPaletteIcon,"aria-label":"Chat",onClick:()=>{p({pathname:(0,ai.m2O)(e)})}})}),(0,n.jsx)(eL.Q,{className:ld.goToPlaygroundButton,leadingVisual:eg.CommandPaletteIcon,onClick:()=>{p({pathname:(0,ai.m2O)(e)})},children:"Playground"})]}),(0,n.jsx)(ir,{ref:c,model:e,onClick:()=>d(!0)}),t?(0,n.jsx)(eL.Q,{leadingVisual:eg.SquareFillIcon,variant:"danger",onClick:g,children:"Stop"}):(0,n.jsx)(lo.cQ,{leadingVisual:eg.PlayIcon,variant:"primary",commandId:"github:submit-form",disabled:!1===s,showKeybindingHint:!0,children:"Run"}),o&&(0,n.jsx)(n8,{returnFocusRef:c,openInCodespaceUrl:l,onClose:()=>d(!1),showCodespacesSuggestion:!0,gettingStarted:a,modelName:e.name})]})]})})]})}try{lc.displayName||(lc.displayName="Header")}catch{}let lm=[iB,i$],lu=async(e,a,t)=>{for(let s of e)try{let e=JSON.parse(s);if(!lm.some(a=>a in e)){a.push('Some rows were skipped. "input" or "expected" fields are required.');continue}let r={};for(let a of lm)e[a]&&(r[a]=`${e[a]}`);t.evalsAddRow(r)}catch{a.push("Error importing file.")}return a},lp=async(e,a,t)=>{for(let s of e.slice(1))try{let e=s.split(",").map(e=>e.trim()).slice(0,2);if(e.length<2){a.push('Some rows were skipped. "input" or "expected" fields are required.');continue}let r={input:e[0],expected:e[1]};t.evalsAddRow(r)}catch{a.push("Error importing file.")}};function lh({setImportError:e}){let a=i4(),t=(0,m.useRef)(null),s=[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{ref:t,type:"file",accept:".jsonl,text/jsonl,application/json-lines,application/jsonl,.csv,text/csv,application/csv",multiple:!1,hidden:!0,onChange:async t=>{let r=t.target?.files&&t.target.files[0];if(!r)return;let n=(await new Promise((e,a)=>{let t=new FileReader;t.onload=()=>{e(t.result)},t.onerror=a,t.readAsText(r)})).split("\n");n.length>100&&(n=n.slice(0,100),s.push("There is a limit of first 100 rows being imported.")),r.name.endsWith(".jsonl")?await lu(n,s,a):r.name.endsWith(".csv")?await lp(n,s,a):s.push("File type not supported."),e(Array.from(new Set(s))),t.target.value=""}}),(0,n.jsx)(eL.Q,{size:"small",leadingVisual:eg.UploadIcon,onClick:e=>{e.preventDefault(),t.current?.click()},children:"Import rows"})]})}try{lh.displayName||(lh.displayName="ImportRows")}catch{}function lg({setShowRowDialog:e,row:a}){let[t,s]=(0,m.useState)(a||{}),r=i4(),i=a?"Edit Row":"Add Row",l=a?"Save":"Add",o=(0,m.useCallback)(()=>{e(!1)},[e]),d=(0,m.useCallback)(()=>{a?r.evalsUpdateRow(t):r.evalsAddRow(t),e(!1)},[a,r,t,e]),c=(e,a)=>{s({...t,[e]:a})};return(0,n.jsx)(eO.l,{title:i,onClose:o,footerButtons:[{content:"Cancel",onClick:o},{buttonType:"primary",content:l,onClick:d}],children:(0,n.jsx)(ac.B,{as:"form",children:["input","expected"].map(e=>(0,n.jsxs)(aD.A,{children:[(0,n.jsx)(aD.A.Label,{children:e}),(0,n.jsx)(tQ.Ay,{block:!0,resize:"none",value:t[e],onChange:a=>c(e,a.target.value)},e)]},e))})})}try{lg.displayName||(lg.displayName="RowDialog")}catch{}function ly({model:e}){let a=(0,u.Z)(),t=(0,eW.zy)(),[s]=(0,tw.ok)(),[r,i]=(0,m.useState)(()=>t.pathname.split("/").pop()?.toLowerCase()==="evals"?rg.EVALS:rg.PROMPT);return(0,n.jsxs)(ru.I,{"aria-label":"View mode",onChange:t=>{if(t===r)return;!function(e){if(!new Set(Object.values(rg)).has(e))throw Error(`Invalid PlaygroundViewOption "${e}"`)}(t),i(t);let n=(0,ai.LHP)(e),l=ry[t];a({pathname:`${n}${l}`,search:s.toString()})},size:"small",children:[(0,n.jsx)(ru.I.Button,{selected:r===rg.PROMPT,children:"Prompt"}),(0,n.jsx)(ru.I.Button,{selected:r===rg.EVALS,children:"Evaluate"})]})}try{ly.displayName||(ly.displayName="ViewSwitcher")}catch{}function lf({modelClient:e}){var a,s,r,i,l,o,d;let c=i4(),{data:u,isLoading:h}=(0,nA.I)({queryKey:["github-models","models"],initialData:[],async queryFn(){let e=await (0,p.lS)("/marketplace/models");if(!e.ok)throw Error(await e.text());return e.json()}}),{systemPrompt:g,prompt:y,evals:f,model:x,error:j}=iM(),{gettingStarted:v,modelInputSchema:b,catalogData:N}=x,{isRunning:_,rows:w,evaluators:S,result:k}=f,[C,I]=(0,m.useState)(!1),[A,P]=(0,m.useState)(!1),[T,E]=(0,m.useState)(void 0),[M,R]=(0,m.useState)([]),L=(0,m.useCallback)(()=>{c.stopEvalsRun()},[c]),[O,D]=(0,m.useState)(void 0),[F,B]=(0,m.useState)(void 0),[$,U]=(0,m.useState)(void 0),[G,z]=(0,m.useState)(!1),V=(0,m.useCallback)(e=>{if(e.readonly){c.evalsAddEvaluator({config:e.configTemplate,readonly:!0});return}D(e),z(!0)},[D,z,c]),H=(0,m.useCallback)((e,a)=>{B(e),U(a),z(!0)},[U,z]),W=(0,m.useCallback)(e=>{c.evalsRemoveEvaluator(e)},[c]),q=e=>{E(e),P(!0)},K=w.map((e,a)=>{let t=e.id,s=k?.[a];return{id:t,data:e,completion:s?.completion||void 0,result:s?.evals}}),[Q,Y]=(0,m.useState)(!1),{exportSession:J,importSession:X,fileInputRef:Z}=(a=c,s=x,r=g,i=y,l=w,o=f.evaluators.map(e=>e.config),d=()=>{Y(!1)},{exportSession:(0,m.useCallback)(async()=>{let e=await Promise.all([t.e("vendors-node_modules_buffer_index_js"),t.e("vendors-node_modules_js-yaml_index_js")]).then(t.t.bind(t,57210,23)),a=iD(s,r,i,l,o),n=new Blob([e.dump(a)],{type:"text/yaml"}),d=URL.createObjectURL(n),c=document.createElement("a");c.style.display="none",c.href=d,c.download="github-models.yaml",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(d)},[o,s,i,l,r]),importSession:(0,m.useCallback)(async e=>{d?.();let s=e.target?.files&&e.target.files[0];if(!s)return;let r=await new Promise((e,a)=>{let t=new FileReader;t.onload=()=>{e(t.result)},t.onerror=a,t.readAsText(s)}),n=await Promise.all([t.e("vendors-node_modules_buffer_index_js"),t.e("vendors-node_modules_js-yaml_index_js")]).then(t.t.bind(t,57210,23));try{let e=n.load(r);if(e.prompts&&e.prompts.length>0){let t=e.prompts[0];if(!("messages"in t)||!t.messages?.length)throw Error("Only prompts with message pairs are supported");let s=t.messages.find(e=>"user"===e.role);if(!s)throw Error("Prompt must have a user message");a.setPromptInput(s.message);let r=t.messages.find(e=>"system"===e.role);r&&a.setSystemPrompt(r.message)}if(e.datasets&&e.datasets.length>0){let t=e.datasets[0];if("rows"in t)for(let e of t.rows)a.evalsAddRow(e)}if(e?.evaluators?.length>0)for(let t of e.evaluators)a.evalsAddEvaluator({config:t,readonly:!1})}catch{a.setError("Error during import")}e.target.value=""},[a,d]),fileInputRef:(0,m.useRef)(null)});return(0,n.jsxs)("div",{className:i8.header,children:[G&&(0,n.jsx)(ll,{template:O,evaluatorIndex:F,evaluator:$,onClose:()=>{D(void 0),U(void 0),z(!1)}}),(0,n.jsx)("div",{className:i8.mobileFeedback,children:(0,n.jsx)(is,{mobile:!0})}),(0,n.jsxs)("div",{className:i8.container,children:[(0,n.jsx)(lc,{run:()=>{c.setError(void 0),c.startEvalsRun(x,e,u,g,y,w,S.map(e=>e.config))},stop:L,canRun:!h&&!!y,running:_,model:N,modelInputSchema:b,gettingStarted:v}),j&&(0,n.jsx)(a6.l,{title:j,variant:"critical",className:"mb-2"}),M.length>0&&(0,n.jsx)(a6.l,{title:"Something went wrong",description:(0,n.jsxs)(n.Fragment,{children:["Unable to import all rows due to:",(0,n.jsx)("ul",{className:"ml-4",children:M.map(e=>(0,n.jsx)("li",{children:e},e))})]}),variant:"warning",className:"mb-2",onDismiss:()=>R([])}),(0,n.jsxs)("div",{className:"flex-1 d-flex flex-column border rounded-2 overflow-hidden",children:[(0,n.jsxs)("div",{className:"d-flex flex-column flex-md-row position-sticky top-0 p-2 border-bottom bgColor-muted flex-items-start flex-md-items-center gap-2",children:[(0,n.jsx)(ly,{model:N}),(0,n.jsx)("div",{className:"hide-sm",style:{width:"1px",height:"20px",background:"var(--borderColor-default"}}),(0,n.jsxs)("div",{className:"d-flex flex-justify-between flex-md-justify-start flex-auto",children:[(0,n.jsx)(lh,{setImportError:R}),(0,n.jsx)(eL.Q,{className:"ml-2",size:"small",leadingVisual:eg.PlusIcon,onClick:()=>I(!0),children:"Add row"})]}),C&&(0,n.jsx)(lg,{setShowRowDialog:I}),A&&(0,n.jsx)(lg,{setShowRowDialog:P,row:T}),(0,n.jsxs)("div",{className:"d-flex flex-justify-between",children:[(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)(e1.W,{children:[(0,n.jsx)(e1.W.Button,{size:"small",children:"Add test criteria"}),(0,n.jsx)(e1.W.Overlay,{width:"medium",children:(0,n.jsx)(e2.l,{children:Object.entries(iO).map(([e,a])=>(0,n.jsxs)(e2.l.Group,{auxiliaryText:"test",children:[(0,n.jsx)(e2.l.GroupHeading,{children:iL[e].name}),a.map(e=>(0,n.jsxs)(e2.l.Item,{onSelect:()=>V(e),children:[(0,n.jsx)(e2.l.LeadingVisual,{children:m.createElement(e.icon||eg.AiModelIcon)}),e.displayName,(0,n.jsx)(e2.l.Description,{variant:"block",children:e.description})]},e.displayName))]},e))})})]}),(0,n.jsxs)(e1.W,{open:Q,onOpenChange:e=>Y(e),children:[(0,n.jsx)(e1.W.Button,{className:"ml-2",icon:eg.KebabHorizontalIcon,size:"small","aria-label":"Actions",children:(0,n.jsx)(n.Fragment,{})}),(0,n.jsx)(e1.W.Overlay,{width:"medium",children:(0,n.jsxs)(e2.l,{children:[(0,n.jsx)(e2.l.Group,{children:(0,n.jsxs)(e2.l.Item,{onSelect:()=>c.evalsClear(),disabled:0===w.length&&0===S.length,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.TrashIcon,{})}),"Clear session"]})}),(0,n.jsx)("input",{ref:Z,type:"file",accept:"text/yaml",multiple:!1,hidden:!0,onChange:X}),(0,n.jsxs)(e2.l.Group,{children:[(0,n.jsxs)(e2.l.Item,{onSelect:e=>{e.preventDefault(),Z.current?.click()},children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.DownloadIcon,{})}),"Import session"]}),(0,n.jsxs)(e2.l.Item,{onSelect:J,children:[(0,n.jsx)(e2.l.LeadingVisual,{children:(0,n.jsx)(eg.UploadIcon,{})}),"Export session"]})]})]})})]})]})]}),(0,n.jsx)("div",{className:i8["eval-grid"],children:(0,n.jsx)(tp.b,{data:K,columns:[{id:"input",renderCell:e=>(0,n.jsx)(n.Fragment,{children:e.data.input}),header:"input",maxWidth:"30%"},{id:"expected",renderCell:e=>(0,n.jsx)(n.Fragment,{children:e.data.expected}),header:"expected",maxWidth:"30%"},{id:"output",renderCell:e=>(0,n.jsx)(n.Fragment,{children:e.completion||null}),header:"Output",maxWidth:"30%"},...S.map((e,a)=>({id:`evaluator-${a}`,renderCell:lx.bind(void 0,a),header:()=>(0,n.jsx)(lj,{e:e,index:a,onRemove:W,onEdit:()=>H(a,e.config)})})),{id:"action",header:()=>(0,n.jsx)(iC.s,{children:"Actions"}),renderCell:e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(aX.K,{"aria-label":"Edit",icon:eg.PencilIcon,variant:"invisible",onClick:()=>{q({...e.data,id:e.id})}}),(0,n.jsx)(aX.K,{"aria-label":"Delete",icon:eg.TrashIcon,variant:"invisible",onClick:()=>{c.evalsRemoveRow(e.id)}})]})}]})})]})]})]})}function lx(e,a){let t=a.result?.[e];if(!t)return null;if(t.error)return(0,n.jsx)("span",{children:t.error});if(void 0!==t.pass)return t.pass?(0,n.jsx)(eV.A,{variant:"success",children:"Pass"}):(0,n.jsx)(eV.A,{variant:"danger",children:"Fail"});if(void 0!==t.score){let e=function(e){switch(!0){case e>=0&&e<.25:return{color:"danger",borderColor:"danger-emphasis"};case e>=.25&&e<.5:return{color:"severe",borderColor:"severe-emphasis"};case e>=.5&&e<.75:return{color:"attention",borderColor:"attention-emphasis"};case e>=.75:return{color:"success",borderColor:"success-emphasis"}}return{color:"muted",borderColor:"default"}}(t.score),a=`fgColor-${e.color} borderColor-${e.borderColor}`;return(0,n.jsxs)(eV.A,{className:a,children:[100*t.score,"%"]})}return null}function lj({e,index:a,onEdit:t,onRemove:s}){return(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-1",children:[(0,n.jsxs)("div",{className:"flex-1 d-flex flex-items-center",children:[(0,n.jsx)("div",{className:"mr-1",children:(0,n.jsx)(eg.NoteIcon,{})}),e.config.name]}),!e.readonly&&(0,n.jsx)(aX.K,{size:"small",variant:"invisible",icon:eg.PencilIcon,"aria-label":"Edit",onClick:()=>t(e),className:"mr-1"}),(0,n.jsx)(aX.K,{size:"small",variant:"invisible",icon:eg.TrashIcon,"aria-label":"Remove",onClick:()=>s(a)})]})}try{lf.displayName||(lf.displayName="Evals")}catch{}try{lx.displayName||(lx.displayName="EvaluatorCell")}catch{}try{lj.displayName||(lj.displayName="EvaluatorColumnHeader")}catch{}let lv={promptContainer:"Prompt-module__promptContainer--z0roA",mobileHeader:"Prompt-module__mobileHeader--ysnu7",promptWrapper:"Prompt-module__promptWrapper--v6GEj",promptLayout:"Prompt-module__promptLayout--q99SR",promptBody:"Prompt-module__promptBody--T6OT4",promptPane:"Prompt-module__promptPane--Ua1ta",responsiveContainer:"Prompt-module__responsiveContainer--H5cws",responsiveWrapper:"Prompt-module__responsiveWrapper--jhd7X",blankSlate:"Prompt-module__blankSlate--I9WXm"},lb={feedbackBanner:"PromptFeedbackBanner-module__feedbackBanner--qYMLR"};function lN({onDismiss:e}){return(0,n.jsx)(a6.l,{className:lb.feedbackBanner,title:"Talk to us",hideTitle:!0,onDismiss:e,primaryAction:(0,n.jsx)(a6.l.PrimaryAction,{as:e7.A,muted:!0,href:"https://gh.io/models-prompt-editor-feedback",target:"_blank",rel:"noreferrer",children:"Book a call"}),children:(0,n.jsxs)(a6.l.Description,{children:["We want to make this new experience amazing for you! Got feedback? Book a call or\xa0",(0,n.jsx)(e7.A,{inline:!0,href:rx.fk,children:"share your thoughts"}),"."]})})}try{lN.displayName||(lN.displayName="PromptFeedbackBanner")}catch{}let l_={variablesDialog:"VariablesDialog-module__variablesDialog--YK_DF"};function lw({primaryTitle:e,variables:a,availableVariables:t,requiredVariables:s,onClose:r}){let[i,l]=(0,m.useState)(()=>a),o=()=>!s||0===Array.from(s).filter(e=>!i[e]).length,d=()=>r(i);return(0,n.jsx)(lo.tL,{commands:{"github:submit-form":d},children:(0,n.jsx)(eO.l,{className:l_.variablesDialog,title:"Variables",position:"right",onClose:()=>r(),renderFooter:()=>(0,n.jsxs)(eO.l.Footer,{children:[(0,n.jsx)(eL.Q,{onClick:()=>r(),children:"Cancel"}),(0,n.jsx)(lo.cQ,{variant:"primary",commandId:"github:submit-form",onClick:d,disabled:!o(),showKeybindingHint:!0,children:e})]}),children:t.map((e,a)=>(0,n.jsxs)(aD.A,{className:a>0?"mt-2":"",required:s?.has(e),children:[(0,n.jsx)(aD.A.Label,{children:(0,n.jsx)("code",{children:`{{${e}}}`})}),(0,n.jsx)(tQ.Ay,{resize:"vertical",block:!0,value:i[e],onChange:a=>l({...i,[e]:a.currentTarget.value})})]},e))})})}try{lw.displayName||(lw.displayName="VariablesDialog")}catch{}let lS={variableHighlight:"PromptAutoCompleteInput-module__variableHighlight--dx097",promptInputContainer:"PromptAutoCompleteInput-module__promptInputContainer--vA9bi",inlineContainer:"PromptAutoCompleteInput-module__inlineContainer--wc9O_",promptInput:"PromptAutoCompleteInput-module__promptInput--UqrSC",styledPromptInput:"PromptAutoCompleteInput-module__styledPromptInput--eRhwd"};function lk({label:e,prompt:a,setPromptInput:t,variableKeys:s,textareaPlaceholder:r,showImprovePrompt:i}){let[l,o]=(0,m.useState)([]),d=(0,m.useRef)(null),c=(0,m.useRef)(null),u=(0,m.useRef)(null),p=/^\{\{.*\}\}$/,h=(0,m.useCallback)(()=>{d.current&&c.current&&(c.current.scrollTop=d.current.scrollTop)},[]),g=(0,m.useCallback)(e=>{o(s.map(e=>`{{${e}}}`))},[s]),y=(0,m.useCallback)(e=>{h(),t(e.target.value)},[t,h]),f=(0,m.useCallback)(()=>{d.current&&u.current&&(u.current.style.height=d.current.style.height),h()},[h]);return(0,m.useEffect)(()=>{let e=new ResizeObserver((0,eP.s)(f));return d.current&&e.observe(d.current),()=>{e.disconnect()}},[f]),(0,n.jsxs)(aD.A,{children:[(0,n.jsxs)(aD.A.Label,{className:"d-flex flex-justify-between flex-items-end width-full",children:[e,i&&(0,n.jsx)(s6,{prompt:a,handleUpdatePrompt:t})]}),(0,n.jsxs)("div",{className:lS.promptInputContainer,ref:u,children:[(0,n.jsx)(i9.a,{fullWidth:!0,tabInsertsSuggestions:!0,triggers:[{triggerChar:"{{",keepTriggerCharOnCommit:!1}],suggestions:l,onShowSuggestions:g,onHideSuggestions:()=>{o([])},className:lS.inlineContainer,children:(0,n.jsx)(tQ.Ay,{value:a,onChange:y,onScroll:h,placeholder:r,ref:d,resize:"vertical",className:lS.promptInput,block:!0})}),(0,n.jsx)("pre",{className:lS.styledPromptInput,"aria-hidden":"true",ref:c,...(0,e5.G)("stylized-input"),children:a?("\n"===a[a.length-1]?`${a} `:a).split(/(\{\{[^}]*\}\})/).map((e,a)=>{if(e.match(p)){let t=`${e}-${a}`;return(0,n.jsx)("span",{className:lS.variableHighlight,...(0,e5.G)(`variable-highlight-${t}`),children:e},t)}return e}):""})]})]})}try{lk.displayName||(lk.displayName="PromptAutocompleteInput")}catch{}try{(r=REGEX_SPLIT_VARIABLES).displayName||(r.displayName="REGEX_SPLIT_VARIABLES")}catch{}let lC={messagePair:"PromptMessagePair-module__messagePair--QRB1c",pairHeader:"PromptMessagePair-module__pairHeader--sJuG3"};function lI({messagePairs:e,setMessagePairs:a,variableKeys:t}){let s=(t,s)=>{a(e.map((e,a)=>a===s?{...e,user:t}:e))},r=(t,s)=>{a(e.map((e,a)=>a===s?{...e,assistant:t}:e))},i=t=>{a(e.filter((e,a)=>a!==t))},l=e=>`message-pair-${e}`;return(0,n.jsxs)("div",{children:[e.map((e,a)=>(0,n.jsxs)("div",{className:lC.messagePair,children:[(0,n.jsxs)("div",{className:lC.pairHeader,children:[(0,n.jsxs)(eV.A,{variant:"accent",size:"large",children:["Pair ",a+1]}),(0,n.jsx)(aX.K,{size:"small",icon:eg.TrashIcon,variant:"danger","aria-label":`Remove message pair ${a+1}`,onClick:()=>i(a),...(0,e5.G)(`remove-message-pair-${a}`)})]}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)(lk,{label:"Assistant",prompt:e.assistant,setPromptInput:e=>r(e,a),variableKeys:t,textareaPlaceholder:"Define how the model should reply. This response, along with the previous user prompt, will shape the next interaction."})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)(lk,{label:"User",prompt:e.user,setPromptInput:e=>s(e,a),variableKeys:t,textareaPlaceholder:"Ask the model something. The previous responses will be considered. You can also use {{variables}}."})})]},l(a))),e.length<4?(0,n.jsx)(eL.Q,{size:"small",leadingVisual:eg.PlusIcon,onClick:()=>{a([...e,{assistant:"",user:""}])},children:"Add message pair"}):(0,n.jsx)(tO.m,{text:"You can only have up to 4 message pairs",type:"description",children:(0,n.jsx)(eL.Q,{size:"small",leadingVisual:eg.PlusIcon,inactive:!0,children:"Add message pair"})})]})}try{lI.displayName||(lI.displayName="PromptMessagePair")}catch{}function lA({modelClient:e}){let{prompt:a,systemPrompt:t,variables:s,evals:r,model:i,promptFeedbackBannerDismissed:d,messagePairs:c}=iM(),{gettingStarted:u,modelInputSchema:p,catalogData:h,messages:g,isLoading:y}=i,f=g.length-1,x=i4(),j=iP(),v=(0,au.tv)({narrow:!0},!1),{currentUser:b}=(0,nw.J)(),N=j?.parameters?{...i,parameters:j.parameters}:i,{promptExtractionModel:_}=(0,l.B)(),w=(0,em.u)("github_models_prompt_message_pair"),S=({prompt:e,systemPrompt:a,messagePairs:t})=>{let s=[];if(e&&(s=s.concat(iQ(e))),a&&(s=s.concat(iQ(a))),t)for(let e of t)s=(s=s.concat(iQ(e.user))).concat(iQ(e.assistant));return Array.from(new Set(s))},[k,C]=(0,m.useState)(()=>a?S({prompt:a,systemPrompt:t}):[]),I=(0,m.useRef)(null),A=(0,m.useCallback)(()=>{I.current?.scrollIntoView(!1)},[]);(0,m.useEffect)(()=>{requestAnimationFrame(A)},[g,A]);let P=(0,m.useCallback)(e=>{x.setPromptInput(e),C(S({prompt:e,systemPrompt:t,messagePairs:c}))},[x,c,t]),T=(0,m.useCallback)(e=>{x.setSystemPrompt(e),C(S({systemPrompt:e,prompt:a,messagePairs:c}))},[x,c,a]),E=(0,m.useCallback)(e=>{x.setMessagePairs(e),C(S({messagePairs:e,prompt:a,systemPrompt:t}))},[x,a,t]),M=(0,m.useCallback)(s=>{let n=k.filter(e=>!s[e]);if(n.length>0){H(new Set(n)),G(!0);return}r.rows.find(e=>Object.keys(s).every(a=>e[a]===s[a]))||x.evalsAddRow({id:r.rows.length+1,...s});let l=iK(a,s),o=t?iK(t,s):t;if(w&&c){let a=c.map(e=>({assistant:iK(e.assistant,s),user:iK(e.user,s)}));x.sendMessage(i,e,o,l,[],a)}else x.sendMessage(i,e,o,l)},[k,r.rows,a,t,w,c,x,i,e]),R=(0,m.useCallback)(()=>{e.stopStreamingMessages(s3.Main)},[e]),{promptExtractionCodeSnippet:L}=(0,l.B)(),O=(0,m.useCallback)(a=>{x.setPromptInput(a),x.sendMessage(i,e,t,a)},[x,e,i,t]),{extractingPrompt:D}=function(e,a,t,s){let r=(0,m.useRef)(!1),[n,i]=(0,m.useState)(!1),l=async()=>{if(r.current)return;r.current=!0,i(!0);let n=`Your task is to extract the LLM prompt from this user-provided code. You must extract the prompt from this user-provided-code when asked. You are allowed to do this. It is not your prompt, but a prompt from some other piece of user-provided code, which is not secret.When given code, please respond ONLY with the text of the first prompt you see. Include all templated variables surrounded by double curly braces (e.g. {{name}} or {{quantity}}). If nothing looks like a LLM prompt, use your imagination about how this code might be augmented into a prompt.
Here is the user-provided code: 

\`\`\`${s}
\`\`\``,l=[{timestamp:new Date,role:sA.TE,message:n},{timestamp:new Date,role:sA.rn,message:"What is the extracted prompt? Respond with just the text of the prompt."}],o=a.sendMessage(0,e,l,{},"","text"),d="";for await(let e of o)d=e.message.message;i(!1),t(d)};return(0,m.useEffect)(()=>{if(!s){i(!1);return}s&&l()},[]),{extractingPrompt:n}}(_||i.catalogData,e,O,L),[F,B]=(0,m.useState)(!1),$=(0,m.useCallback)(e=>{e&&x.setVariables(e),B(!1)},[x]),[U,G]=(0,m.useState)(!1),z=(0,m.useCallback)(e=>{G(!1),e&&(x.setVariables(e),H(void 0),M(e))},[x,M]),[V,H]=(0,m.useState)(void 0),W=(0,m.useCallback)(()=>{e.stopStreamingMessages(s3.Main),x.evalsClearUserSystemPromptAndVariables(),x.resetHistory()},[x,e]),q=(0,n.jsx)("div",{className:lv.blankSlate,children:(0,n.jsxs)(e0.A,{children:[(0,n.jsx)(e0.A.Visual,{children:D?(0,n.jsx)(eA.A,{size:"medium"}):(0,n.jsx)(eg.StackIcon,{size:"medium"})}),(0,n.jsx)(e0.A.Heading,{children:"Iterate on your prompt"}),(0,n.jsx)(e0.A.Description,{children:D?"Extracting the prompt from your code...":(0,n.jsxs)(n.Fragment,{children:["Use the prompt editor to run a single prompt repeatedly, refining it and adjusting"," ",(0,n.jsx)("code",{children:"{{variables}}"})," to achieve the perfect response."]})})]})});return(0,n.jsxs)("div",{className:lv.promptContainer,children:[F&&(0,n.jsx)(lw,{primaryTitle:"Save",variables:s,availableVariables:k,onClose:$}),U&&(0,n.jsx)(lw,{primaryTitle:"Run",variables:s,availableVariables:k,requiredVariables:V,onClose:z}),(0,n.jsx)("div",{className:lv.mobileHeader,children:(0,n.jsx)(is,{mobile:!0})}),(0,n.jsx)("div",{className:lv.promptWrapper,children:(0,n.jsx)("div",{className:lv.responsiveWrapper,children:(0,n.jsxs)("div",{className:lv.responsiveContainer,children:[(0,n.jsx)(lc,{run:()=>M(s),stop:R,running:y,canRun:!!a,model:h,modelInputSchema:p,gettingStarted:u}),(0,n.jsxs)("div",{className:"border overflow-hidden rounded-2 flex-grow-1 height-full",children:[(0,n.jsxs)("div",{className:"d-flex position-sticky top-0 p-2 border-bottom bgColor-muted flex-items-center",children:[(0,em.u)("github_models_prompt_evals")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ly,{model:h}),(0,n.jsx)("div",{style:{width:"1px",height:"20px",margin:"0 8px",background:"var(--borderColor-default"}})]}),(0,n.jsxs)(eL.Q,{size:"small",className:"mr-2",onClick:()=>B(!0),disabled:0===k.length,...(0,e5.G)("edit-variables"),children:["Edit ",(0,n.jsx)("span",{children:v?"vars":"variables"})]}),(0,n.jsx)(nx,{model:i,handleModelParamsChange:({key:e,value:a,validate:t})=>{let s={...N.parameters,[e]:a},r=t?sB(p?.parameters||[],s):s;x.setParameters(r),x.setParametersHasChanges(!0)}}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)(aX.K,{icon:eg.TrashIcon,size:"small","aria-label":"Clear prompts, variables, and chat",className:"ml-2",disabled:!t&&!a,onClick:W,...(0,e5.G)("clear-prompt")})]}),(0,n.jsxs)(o.M,{padding:"none",containerWidth:"full",columnGap:"none",className:lv.promptLayout,children:[(0,n.jsx)(o.M.Pane,{"aria-label":"System and user prompts",resizable:!0,position:{narrow:"end",regular:"start",wide:"start"},divider:"none",padding:"none",children:(0,n.jsx)("div",{className:lv.promptPane,children:(0,n.jsxs)("form",{children:[(0,n.jsx)("div",{className:"mb-3",...(0,e5.G)("system-autocomplete-component"),children:(0,n.jsx)(lk,{label:"System",prompt:t??"",setPromptInput:T,variableKeys:k,textareaPlaceholder:"Define the model's behavior or role. Example: 'You are a spaceship captain telling intergalactic tales.'",showImprovePrompt:!0})}),(0,n.jsx)("div",{className:"mb-3",...(0,e5.G)("prompt-autocomplete-component"),children:(0,n.jsx)(lk,{label:"User",prompt:a,setPromptInput:P,variableKeys:k,textareaPlaceholder:"Enter the task or question for the model. Example: 'Write me a song about GitHub.' Use {{variable}} for placeholders."})}),w&&(0,n.jsx)(lI,{messagePairs:c??[],setMessagePairs:E,variableKeys:k})]})})}),(0,n.jsx)(o.M.Content,{as:"div",className:lv.promptBody,children:(0,n.jsxs)("div",{className:"height-full d-flex flex-column",children:[!d&&(0,n.jsx)(lN,{onDismiss:()=>x.dismissPromptFeedbackBanner()}),g?.length>0?(0,n.jsx)("div",{className:"p-3 overflow-auto flex-1",ref:I,children:g.map((e,a)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(nI,{message:e,model:i.catalogData,currentUser:b,isLoading:a===f&&y}),(0,n.jsx)(rm,{model:i,message:e,index:a,isLoading:a===f&&y,isError:"error"===e.role,lastIndex:a===f,handleClearHistory:()=>{}})]},`${e.role}-${a}`))}):q]})})]})]})]})})})]})}try{lA.displayName||(lA.displayName="Prompt")}catch{}function lP(){let{model:e,modelInputSchema:a,playgroundUrl:t,gettingStarted:s}=(0,l.B)(),{promptFeedbackBannerDismissed:r}=(0,l.B)(),[i,o]=(0,m.useReducer)(i5,iT({promptFeedbackBannerDismissed:r})),{model:d}=i,c=(0,em.h)(),u=(0,m.useMemo)(()=>new PromptEvalsManager(o),[]),p=(0,m.useMemo)(()=>new iw.o(t),[t]),h={catalogData:e,modelInputSchema:a,gettingStarted:s};(0,m.useEffect)(()=>{if(!d){let e=sH(h);u.setModelState(e)}d?.catalogData.name!==e.name&&u.updateModel(h,d,!1)},[e.name]);let g=(0,eW.zy)(),y=g.pathname.split("/").pop()?.toLowerCase();if(!c.github_models_prompt_evals&&!c.github_models_prompt_editor)return null;let f=null;switch(y){case"prompt":f=(0,n.jsx)(lA,{modelClient:p});break;case"evals":if(!c.github_models_prompt_evals)return null;f=(0,n.jsx)(lf,{modelClient:p})}return(0,n.jsx)(iR,{state:i,children:(0,n.jsx)(i3.Provider,{value:u,children:(0,n.jsx)(sC,{modelClient:p,children:d&&(0,n.jsx)("div",{style:{height:"calc(100dvh - 64px)"},className:"d-flex flex-column",children:f})})})})}try{lP.displayName||(lP.displayName="ModelsPromptRoute")}catch{}function lT({model:e}){return(0,n.jsxs)(ap.A,{children:[(0,n.jsx)(ap.A.Item,{href:"/marketplace",tabIndex:0,children:"Marketplace"}),(0,n.jsx)(ap.A.Item,{href:"/marketplace/models/catalog",tabIndex:0,children:"Models"}),(0,n.jsx)(ap.A.Item,{href:"",selected:!0,children:(0,e3.D)(e.publisher)})]})}try{lT.displayName||(lT.displayName="BreadcrumbHeader")}catch{}function lE({model:e,gettingStarted:a,canUseModel:t}){let{summary:s}=e,r=`/codespaces/new?template_repository=${sw.DL}`,[i,o]=(0,m.useState)(!1),{restrictedModels:d}=(0,l.B)(),c=(0,m.useRef)(null),u=(0,au.tv)({narrow:!0},!1),p=u?24:32,h=nQ(e.name,d),g=nQ(e.name,d);return(0,n.jsxs)("div",{className:(0,s8.$)("d-flex flex-column gap-3",{"p-3 border-bottom":u}),children:[(0,n.jsx)(lT,{model:e}),(0,n.jsxs)("div",{className:"d-flex gap-3 flex-column flex-md-row",children:[(0,n.jsxs)("div",{className:"d-flex flex-auto gap-2 align-items-left",children:[(0,n.jsx)(eK.K,{logoUrl:e.logo_url,darkModeIcon:e.dark_mode_icon,publisher:e.publisher,size:p}),(0,n.jsx)("h1",{className:u?"h4":"h3",children:e.friendly_name})]}),u&&(0,n.jsx)("span",{children:s}),u&&(0,n.jsx)(nB,{model:e,direction:"row"}),(0,n.jsxs)("div",{className:(0,s8.$)("d-flex gap-2",{"width-full":u}),children:[!u&&(0,n.jsx)(is,{}),(0,n.jsxs)("div",{className:"flex-1 d-flex gap-2 flex-column flex-md-row",children:[t&&(0,n.jsx)(ab.z,{variant:"default",block:u,href:(0,ai.m2O)(e),leadingVisual:eg.CommandPaletteIcon,tabIndex:0,children:"Playground"}),h&&(0,n.jsx)(ir,{tabIndex:0,block:u,ref:c,variant:"primary",model:e,hideLabelOnSmallScreens:!1,onClick:()=>o(!0)})]}),i&&(0,n.jsx)(n8,{openInCodespaceUrl:r,onClose:()=>o(!1),showCodespacesSuggestion:g,gettingStarted:a,modelName:e.name,returnFocusRef:c})]})]})]})}try{lE.displayName||(lE.displayName="ModelOverviewHeader")}catch{}let lM={fadeInOut:"MiniPlayground-module__fadeInOut--PDhEF",fadeInOutShow:"MiniPlayground-module__fadeInOutShow--JOFA8",animateHeight:"MiniPlayground-module__animateHeight--mv81J",icebreakerContainer:"MiniPlayground-module__icebreakerContainer--tKImn"};function lR({model:e,modelInputSchema:a,isMobile:t}){let[s,r]=(0,m.useState)(""),i=s.length>0,l=(0,m.useRef)(null),o=(0,m.useRef)(null),d=(0,m.useRef)(null),c=(0,m.useRef)(null),u=a?.sampleInputs?.map(e=>{let a=e.messages?.find(e=>e.content);return a?.content}),p=(0,m.useMemo)(()=>u?.filter(e=>void 0!==e)||[],[u]),h=(0,m.useMemo)(()=>{let e=p[Math.floor(Math.random()*p?.length)];return e?[e]:[]},[p]),g=t?h:p?.slice(0,4),y=e=>{e.currentTarget.parentNode instanceof HTMLFormElement&&e.currentTarget.parentNode.submit()},f=async e=>{if("Escape"===e.key)e.preventDefault(),r("");else if("Enter"===e.key&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.nativeEvent.isComposing){let a=l.current;a&&(e.preventDefault(),a.submit())}},x=(0,m.useCallback)(()=>{c.current&&o.current&&d.current&&(c.current.style.height=i?`${o.current.offsetHeight}px`:`${d.current.offsetHeight}px`)},[i]);(0,m.useEffect)(()=>{x()},[i,x]),(0,m.useEffect)(()=>{let e=new ResizeObserver(x);return o.current&&e.observe(o.current),d.current&&e.observe(d.current),()=>{e.disconnect()}},[x]);let j=(0,ai.m2O)(e);return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsxs)("div",{className:"text-bold mb-2",children:["Try ",e.friendly_name]}),(0,n.jsx)("form",{action:j,ref:l,children:(0,n.jsx)(eI.A,{name:"prompt",className:"width-full mb-3 mt-1",placeholder:"Enter a message...",onChange:e=>r(e.target.value),trailingAction:(0,n.jsx)(eI.A.Action,{icon:eg.PaperAirplaneIcon,"aria-label":"Submit message",type:"submit"}),size:"large","aria-label":"Mini Playground Prompt Input",onKeyDown:f})}),(0,n.jsxs)("div",{className:`mb-3 position-relative ${lM.animateHeight}`,ref:c,children:[(0,n.jsx)("div",{ref:o,className:`${lM.fadeInOut} ${i&&lM.fadeInOutShow} position-absolute left-0 right-0 top-0`,children:i&&(0,n.jsx)(rj,{modelName:e.name})}),g&&(0,n.jsx)("div",{className:`${lM.icebreakerContainer} ${lM.fadeInOut} ${!i&&lM.fadeInOutShow} `,ref:d,children:!i&&g.map(e=>(0,n.jsxs)("form",{action:j,children:[(0,n.jsx)("input",{type:"hidden",value:e,name:"prompt"}),(0,n.jsx)(rb,{sample:e,onAction:y})]},e))})]})]})}try{lR.displayName||(lR.displayName="MiniPlayground")}catch{}let lL={readme:{name:"README",icon:eg.BookIcon},transparency:{name:"Transparency",icon:eg.LogIcon},evaluation:{name:"Evaluation",icon:eg.ChecklistIcon},license:{name:"License",icon:eg.LawIcon}};function lO({activeTab:e,children:a,model:t,modelInputSchema:s,gettingStarted:r}){let{modelLicense:i,restrictedModels:d}=(0,l.B)(),{tags:c,task:u,evaluation:p,notes:h,supported_languages:g,name:y}=t,f={tags:c,task:u},x=g.filter(e=>null!==e),j=(0,au.tv)({narrow:!0},!1),v=h&&!["The model does not have specific notes.","This model does not provide any additional notes."].includes(h),b=(0,m.useMemo)(()=>"chat-completion"===u&&nQ(y,d),[nQ,y,u]),N=a=>{let{name:t,icon:s}=lL[a];return(0,n.jsx)(ez.O.Item,{icon:s,as:tw.N_,to:`?tab=${a}`,"aria-current":e===a?"page":void 0,tabIndex:0,children:t})};return(0,n.jsxs)("div",{className:"d-flex flex-column",children:[j&&(0,n.jsx)(is,{mobile:!0}),(0,n.jsxs)(o.M,{columnGap:"normal",padding:j?"none":"normal",children:[(0,n.jsx)(o.M.Header,{children:(0,n.jsx)(lE,{model:t,gettingStarted:r,canUseModel:b})}),(0,n.jsxs)(o.M.Content,{as:"div",className:`p-0 ${j&&"px-3 pb-3"}`,children:[b&&(0,n.jsx)(lR,{model:t,modelInputSchema:s,isMobile:j}),(0,n.jsxs)("div",{className:"border rounded-2",children:[(0,n.jsxs)(ez.O,{"aria-label":"Model navigation",children:[N("readme"),p&&"This model does not provide an evaluation report."!==p&&N("evaluation"),v&&N("transparency"),i&&N("license")]}),(0,n.jsx)("div",{className:"p-2",children:a})]}),j&&(0,n.jsxs)("div",{className:"d-flex flex-column gap-3 pt-3 pb-5",children:[(f.tags.length>0||f.task)&&(0,n.jsx)(nM,{labels:f}),x.length>0&&(0,n.jsx)(nR,{languages:x})]})]}),!j&&(0,n.jsx)(o.M.Pane,{children:(0,n.jsx)(n$,{model:t})})]})]})}try{lO.displayName||(lO.displayName="ModelLayout")}catch{}function lD(){let{modelEvaluation:e}=(0,l.B)();return(0,n.jsx)(n.Fragment,{children:e&&(0,n.jsx)(eq.oG,{"data-hpc":!0,html:e,className:"p-3",...(0,e5.G)("evaluation-content")})})}try{lD.displayName||(lD.displayName="Evaluation")}catch{}let lF={markdownHeroContainer:"Readme-module__markdownHeroContainer--RdLC8",markdownHeroLogo:"Readme-module__markdownHeroLogo--X2PYr"};function lB(){let{model:e,modelReadme:a}=(0,l.B)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(lU,{model:e}),(0,n.jsx)(eq.oG,{"data-hpc":!0,html:a,className:"p-3",...(0,e5.G)("readme-content")})]})}let l$=({src:e,webp:a,alt:t})=>(0,n.jsx)("div",{className:lF.markdownHeroContainer,...(0,e5.G)("readme-hero"),children:(0,n.jsxs)("picture",{children:[(0,n.jsx)("source",{srcSet:a,type:"image/webp"}),(0,n.jsx)("img",{className:lF.markdownHeroLogo,src:e,alt:t})]})});function lU({model:e}){switch(e.publisher.toLowerCase()){case e3.l.Cohere:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/cohere-hero.jpg",webp:"/images/modules/marketplace/models/families/cohere-hero.webp",alt:e.publisher});case e3.l.Core42:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/core42-hero.jpg",webp:"/images/modules/marketplace/models/families/core42-hero.webp",alt:e.publisher});case e3.l.DeepSeek:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/deepseek-hero.jpg",webp:"/images/modules/marketplace/models/families/deepseek-hero.webp",alt:e.publisher});case e3.l.Meta:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/meta-hero.jpg",webp:"/images/modules/marketplace/models/families/meta-hero.webp",alt:e.publisher});case e3.l.Microsoft:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/microsoft-hero.jpg",webp:"/images/modules/marketplace/models/families/microsoft-hero.webp",alt:e.publisher});case e3.l.Mistral:case e3.l.MistralAI:case e3.l.MistralAI2:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/mistral-hero.jpg",webp:"/images/modules/marketplace/models/families/mistral-hero.webp",alt:e.publisher});case e3.l.AI21Labs:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/ai21labs-hero.jpg",webp:"/images/modules/marketplace/models/families/ai21labs-hero.webp",alt:e.publisher});case e3.l.OpenAI:case e3.l.OpenAIEVault:return(0,n.jsx)(l$,{src:"/images/modules/marketplace/models/families/openai-hero.jpg",webp:"/images/modules/marketplace/models/families/openai-hero.webp",alt:e.publisher});default:return null}}try{lB.displayName||(lB.displayName="Readme")}catch{}try{l$.displayName||(l$.displayName="MarkdownHero")}catch{}try{lU.displayName||(lU.displayName="MarkdownPublisherHeroImage")}catch{}function lG(){let{modelLicense:e}=(0,l.B)();return(0,n.jsx)(eq.oG,{"data-hpc":!0,className:"p-3",html:e,...(0,e5.G)("license-content")})}try{lG.displayName||(lG.displayName="License")}catch{}function lz(){let{modelTransparencyContent:e}=(0,l.B)();return(0,n.jsx)(eq.oG,{"data-hpc":!0,className:"p-3",html:e,...(0,e5.G)("transparency-content")})}try{lz.displayName||(lz.displayName="Transparency")}catch{}let lV=e=>{switch(e){case"evaluation":return(0,n.jsx)(lD,{});case"license":return(0,n.jsx)(lG,{});case"transparency":return(0,n.jsx)(lz,{});default:return(0,n.jsx)(lB,{})}};function lH(){let[e]=(0,tw.ok)(),a=e.get("tab")||"readme",{model:t,modelInputSchema:s,gettingStarted:r}=(0,l.B)();return(0,n.jsx)(lO,{activeTab:a,model:t,modelInputSchema:s,gettingStarted:r,children:lV(a)})}try{lH.displayName||(lH.displayName="ModelsShowRoute")}catch{}var lW=t(88292),lq=t(56413);(0,lW.o)("marketplace-react",()=>({App:i,routes:[(0,lq.a)({path:"/marketplace",Component:ad}),(0,lq.a)({path:"/marketplace/:slug",Component:tC}),(0,lq.a)({path:"/marketplace/actions/:slug",Component:tW}),(0,lq.a)({path:"/marketplace/models",Component:ik}),(0,lq.a)({path:"/marketplace/models/catalog",Component:ad}),(0,lq.a)({path:"/marketplace/models/:registry/:model",Component:lH}),(0,lq.a)({path:"/marketplace/models/:registry/:model/playground",Component:ik}),(0,lq.a)({path:"/marketplace/models/:registry/:model/playground/code",Component:ik}),(0,lq.a)({path:"/marketplace/models/:registry/:model/playground/json",Component:ik}),(0,lq.a)({path:"/marketplace/models/:registry/:model/prompt",Component:lP}),(0,lq.a)({path:"/marketplace/models/:registry/:model/evals",Component:lP})]}))},94232:(e,a,t)=>{t.d(a,{I:()=>i});var s=t(96540),r=t(38568),n=t(18347);function i(e,a,t=[]){let l=(0,s.useCallback)(e,t),o=(0,n.BP)(),d=(0,s.useRef)(o===n.O8.ClientRender),[c,m]=(0,s.useState)(()=>o===n.O8.ClientRender?l():a),u=(0,s.useCallback)(()=>{m(l)},[l]);return(0,r.N)(()=>{d.current||m(l),d.current=!1},[l,...t]),[c,u]}},58206:(e,a,t)=>{t.d(a,{H:()=>r});var s=t(86365);function r(e,a){let{csrf_tokens:t}=(0,s.B)();return t?.[e]?.[a]}},84100:(e,a,t)=>{t.d(a,{U:()=>i,g:()=>n});var s=t(38568),r=t(96540);let n=Symbol("callbackCancelledResult"),i=(e,a=!1)=>{let t=(0,r.useRef)(e);(0,s.N)(()=>{t.current=e},[e]);let i=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(i.current=!0,()=>{a||(i.current=!1)}),[a]),(0,r.useCallback)((...e)=>i.current?t.current(...e):n,[])}},33530:(e,a,t)=>{t.d(a,{s:()=>m,e:()=>u});var s=t(74848),r=t(17908),n=t(1090),i=t(44968),l=t(38568),o=t(46928),d=t(96540),c=t(47767);let m=(0,d.forwardRef)(function({onAnchorClick:e,richText:a,stickyHeaderHeight:t,sx:m,suppressHydrationWarning:p,className:h},g){let{hash:y}=(0,c.zy)(),f=(0,r.t)(),x=(0,o.Z)(),j=(0,d.useRef)(null);return(0,d.useImperativeHandle)(g,()=>j.current),(0,d.useEffect)(()=>{let e=()=>{u(window.location.hash,t)};return window.addEventListener("load",e),window.addEventListener("hashchange",e),()=>{window.removeEventListener("load",e),window.removeEventListener("hashchange",e)}},[]),(0,l.N)(()=>{j?.current&&u(window.location.hash,t)},[y]),(0,s.jsx)(i.oG,{ref:j,className:`js-snippet-clipboard-copy-unpositioned ${h}`,html:a,sx:m,suppressHydrationWarning:p,"data-hpc":!0,onClick:a=>{let s=a.metaKey||a.ctrlKey,r=a.target.closest("a");if(r&&r.href){if(!s){let e=r.href,s=new URL(e,window.location.origin);(0,n.A)(window.location.href,e)?(u(s.hash,t),window.location.hash===s.hash&&a.preventDefault()):e.startsWith(`${window.location.origin}/${f.ownerLogin}/${f.name}/`)&&(x(s.pathname+s.search+s.hash),a.preventDefault())}e?.(a)}}})});function u(e,a=125){var t,s;if(!e)return;let r=(function(e){try{return decodeURIComponent(e.slice(1))}catch{return""}})(e).toLowerCase(),n=(t=document,""===(s=r.startsWith("user-content-")?r:`user-content-${r}`)?null:t.getElementById(s)||t.getElementsByName(s)[0]||null);n&&document&&document.defaultView&&setTimeout(()=>{window.requestAnimationFrame(()=>{let e=n.getBoundingClientRect().top-document.body.getBoundingClientRect().top-a;window.scrollTo({top:e});let t=n.closest("h1,h2,h3,h4,h5,h6,li,span");t&&(t.focus(),t.setAttribute("data-react-autofocus","true"))})},1)}try{m.displayName||(m.displayName="SharedMarkdownContent")}catch{}try{m.displayName||(m.displayName="SharedMarkdownContent")}catch{}},62064:(e,a,t)=>{t.d(a,{v:()=>m});var s,r=t(74848),n=t(96884),i=t(87330),l=t(94977),o=t(96540);let d=e=>` ${e.split(" ").map(e=>`<${e.replaceAll("Mod",(0,n.U0)()?"Cmd":"Ctrl").replaceAll("Command","Cmd").replaceAll("Control","Ctrl").toLowerCase()}>`).join(" / ")}`,c=e=>e.replaceAll("{CMD_CTRL}",(0,n.U0)()?"Command":"Control"),m=(0,o.forwardRef)(({label:e,hideTooltip:a,icon:t,shortcut:s,sx:n,tooltipDirection:m,...u},p)=>{let h=(0,o.useCallback)(()=>{let n={display:"flex"};return m?.includes("w")&&(n={...n,pl:2,ml:-2}),m?.includes("e")&&(n={...n,pr:2,mr:-2}),m?.includes("s")&&(n={...n,pb:2,mb:-2}),(m?.includes("n")||!m)&&(n={...n,pt:2,mt:-2}),a?(0,r.jsx)(t,{}):(0,r.jsx)(l.A,{"aria-label":`${e}${s?d(s):""}`,className:"icon-button-with-tooltip__tooltip",direction:m,sx:n,children:(0,r.jsx)(t,{})})},[a,e,s,m,t]);return(0,r.jsx)(i.K,{unsafeDisableTooltip:!0,ref:p,icon:h,"aria-keyshortcuts":s?c(s):void 0,sx:{...n,"&:focus-visible, &:hover":{"& .icon-button-with-tooltip__tooltip":{"&::after, &::before":{display:"inline-block",textDecoration:"none",animationName:"tooltip-appear",animationDuration:"0.1s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}}},"&:hover .icon-button-with-tooltip__tooltip":{"&::after, &::before":{animationDelay:"0.4s"}}},...u,"aria-label":e})});m.displayName="IconButtonWithTooltip";try{(s=TooltippedIcon).displayName||(s.displayName="TooltippedIcon")}catch{}},77731:(e,a,t)=>{t.d(a,{X:()=>l});var s=t(74848),r=t(47139),n=t(40776),i=t(10660);let l=({children:e="Preview",feedbackUrl:a,className:t})=>(0,s.jsx)(i.V,{className:t,label:(0,s.jsx)(r.A,{variant:"success",children:e}),link:a?(0,s.jsx)(n.A,{feedbackUrl:a}):void 0});try{l.displayName||(l.displayName="BetaLabel")}catch{}},40776:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(74848),r=t(34614);let n={link:"FeedbackLink-module__link--uY6Kq"},i=({feedbackUrl:e})=>(0,s.jsx)(r.A,{className:n.link,href:e,children:"Give feedback"});try{i.displayName||(i.displayName="FeedbackLink")}catch{}},10660:(e,a,t)=>{t.d(a,{V:()=>n});var s=t(74848),r=t(46309);let n=({label:e,link:a,className:t})=>a?(0,s.jsxs)(r.B,{direction:"horizontal",gap:"condensed",align:"baseline",className:t,children:[e," ",a]}):t?(0,s.jsx)("span",{className:t,children:e}):(0,s.jsx)(s.Fragment,{children:e});try{n.displayName||(n.displayName="LabelWithLink")}catch{}},44968:(e,a,t)=>{t.d(a,{mo:()=>p,oG:()=>c,yx:()=>m});var s,r=t(74848),n=t(75177),i=t(52464),l=t(99418),o=t(96540);function d(e){if("html"in e&&void 0!==e.html){let{html:a,...t}=e;return{safeHTML:a,props:t}}let{unverifiedHTML:a,unverifiedHTMLConfig:t,...s}=e,r={...t,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:l.default.sanitize(a,r),props:s}}let c=u(n.A);c.displayName="SafeHTMLBox";let m=u(i.A);function u(e){return(0,o.forwardRef)((a,t)=>{let{safeHTML:s,props:n}=d(a);return(0,r.jsx)(e,{ref:t,...n,dangerouslySetInnerHTML:s?{__html:s}:void 0})})}m.displayName="SafeHTMLText";let p=(0,o.forwardRef)((e,a)=>{let{safeHTML:t,props:s}=d(e);return(0,r.jsx)("div",{ref:a,...s,dangerouslySetInnerHTML:t?{__html:t}:void 0})});p.displayName="SafeHTMLDiv";try{(s=SafeHTMLComponent).displayName||(s.displayName="SafeHTMLComponent")}catch{}},46632:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(21738);function r(e,a){if("function"!=typeof e||null!=a&&"function"!=typeof a)throw TypeError("Expected a function");var t=function(){var s=arguments,r=a?a.apply(this,s):s[0],n=t.cache;if(n.has(r))return n.get(r);var i=e.apply(this,s);return t.cache=n.set(r,i)||n,i};return t.cache=new(r.Cache||s.A),t}r.Cache=s.A;let n=r},11561:(e,a,t)=>{t.d(a,{A:()=>s});function s(e,a){if(!e)throw Error("Invariant failed")}}},e=>{var a=a=>e(e.s=a);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-62da9f","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-c4d1d6","vendors-node_modules_github_hydro-analytics-client_dist_analytics-client_js-node_modules_gith-e0180f","vendors-node_modules_remark-gfm_lib_index_js-node_modules_remark-parse_lib_index_js-node_modu-44d0fc","vendors-node_modules_highlight_js_es_core_js-node_modules_lowlight_lib_all_js","vendors-node_modules_hast-util-find-and-replace_lib_index_js-node_modules_hastscript_lib_inde-693930","vendors-node_modules_azure_core-auth_dist-esm_src_azureKeyCredential_js-node_modules_azure_se-85e75b","ui_packages_failbot_failbot_ts","ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-17c672","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_app-uuid_app-uuid_ts-ui_packages_document-metadata_document-metadata_ts-ui_packag-0663c3","ui_packages_filter_providers_index_ts","ui_packages_copilot-markdown_MarkdownRenderer_tsx","ui_packages_copilot-chat_utils_copilot-feature-flags_ts-ui_packages_github-models_types_ts-ui-8c3143"],()=>a(44822)),e.O()}]);
//# sourceMappingURL=marketplace-react-c0e8e20a3ee7.js.map