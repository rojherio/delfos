"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_activity_pages_ActivityIndex_tsx-node_modules_react-virtual_dist_react-vir-c47488"],{1090:(e,t,r)=>{r.d(t,{A:()=>n});let n=(e,t)=>{let r=new URL(e,window.location.origin),n=new URL(t,window.location.origin);return n.href.includes("#")&&r.host===n.host&&r.pathname===n.pathname&&r.search===n.search}},46928:(e,t,r)=>{r.d(t,{Z:()=>h,o:()=>m});var n=r(96540),a=r(47767),s=r(45588),i=r(84976),l=r(1090),o=r(73081),c=r(58135),d=r(76801),u=r(55048);let h=()=>{let{routes:e}=n.useContext(d.k),t=(0,a.Zp)(),i=(0,u.E)();return n.useCallback((a,d={})=>{let u=(0,s.o1)(a).pathname;if(!(0,s.ue)(e,u)||d.reloadDocument){let e="string"==typeof a?a:(0,s.AO)(a);(async()=>{let{softNavigate:t}=await Promise.all([r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),r.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(r.bind(r,61828));t(e)})()}else{(0,l.A)(location.href,a.toString())||(0,o.SC)("react");let{preventAutofocus:e,...r}=d;(0,n.startTransition)(()=>{if(t(a,e?{...r,state:{[c.V]:!0,...r.state}}:r),!i){let{turbo:e,...t}=window.history.state??{};window.history.replaceState({...t,skipTurbo:!0},"",location.href)}})}},[t,i,e])},m=()=>{let[e]=(0,i.ok)(),t=h(),{pathname:r}=(0,a.zy)(),s=n.useCallback((n,a={})=>{t({pathname:r,search:(0,i.PI)("function"==typeof n?n(e):n).toString()},a)},[e,t,r]);return[e,s]}},70300:(e,t,r)=>{r.d(t,{T:()=>b});var n=r(74848),a=r(21728),s=r(62456),i=r(38621),l=r(75177),o=r(89323),c=r(8338),d=r(67138),u=r(46309),h=r(63867),m=r(65481),f=r(96540),p=r(88764);let x=f.memo(function(e){let t,r,i,l,o;let d=(0,a.c)(17),{user:u,isCurrent:h,onSelect:m,shouldSetAsDiv:f}=e,p=f?"div":"li";d[0]!==m||d[1]!==u?(t=()=>{m&&m(u)},d[0]=m,d[1]=u,d[2]=t):t=d[2];let x=u.primaryAvatarUrl;return d[3]!==u.path?(r=u.path.startsWith("/apps/"),d[3]=u.path,d[4]=r):r=d[4],d[5]!==r||d[6]!==u.primaryAvatarUrl?(i=(0,n.jsx)(c.l.LeadingVisual,{children:(0,n.jsx)(s.r,{src:x,square:r})}),d[5]=r,d[6]=u.primaryAvatarUrl,d[7]=i):i=d[7],d[8]!==u.name?(l=(0,n.jsx)(c.l.Description,{truncate:!0,children:u.name}),d[8]=u.name,d[9]=l):l=d[9],d[10]!==h||d[11]!==p||d[12]!==t||d[13]!==i||d[14]!==l||d[15]!==u.login?(o=(0,n.jsxs)(c.l.Item,{as:p,selected:h,onSelect:t,children:[i,u.login,l]}),d[10]=h,d[11]=p,d[12]=t,d[13]=i,d[14]=l,d[15]=u.login,d[16]=o):o=d[16],o});try{x.displayName||(x.displayName="UserItem")}catch{}function y(e){let t;let r=(0,a.c)(2);return r[0]!==e?(t=e.users.length>20?(0,n.jsx)(v,{...e}):(0,n.jsx)(g,{...e}),r[0]=e,r[1]=t):t=r[1],t}function g(e){let t,r,s;let i=(0,a.c)(12),{users:o,currentUser:c,onSelect:d,sx:u}=e;if(i[0]!==u?(t={maxHeight:330,overflowY:"auto",...u},i[0]=u,i[1]=t):t=i[1],i[2]!==c?.login||i[3]!==d||i[4]!==o){let e;i[6]!==c?.login||i[7]!==d?(e=e=>(0,n.jsx)(x,{user:e,isCurrent:e.login===c?.login,onSelect:d},e.login),i[6]=c?.login,i[7]=d,i[8]=e):e=i[8],r=o.map(e),i[2]=c?.login,i[3]=d,i[4]=o,i[5]=r}else r=i[5];return i[9]!==t||i[10]!==r?(s=(0,n.jsx)(l.A,{sx:t,children:r}),i[9]=t,i[10]=r,i[11]=s):s=i[11],s}function v(e){let t,r,s;let i=(0,a.c)(9),{users:l,currentUser:o,onSelect:c,sx:d}=e;return i[0]!==d?(t={maxHeight:330,overflowY:"auto",...d},i[0]=d,i[1]=t):t=i[1],i[2]!==o?.login||i[3]!==c?(r=e=>(0,n.jsx)(x,{user:e,isCurrent:e.login===o?.login,onSelect:c,shouldSetAsDiv:!0},e.login),i[2]=o?.login,i[3]=c,i[4]=r):r=i[4],i[5]!==t||i[6]!==r||i[7]!==l?(s=(0,n.jsx)(p.F,{items:l,itemHeight:33,sx:t,makeKey:j,renderItem:r}),i[5]=t,i[6]=r,i[7]=l,i[8]=s):s=i[8],s}function j(e){return e.login}try{y.displayName||(y.displayName="UsersList")}catch{}try{g.displayName||(g.displayName="FullUsersList")}catch{}try{v.displayName||(v.displayName="VirtualUsersList")}catch{}function b(e){var t;let r,d,u,h,m,p,x,g,v,j,b,S,T,k,L,E;let P=(0,a.c)(51),{defaultText:U,usersState:I,currentUser:R,onSelect:O,hotKey:F,onOpenChange:z,renderCustomFooter:M,size:W,showTypedInUser:B,width:V,label:$}=e,D=void 0!==B&&B,q=void 0===V?"large":V,H=void 0===$?"":$,[K,Z]=(0,f.useState)("");P[0]!==K||P[1]!==D||P[2]!==I.users?(r=function(e,t){if(!e)return[];let r=t.trim().toLowerCase();return r?e.filter(e=>e.login.toLowerCase().includes(r)||e.name?.toLowerCase().includes(r)):e}(I.users,K),d=D&&(t=r,!!K&&(0===t.length||t.length>1||1===t.length&&!!t[0]&&t[0].login.toLowerCase()!==K.toLowerCase())),P[0]=K,P[1]=D,P[2]=I.users,P[3]=r,P[4]=d):(r=P[3],d=P[4]);let G=d,Y=0===r.length&&!G;return P[5]!==R?(u=(0,n.jsx)("div",{className:"mr-2",children:R?(0,n.jsx)(s.r,{size:16,src:R.primaryAvatarUrl,square:R.path.startsWith("/apps/")}):(0,n.jsx)(i.PeopleIcon,{size:"small",className:"fgColor-muted"})}),P[5]=R,P[6]=u):u=P[6],P[7]===Symbol.for("react.memo_cache_sentinel")?(h={maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},P[7]=h):h=P[7],P[8]!==R||P[9]!==U||P[10]!==H?(m=(0,n.jsx)(l.A,{sx:h,children:R?(0,n.jsxs)("span",{children:[H,R.login]}):(0,n.jsx)("span",{children:U})}),P[8]=R,P[9]=U,P[10]=H,P[11]=m):m=P[11],P[12]!==u||P[13]!==m?(p=(0,n.jsxs)("div",{className:"d-flex",children:[u,m]}),P[12]=u,P[13]=m,P[14]=p):p=P[14],P[15]!==F||P[16]!==W||P[17]!==p?(x=(0,n.jsx)(o.W.Button,{"data-hotkey":F,size:W,"data-testid":"user-selector-button",children:p}),P[15]=F,P[16]=W,P[17]=p,P[18]=x):x=P[18],P[19]!==K?(g=(0,n.jsx)(C,{defaultText:K,onFilterChange:Z}),P[19]=K,P[20]=g):g=P[20],P[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)(c.l.Divider,{}),P[21]=v):v=P[21],P[22]!==K||P[23]!==O||P[24]!==G||P[25]!==Y||P[26]!==I.error||P[27]!==I.loading?(j=I.loading?(0,n.jsx)(w,{}):I.error?(0,n.jsx)(_,{}):(0,n.jsxs)(n.Fragment,{children:[Y&&(0,n.jsx)(A,{}),G&&(0,n.jsx)(N,{filterText:K,onSelect:O})]}),P[22]=K,P[23]=O,P[24]=G,P[25]=Y,P[26]=I.error,P[27]=I.loading,P[28]=j):j=P[28],P[29]!==R||P[30]!==r||P[31]!==O||P[32]!==M?(b=r.length>0&&(0,n.jsx)(y,{users:r,currentUser:R,onSelect:O,sx:M?{pb:"10px",pt:1}:{pt:1}}),P[29]=R,P[30]=r,P[31]=O,P[32]=M,P[33]=b):b=P[33],P[34]!==M?(S=M&&(0,n.jsx)(c.l.Divider,{sx:{marginTop:0}}),P[34]=M,P[35]=S):S=P[35],P[36]!==M?(T=M?.(),P[36]=M,P[37]=T):T=P[37],P[38]!==j||P[39]!==b||P[40]!==S||P[41]!==T||P[42]!==g?(k=(0,n.jsxs)(c.l,{showDividers:!0,selectionVariant:"single",children:[g,v,j,b,S,T]}),P[38]=j,P[39]=b,P[40]=S,P[41]=T,P[42]=g,P[43]=k):k=P[43],P[44]!==k||P[45]!==q?(L=(0,n.jsx)(o.W.Overlay,{width:q,children:k}),P[44]=k,P[45]=q,P[46]=L):L=P[46],P[47]!==z||P[48]!==L||P[49]!==x?(E=(0,n.jsx)("div",{children:(0,n.jsxs)(o.W,{onOpenChange:z,children:[x,L]})}),P[47]=z,P[48]=L,P[49]=x,P[50]=E):E=P[50],E}function C(e){let t,r,s,l;let o=(0,a.c)(7),{onFilterChange:u,defaultText:h}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t={px:2},o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(r={width:"100%"},o[1]=r):r=o[1],o[2]!==u?(s=e=>u(e.target.value),o[2]=u,o[3]=s):s=o[3],o[4]!==h||o[5]!==s?(l=(0,n.jsx)(c.l.Group,{sx:t,children:(0,n.jsx)(d.A,{leadingVisual:i.SearchIcon,value:h,sx:r,placeholder:"Find a user...",onChange:s})}),o[4]=h,o[5]=s,o[6]=l):l=o[6],l}function w(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(u.B,{justify:"center",className:"p-2",children:(0,n.jsx)(h.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function _(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(m.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function A(){let e;let t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(u.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function N(e){let t,r,s,i;let l=(0,a.c)(9),{filterText:o,onSelect:d}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",justifyContent:"center",mb:2},l[0]=t):t=l[0],l[1]!==o||l[2]!==d?(r=()=>{d&&d({login:o,name:o,path:"",primaryAvatarUrl:""})},l[1]=o,l[2]=d,l[3]=r):r=l[3],l[4]!==o?(s=(0,n.jsxs)(n.Fragment,{children:["Filter on author\xa0",(0,n.jsx)("span",{className:"text-bold",children:o})]}),l[4]=o,l[5]=s):s=l[5],l[6]!==r||l[7]!==s?(i=(0,n.jsx)(c.l.Item,{sx:t,onSelect:r,children:s}),l[6]=r,l[7]=s,l[8]=i):i=l[8],i}try{b.displayName||(b.displayName="UserSelector")}catch{}try{C.displayName||(C.displayName="UserFilter")}catch{}try{w.displayName||(w.displayName="Loading")}catch{}try{_.displayName||(_.displayName="LoadingFailed")}catch{}try{A.displayName||(A.displayName="UsersZeroState")}catch{}try{N.displayName||(N.displayName="UsersTypedInUser")}catch{}},72965:(e,t,r)=>{r.d(t,{D:()=>i,e:()=>l});var n=r(74848),a=r(96540);let s=(0,a.createContext)(null);function i({children:e,baseUrl:t}){let r=(0,a.useMemo)(()=>({baseUrl:t}),[t]);return(0,n.jsx)(s.Provider,{value:r,children:e})}function l(){let e=(0,a.useContext)(s);if(!e)throw Error("useBaseUrl must be used within a BaseUrlContextProvider.");return e.baseUrl}try{s.displayName||(s.displayName="BaseUrlContext")}catch{}try{i.displayName||(i.displayName="BaseUrlContextProvider")}catch{}},64802:(e,t,r)=>{r.d(t,{A:()=>ei});var n=r(74848),a=r(17908),s=r(5796),i=r(86365),l=r(31655),o=r(84217),c=r(75177),d=r(34614),u=r(52464),h=r(49211),m=r(96540),f=r(47767),p=r(38621),x=r(30729);function y({heading:e="No activity matched your search.",description:t="Try expanding your search by selecting a different branch, activity type, user, or timeframe."}){return(0,n.jsxs)("div",{className:"blankslate",children:[(0,n.jsx)(x.A,{icon:p.PulseIcon,size:24}),(0,n.jsx)("h2",{className:"blankslate-heading",children:e}),(0,n.jsx)("p",{children:t})]})}try{y.displayName||(y.displayName="ActivityBlankSlate")}catch{}var g=r(16941),v=r(44968),j=r(47139),b=r(2676),C=r(30631),w=r(72965);let _=m.createContext(0);function A({children:e,perPage:t}){return(0,n.jsx)(_.Provider,{value:t,children:e})}function N(){return m.useContext(_)}try{_.displayName||(_.displayName="PerPageContext")}catch{}try{A.displayName||(A.displayName="PerPageProvider")}catch{}var S=r(40660),T=r(89323),k=r(87330),L=r(8338),E=r(70404);function P(){let{sendAnalyticsEvent:e}=(0,E.s)();return{sendActivityClickEvent:(0,m.useCallback)((t,r={})=>{e("repos-activity.click",t,r)},[e])}}function U({push:e}){var t;let r=(t=(0,a.t)(),e.before&&e.after?(0,s.bSP)({repo:t,base:e.before,head:e.after}):e.before&&!e.after?(0,s.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e.before}):!e.before&&e.after?(0,s.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e.after}):void 0),i=(0,S.W)(null!==e.restoreUrl?e.restoreUrl:"","post"),[l,o]=(0,m.useState)(!1),c=async()=>{d("OVERFLOW_MENU.RESTORE_BRANCH"),null!==e.restoreUrl&&(o(!0),await i(),setTimeout(()=>{window.location.reload(),o(!1)},500))},{sendActivityClickEvent:d}=P();return(0,n.jsxs)(T.W,{onOpenChange:e=>e&&d("OVERFLOW_MENU"),children:[(0,n.jsx)(T.W.Anchor,{children:(0,n.jsx)(k.K,{sx:{color:"fg.muted"},icon:p.KebabHorizontalIcon,variant:"invisible","aria-label":"More activity actions",title:"More activity actions"})}),(0,n.jsx)(T.W.Overlay,{children:(0,n.jsxs)(L.l,{children:[(0,n.jsxs)(L.l.LinkItem,{onClick:()=>d("OVERFLOW_MENU.COMPARE"),href:r,children:[(0,n.jsx)(L.l.LeadingVisual,{children:(0,n.jsx)(p.GitCompareIcon,{})}),"Compare changes"]}),e.restoreUrl&&(0,n.jsxs)(L.l.Item,{onSelect:c,disabled:l,children:[(0,n.jsx)(L.l.LeadingVisual,{children:(0,n.jsx)(p.SyncIcon,{})}),"Restore Branch"]})]})})]})}try{U.displayName||(U.displayName="ActivityOverflowMenu")}catch{}var I=r(62456);function R({pusher:e}){let{sendActivityClickEvent:t}=P();return(0,n.jsxs)(d.A,{"aria-label":`View ${e.login} profile`,muted:!0,href:e.path,"data-hovercard-url":(0,s.dCN)({owner:e.login}),onClick:()=>t("PUSHER_LINK"),sx:{fontWeight:600,mr:1,color:"fg.default","&:hover":{color:"fg.default",textDecoration:"underline"}},children:[(0,n.jsx)(I.r,{sx:{mr:2,cursor:"pointer"},src:e.primaryAvatarUrl,square:e.path.startsWith("/apps/")}),e.login]})}try{R.displayName||(R.displayName="Pusher")}catch{}let O="refs/heads/",F="refs/tags/";function z({push:e,repo:t,showRefInfo:r,showFullShas:a}){return(0,n.jsxs)(c.A,{sx:{borderTopColor:"border.default",borderTopStyle:"solid",borderTopWidth:1,"&:first-child":{borderTopWidth:0},padding:2,paddingX:3,display:"flex",justifyContent:"space-between","&:hover":{backgroundColor:"canvas.subtle"}},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,n.jsx)("h2",{"data-testid":"push-link",className:"h5",children:"merge_queue_merge"===e.pushType?"Merge queue merge":"branch_deletion"===e.pushType?e.ref.startsWith(F)?"Deleted tag":"Deleted branch":e.commit?.message?function({commit:e}){return e.shortMessageHtmlLink?(0,n.jsx)(C.A,{title:e.message,sx:{maxWidth:"100%"},children:(0,n.jsx)(v.oG,{sx:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word"},html:e.shortMessageHtmlLink})}):e.message}({commit:e.commit}):"branch_creation"===e.pushType?"Created branch":"Updated branch"}),(0,n.jsx)(c.A,{sx:{display:"flex",alignSelf:"flex-start",gap:2},"data-testid":"push-labels",children:function(e){let t=[];return"force_push"===e.pushType&&t.push((0,n.jsx)(j.A,{variant:"attention",children:"Force push"},"force-push")),"pr_merge"===e.pushType&&t.push((0,n.jsx)(j.A,{variant:"done",children:"Pull request merge"},"pr-merge")),e.after&&!e.commit&&t.push((0,n.jsx)(j.A,{variant:"severe",children:"Missing commit"},"missing-commit")),t}(e)})]}),(0,n.jsxs)(c.A,{sx:{color:"fg.muted",fontSize:0},children:[e.pusher&&(0,n.jsx)(R,{pusher:e.pusher}),(0,n.jsx)(W,{push:e,repo:t,showRefInfo:r}),a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M,{push:e}),(0,n.jsx)($,{push:e})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V,{push:e}),(0,n.jsx)(M,{push:e})]})]})]}),(0,n.jsx)(c.A,{sx:{display:["block","none"],alignSelf:"flex-start"},children:(0,n.jsx)(U,{push:e})}),(0,n.jsx)(c.A,{sx:{display:["none","block"]},children:(0,n.jsx)(U,{push:e})})]})}function M({push:e}){let t=e.pushedAt;return t?(0,n.jsxs)("span",{"data-testid":"push-date",style:{display:"inline-block"},children:["\xa0\u2022\xa0",(0,n.jsx)(g.o,{timestamp:new Date(t)})]}):null}function W({push:e,repo:t,showRefInfo:r}){let a=(0,w.e)(),i=N(),l=e.ref.startsWith(O)?e.ref.substring(O.length):e.ref,o="",c="";if(e.aheadBehind&&e.aheadBehind.length>0){let[t,r]=e.aheadBehind;c=0!==t&&0===r?`adding ${t} ${B(t)}`:0===t&&0!==r?`removing ${r} ${B(r)}`:`removing ${r} ${B(r)} and adding ${t} ${B(t)}`}if("branch_deletion"===e.pushType){let t=e.ref.startsWith(F);o=r?"deleted":`deleted this ${t?"tag":"branch"}`}else o="branch_creation"===e.pushType?r?"created":"created this branch":"force_push"===e.pushType?r?"force pushed to":"force pushed":c||null==e.commitsCount?r?"pushed to":"pushed":r?`pushed ${e.commitsCount} ${B(e.commitsCount)} to`:`pushed ${e.commitsCount} ${B(e.commitsCount)}`;return(0,n.jsxs)("span",{"data-testid":"action-text",children:[o,r&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(b.A,{href:(0,s.PUd)({repo:t,baseUrl:a,branch:l,perPage:i}),children:l})]}),c&&(0,n.jsxs)(n.Fragment,{children:[" ",c]})]})}function B(e){return 1===e?"commit":"commits"}function V({push:e}){let t="";return e.before&&e.after?t=`${D(e.before)}\u{2026}${D(e.after)}`:e.before&&!e.after?t="":!e.before&&e.after&&(t=`${D(e.after)}`),t?(0,n.jsxs)("span",{"data-testid":"compare-text",children:["\xa0\u2022\xa0",t]}):null}function $({push:e}){let t="0000000000000000000000000000000000000000";return(0,n.jsxs)("div",{"data-testid":"compare-text",children:[e.before||t,"\xa0\u2192\xa0",e.after||t]})}function D(e){return e.slice(0,7)}try{z.displayName||(z.displayName="ActivityCard")}catch{}try{M.displayName||(M.displayName="ActivityDate")}catch{}try{W.displayName||(W.displayName="ActionText")}catch{}try{V.displayName||(V.displayName="CompareText")}catch{}try{$.displayName||($.displayName="FullShaCompareText")}catch{}var q=r(17500),H=r(46928),K=r(70300),Z=r(5225),G=r(57572);async function Y(e){let t=await (0,G.lS)(e);return t.ok?await t.json():void 0}let Q=new Map,X=(0,Z.A)(Y,{cache:Q}),J=["day","week","month","quarter","year","all"],ee={day:"Last 24 hours",week:"Last week",month:"Last month",quarter:"Last quarter",year:"Last year",all:"All time"};function et({currentActivityTimePeriod:e,onSelect:t}){let{sendActivityClickEvent:r}=P();return(0,n.jsxs)(T.W,{onOpenChange:e=>e&&r("TIME_FILTER"),children:[(0,n.jsx)(T.W.Button,{leadingVisual:p.ClockIcon,size:"medium",children:ee[e]}),(0,n.jsx)(T.W.Overlay,{width:"medium",children:(0,n.jsx)(L.l,{selectionVariant:"single",children:J.map(a=>(0,n.jsx)(L.l.Item,{selected:a===e,onSelect:()=>{r("TIME_FILTER.VALUE",{selected_time_period:a}),t(a)},children:ee[a]},a))})})]})}try{et.displayName||(et.displayName="ActivityTimeFilter")}catch{}let er=["all","direct_push","pr_merge","merge_queue_merge","force_push","branch_creation","branch_deletion"],en={all:"All activity",direct_push:"Direct pushes",pr_merge:"Pull request merges",merge_queue_merge:"Merge queue merges",force_push:"Force pushes",branch_creation:"Branch creations",branch_deletion:"Branch deletions"};function ea({currentActivityType:e,onSelect:t}){let{sendActivityClickEvent:r}=P();return(0,n.jsxs)(T.W,{onOpenChange:e=>e&&r("ACTIVITY_FILTER"),children:[(0,n.jsx)(T.W.Button,{leadingVisual:p.PulseIcon,size:"medium",children:en[e]}),(0,n.jsx)(T.W.Overlay,{width:"medium",children:(0,n.jsx)(L.l,{selectionVariant:"single",children:er.map(a=>(0,n.jsx)(L.l.Item,{selected:a===e,onSelect:()=>{r("ACTIVITY_FILTER.VALUE",{selected_activity_type:a}),t(a)},children:en[a]},a))})})]})}try{ea.displayName||(ea.displayName="ActivityTypeFilter")}catch{}function es({repo:e,refInfo:t,filter:r}){let{sendActivityClickEvent:i}=P(),l=(0,w.e)(),o=N(),{activityType:u,actor:h,timePeriod:f,sort:y}=r,g=(0,H.Z)(),v=function({branch:e,timePeriod:t}){let r=(0,a.t)(),n=(0,w.e)(),[i,l]=(0,m.useState)({users:[],error:!1,loading:!0});return(0,m.useEffect)(()=>{let a=!1;return(async()=>{l({users:[],error:!1,loading:!0});let i=(0,s.bdU)({repo:r,baseUrl:n,branch:e,timePeriod:t}),o=await X(i);if(a)return;let c=[],d=!1;try{o?c=o.actors:d=!0}catch{d=!0}l({users:c,error:d,loading:!1})})(),function(){a=!0}},[r,n,e,t]),i}({branch:t.name,timePeriod:r.timePeriod});return(0,n.jsxs)(c.A,{sx:{flexWrap:"wrap",display:"flex",flexGrow:1,gap:2,alignItems:"center"},children:[(0,n.jsx)(q.PI,{currentCommitish:t.name||"All branches",defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,canCreate:!1,cacheKey:t.listCacheKey,getHref:t=>(0,s.PUd)({repo:e,baseUrl:l,branch:t,filter:r,perPage:o}),hotKey:"w",types:["branch"],hideShowAll:!0,onOpenChange:e=>e&&i("REF_SELECTOR_MENU"),onSelectItem:t=>i("REF_SELECTOR_MENU.VALUE",{default_branch:t===e.defaultBranch}),customFooterItemProps:{text:"View activity for all branches",href:(0,s.PUd)({repo:e,baseUrl:l,filter:r,perPage:o}),onClick:()=>{i("REF_SELECTOR_MENU.VIEW_ALL")},sx:{alignItems:"center",display:"flex",justifyContent:"center"}}}),(0,n.jsx)(ea,{currentActivityType:u,onSelect:n=>{n!==u&&g((0,s.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,activityType:n},perPage:o}))}}),(0,n.jsx)(K.T,{defaultText:"All users",width:"medium",usersState:v,currentUser:h,onOpenChange:e=>e&&i("ACTOR_FILTER"),onSelect:n=>{n!==h&&(i("ACTOR_FILTER.VALUE"),g((0,s.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,actor:n},perPage:o})))},renderCustomFooter:()=>(0,n.jsx)(L.l.LinkItem,{onClick:()=>i("ACTOR_FILTER.ALL"),href:(0,s.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,actor:void 0},perPage:o}),children:"View activity for all users"})}),(0,n.jsx)(et,{currentActivityTimePeriod:f,onSelect:n=>{n!==f&&g((0,s.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,timePeriod:n},perPage:o}))}}),(0,n.jsx)(c.A,{sx:{marginLeft:"auto"},children:(0,n.jsx)(d.A,{muted:!0,onClick:()=>i("SORT_ORDER_LINK"),href:(0,s.PUd)({repo:e,baseUrl:l,branch:t.name,filter:{...r,sort:"ASC"===y?"DESC":"ASC"},perPage:o}),children:"ASC"===y?(0,n.jsxs)(n.Fragment,{children:["Showing oldest first ",(0,n.jsx)(x.A,{icon:p.TriangleUpIcon,size:16})]}):(0,n.jsxs)(n.Fragment,{children:["Showing most recent first ",(0,n.jsx)(x.A,{icon:p.TriangleDownIcon,size:16})]})})})]})}try{es.displayName||(es.displayName="ActivityFilterBar")}catch{}function ei(){let e=(0,f.Zp)(),t=(0,w.e)(),r=!!t,{repo:p,activityList:x,refInfo:g,feedbackUrl:v}=(0,i.B)(),j=x.hasNextPage||x.hasPreviousPage?3:1,b=x.hasPreviousPage?x.hasNextPage?2:3:1,C=m.useCallback((r,n)=>{window.scrollTo(0,0),e((0,s.PUd)({repo:p,baseUrl:t,branch:g.name,filter:x,pagination:n<b?{before:x.startCursor||x.cursor}:{after:x.endCursor||x.cursor},perPage:x.perPage})),r.preventDefault()},[e,p,t,g.name,x,b]);return(0,n.jsx)(a.d,{repository:p,children:(0,n.jsx)(A,{perPage:x.perPage,children:(0,n.jsxs)(l.M,{sx:{minHeight:"500px"},children:[(0,n.jsx)(l.M.Header,{divider:"line",sx:{mb:["3","3","3","3"]},children:(0,n.jsx)(o.A,{as:"h1",sx:{fontSize:4,fontWeight:"normal",mt:2,lineHeight:1},children:"Activity"})}),(0,n.jsxs)(l.M.Content,{children:[(0,n.jsx)(es,{repo:p,refInfo:g,filter:x}),(0,n.jsx)(c.A,{"data-hpc":!0,sx:{display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden",borderColor:"border.default",borderStyle:"solid",borderWidth:1,mt:3},children:x.items.length>0?(0,n.jsx)(n.Fragment,{children:x.items.map((e,t)=>(0,n.jsx)(z,{push:e,repo:p,showRefInfo:""===g.name,showFullShas:r},t))}):(0,n.jsx)(y,{})})]}),(0,n.jsxs)(l.M.Footer,{children:[v?(0,n.jsx)("div",{children:(0,n.jsxs)(d.A,{href:v,target:"_blank",sx:{ml:2},children:[(0,n.jsx)(u.A,{sx:{fontSize:1,display:["none","inline","inline"]},children:"Share feedback about this page"}),(0,n.jsx)(u.A,{sx:{fontSize:0,display:["inline","none","none"]},children:"Share feedback"})]})}):null,(x.hasNextPage||x.hasPreviousPage)&&(0,n.jsx)(h.A,{pageCount:j,currentPage:b,onPageChange:C,showPages:!1})]})]})})})}try{ei.displayName||(ei.displayName="ActivityIndex")}catch{}},17908:(e,t,r)=>{r.d(t,{d:()=>l,t:()=>o});var n=r(74848),a=r(21728),s=r(96540);let i=s.createContext({});function l(e){let t;let r=(0,a.c)(3),{repository:s,children:l}=e;return r[0]!==l||r[1]!==s?(t=(0,n.jsxs)(i.Provider,{value:s,children:[" ",l," "]}),r[0]=l,r[1]=s,r[2]=t):t=r[2],t}function o(){return s.useContext(i)}try{i.displayName||(i.displayName="CurrentRepositoryContext")}catch{}try{l.displayName||(l.displayName="CurrentRepositoryProvider")}catch{}},35822:(e,t,r)=>{r.d(t,{v:()=>f,z:()=>p});var n,a=r(96540);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=["bottom","height","left","right","top","width"],l=new Map,o=function e(){var t=[];l.forEach(function(e,r){var n,a,s=r.getBoundingClientRect();n=s,a=e.rect,void 0===n&&(n={}),void 0===a&&(a={}),i.some(function(e){return n[e]!==a[e]})&&(e.rect=s,t.push(e))}),t.forEach(function(e){e.callbacks.forEach(function(t){return t(e.rect)})}),n=window.requestAnimationFrame(e)},c="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;function d(e,t){var r=t.rect;return e.height!==r.height||e.width!==r.width?r:e}var u=function(){return 50},h=function(e){return e},m=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},f=function(e){for(var t=Math.max(e.start-e.overscan,0),r=Math.min(e.end+e.overscan,e.size-1),n=[],a=t;a<=r;a++)n.push(a);return n};function p(e){var t,r=e.size,i=void 0===r?0:r,p=e.estimateSize,y=void 0===p?u:p,g=e.overscan,v=void 0===g?1:g,j=e.paddingStart,b=void 0===j?0:j,C=e.paddingEnd,w=e.parentRef,_=e.horizontal,A=e.scrollToFn,N=e.useObserver,S=e.initialRect,T=e.onScrollElement,k=e.scrollOffsetFn,L=e.keyExtractor,E=void 0===L?h:L,P=e.measureSize,U=void 0===P?m:P,I=e.rangeExtractor,R=void 0===I?f:I,O=_?"width":"height",F=_?"scrollLeft":"scrollTop",z=a.useRef({scrollOffset:0,measurements:[]}),M=a.useState(0),W=M[0],B=M[1];z.current.scrollOffset=W;var V=(N||function(e,t){void 0===t&&(t={width:0,height:0});var r=a.useState(e.current),s=r[0],i=r[1],u=a.useReducer(d,t),h=u[0],m=u[1],f=a.useRef(!1);return c(function(){e.current!==s&&i(e.current)}),c(function(){s&&!f.current&&(f.current=!0,m({rect:s.getBoundingClientRect()}))},[s]),a.useEffect(function(){if(s){var e,t=(e=function(e){m({rect:e})},{observe:function(){var t=0===l.size;l.has(s)?l.get(s).callbacks.push(e):l.set(s,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),t&&o()},unobserve:function(){var t=l.get(s);if(t){var r=t.callbacks.indexOf(e);r>=0&&t.callbacks.splice(r,1),t.callbacks.length||l.delete(s),l.size||cancelAnimationFrame(n)}}});return t.observe(),function(){t.unobserve()}}},[s]),h})(w,S)[O];z.current.outerSize=V;var $=a.useCallback(function(e){w.current&&(w.current[F]=e)},[w,F]),D=A||$;A=a.useCallback(function(e){D(e,$)},[$,D]);var q=a.useState({}),H=q[0],K=q[1],Z=a.useCallback(function(){return K({})},[]),G=a.useRef([]),Y=a.useMemo(function(){var e=G.current.length>0?Math.min.apply(Math,G.current):0;G.current=[];for(var t=z.current.measurements.slice(0,e),r=e;r<i;r++){var n=E(r),a=H[n],s=t[r-1]?t[r-1].end:b,l="number"==typeof a?a:y(r),o=s+l;t[r]={index:r,start:s,size:l,end:o,key:n}}return t},[y,H,b,i,E]),Q=((null==(t=Y[i-1])?void 0:t.end)||b)+(void 0===C?0:C);z.current.measurements=Y,z.current.totalSize=Q;var X=T?T.current:w.current,J=a.useRef(k);J.current=k,c(function(){if(!X){B(0);return}var e=function(e){B(J.current?J.current(e):X[F])};return e(),X.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){X.removeEventListener("scroll",e)}},[X,F]);var ee=function(e){for(var t=e.measurements,r=e.outerSize,n=e.scrollOffset,a=t.length-1,s=x(0,a,function(e){return t[e].start},n),i=s;i<a&&t[i].end<n+r;)i++;return{start:s,end:i}}(z.current),et=ee.start,er=ee.end,en=a.useMemo(function(){return R({start:et,end:er,overscan:v,size:Y.length})},[et,er,v,Y.length,R]),ea=a.useRef(U);ea.current=U;var es=a.useMemo(function(){for(var e=[],t=0,r=en.length;t<r;t++)!function(t,r){var n=en[t],a=Y[n],i=s(s({},a),{},{measureRef:function(e){if(e){var t=ea.current(e,_);if(t!==i.size){var r=z.current.scrollOffset;i.start<r&&$(r+(t-i.size)),G.current.push(n),K(function(e){var r;return s(s({},e),{},((r={})[i.key]=t,r))})}}}});e.push(i)}(t);return e},[en,$,_,Y]),ei=a.useRef(!1);c(function(){ei.current&&K({}),ei.current=!0},[y]);var el=a.useCallback(function(e,t){var r=(void 0===t?{}:t).align,n=void 0===r?"start":r,a=z.current,s=a.scrollOffset,i=a.outerSize;"auto"===n&&(n=e<=s?"start":e>=s+i?"end":"start"),"start"===n?A(e):"end"===n?A(e-i):"center"===n&&A(e-i/2)},[A]),eo=a.useCallback(function(e,t){var r=void 0===t?{}:t,n=r.align,a=void 0===n?"auto":n,l=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t.indexOf(r=s[n])>=0||(a[r]=e[r]);return a}(r,["align"]),o=z.current,c=o.measurements,d=o.scrollOffset,u=o.outerSize,h=c[Math.max(0,Math.min(e,i-1))];if(h){if("auto"===a){if(h.end>=d+u)a="end";else{if(!(h.start<=d))return;a="start"}}el("center"===a?h.start+h.size/2:"end"===a?h.end:h.start,s({align:a},l))}},[el,i]);return{virtualItems:es,totalSize:Q,scrollToOffset:el,scrollToIndex:a.useCallback(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];eo.apply(void 0,t),requestAnimationFrame(function(){eo.apply(void 0,t)})},[eo]),measure:Z}}var x=function(e,t,r,n){for(;e<=t;){var a=(e+t)/2|0,s=r(a);if(s<n)e=a+1;else{if(!(s>n))return a;t=a-1}}return e>0?e-1:0}}}]);
//# sourceMappingURL=app_assets_modules_activity_pages_ActivityIndex_tsx-node_modules_react-virtual_dist_react-vir-c47488-ed417b771d0a.js.map