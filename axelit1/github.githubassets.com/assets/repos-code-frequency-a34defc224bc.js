"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["repos-code-frequency"],{48416:(e,t,i)=>{i.d(t,{_:()=>s,c:()=>r});let s=()=>{let e=history.state?.appId;return e&&"rails"!==e?e:crypto.randomUUID()},r=e=>{history.replaceState({appId:e},"",location.href)}},2640:(e,t,i)=>{i.d(t,{D:()=>n,Y:()=>a});var s=i(13080),r=i(47584);function n(e){if(!r.XC)return;let t=r.XC.querySelector("title"),i=r.XC.createElement("title");i.textContent=e,t?t.textContent!==e&&(t.replaceWith(i),(0,s.i)(e)):(r.XC.head.appendChild(i),(0,s.i)(e))}function a(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},16940:(e,t,i)=>{var s=i(74848);function r(e){return(0,s.jsx)(s.Fragment,{children:e.children})}try{r.displayName||(r.displayName="App")}catch{}var n=i(96540),a=i(34614),o=i(63867),l=i(86365),h=i(47767),d=i(57572),c=i(9083);let u={tooLargeWrapper:"Index-module__tooLargeWrapper--V3omB"},p=(0,n.lazy)(()=>Promise.all([i.e("primer-react"),i.e("react-core"),i.e("vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js"),i.e("vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6"),i.e("vendors-node_modules_highcharts-react-official_dist_highcharts-react_min_js-node_modules_high-7e7fe4"),i.e("vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_lodash-es__cloneBuffer_-2fcd03"),i.e("ui_packages_chart-card_ChartCard_tsx"),i.e("ui_packages_test-id-props_test-id-props_ts-ui_packages_repos-code-frequency_components_CodeFr-6a74f5")]).then(i.bind(i,80771))),m=()=>{let{tooLargeUrl:e}=(0,l.B)();return(0,s.jsxs)("div",{className:u.tooLargeWrapper,children:[(0,s.jsx)("h2",{className:"h3",children:"There are too many commits to generate this graph."}),(0,s.jsxs)("p",{children:["More information about this data can be found in the"," ",(0,s.jsx)(a.A,{inline:!0,href:e,children:"activity documentation"}),"."]})]})},f=({errorMessage:e})=>(0,s.jsx)("div",{className:"text-center p-3",children:(0,s.jsx)("div",{className:"msg",children:(0,s.jsx)("p",{children:e})})}),_=()=>(0,s.jsxs)("div",{className:"text-center p-3",children:[(0,s.jsx)(o.A,{}),(0,s.jsx)("div",{className:"graph-loading msg",children:(0,s.jsx)("p",{children:"Crunching the latest data, just for you. Hang tight\u2026"})})]});function g(){let{graphDataPath:e,isUsingContributionInsights:t}=(0,l.B)(),{owner:i,repo:r}=(0,h.g)(),[a,o]=(0,n.useState)(!1),[u,g]=(0,n.useState)(),[v,y]=(0,n.useState)([]),[w,x]=(0,n.useState)([]);return((0,n.useEffect)(()=>{e&&!t&&(async()=>{let t=await function(e,t=1e3,i=[200],s=10){let r=0;return async function t(n){if(r++>s)throw Error(`Failed to receive a response after ${s} tries`);let a=await (0,d.lS)(e);if(202===a.status)return await new Promise(e=>setTimeout(e,n)),t(1.5*n);if(i.includes(a.status))return a;if(a.status<200||a.status>=300)throw Error(`HTTP ${a.status}${a.statusText||""}`);throw Error(`Unexpected ${a.status} response status from poll endpoint`)}(t)}(e);if(t.ok){let e=await t.json();y(e.map(e=>[1e3*e[c.W.TIMESTAMP],e[c.W.ADDITIONS]])),x(e.map(e=>[1e3*e[c.W.TIMESTAMP],e[c.W.DELETIONS]]))}else{let{unusable:e}=await t.json();e?g("Data is unusable"):g("There was an error fetching the data")}o(!0)})()},[e,t]),t)?(0,s.jsx)(m,{}):u?(0,s.jsx)(f,{errorMessage:u}):a&&0===v.length&&0===w.length?null:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-normal d-flex flex-row flex-items-center gap-2 flex-wrap mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"Code frequency over the history of "}),(0,s.jsxs)("strong",{children:[i,"/",r]})]})}),(0,s.jsx)(n.Suspense,{children:(0,s.jsx)(p,{additions:v,deletions:w})})]}):(0,s.jsx)(_,{})}try{p.displayName||(p.displayName="CodeFrequencyChart")}catch{}try{m.displayName||(m.displayName="TooLarge")}catch{}try{f.displayName||(f.displayName="ErrorMessage")}catch{}try{_.displayName||(_.displayName="Loading")}catch{}try{g.displayName||(g.displayName="Index")}catch{}var v=i(88292),y=i(56413);(0,v.o)("repos-code-frequency",()=>({App:r,routes:[(0,y.a)({path:"/:owner/:repo/graphs/code-frequency",Component:g})]}))},9083:(e,t,i)=>{i.d(t,{F:()=>r,W:()=>s});let s={TIMESTAMP:0,ADDITIONS:1,DELETIONS:2},r={TIMESTAMP:0,VALUE:1}},57572:(e,t,i)=>{function s(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let i={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:i})}function r(e,t){let i={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},r=t?.body?JSON.stringify(t.body):void 0;return s(e,{...t,body:r,headers:i})}function n(e,t={}){let i={...t.headers,"GitHub-Is-React":"true"};return s(e,{...t,headers:i})}function a(e,t){let i={...t?.headers??{},"GitHub-Is-React":"true"};return r(e,{...t,headers:i})}i.d(t,{DI:()=>s,QJ:()=>n,Sr:()=>a,lS:()=>r})},46493:(e,t,i)=>{i.d(t,{Cj:()=>B,iP:()=>G});let s={Less:"less",Equal:"equal",Greater:"greater"};var r,n,a,o,l,h,d,c,u,p,m,f,_,g,v,y,w,x=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},b=(e,t,i)=>(x(e,t,"read from private field"),i?i.call(e):t.get(e)),E=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},T=(e,t,i,s)=>(x(e,t,"write to private field"),s?s.call(e,i):t.set(e,i),i),j=(e,t,i)=>(x(e,t,"access private method"),i);let MinHeap=class MinHeap{constructor({compareFn:e}){E(this,a),E(this,l),E(this,r,void 0),E(this,n,void 0),T(this,r,e),T(this,n,[])}insert(e){b(this,n).push(e),j(this,l,h).call(this)}pop(){let e=b(this,n)[0];return b(this,n)[b(this,n).length-1]&&(b(this,n)[0]=b(this,n)[b(this,n).length-1],b(this,n).pop()),j(this,a,o).call(this),e}peek(){return b(this,n)[0]}delete(e){let t=b(this,n).indexOf(e);-1!==t&&(k(b(this,n),t,b(this,n).length-1),b(this,n).pop(),j(this,a,o).call(this))}clear(){T(this,n,[])}get size(){return b(this,n).length}};function C(e){return Math.floor((e-1)/2)}function k(e,t,i){let s=e[t];e[t]=e[i],e[i]=s}r=new WeakMap,n=new WeakMap,a=new WeakSet,o=function(){let e=0;for(;2*e+1<b(this,n).length;){let t=2*e+1;if(2*e+2<b(this,n).length&&b(this,r).call(this,b(this,n)[2*e+2],b(this,n)[2*e+1])===s.Less&&(t=2*e+2),b(this,r).call(this,b(this,n)[e],b(this,n)[t])===s.Less)break;k(b(this,n),e,t),e=t}},l=new WeakSet,h=function(){let e=b(this,n).length-1;for(;e>0&&b(this,r).call(this,b(this,n)[e],b(this,n)[C(e)])===s.Less;)k(b(this,n),e,C(e)),e=C(e)};var S=Object.defineProperty,M=(e,t,i)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,N=(e,t,i)=>(M(e,"symbol"!=typeof t?t+"":t,i),i),W=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},L=(e,t,i)=>(W(e,t,"read from private field"),i?i.call(e):t.get(e)),I=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},A=(e,t,i,s)=>(W(e,t,"write to private field"),s?s.call(e,i):t.set(e,i),i);let Deferred=class Deferred{constructor(){N(this,d,"Deferred"),I(this,c,void 0),I(this,u,void 0),I(this,p,void 0),A(this,c,new Promise((e,t)=>{A(this,u,e),A(this,p,t)}))}then(e,t){return Promise.prototype.then.apply(L(this,c),[e,t])}catch(e){return Promise.prototype.catch.apply(L(this,c),[e])}finally(e){return Promise.prototype.finally.apply(L(this,c),[e])}resolve(e){L(this,u).call(this,e)}reject(e){L(this,p).call(this,e)}getPromise(){return L(this,c)}};d=Symbol.toStringTag,c=new WeakMap,u=new WeakMap,p=new WeakMap;var P=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},q=(e,t,i)=>(P(e,t,"read from private field"),i?i.call(e):t.get(e)),D=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},F=(e,t,i,s)=>(P(e,t,"write to private field"),s?s.call(e,i):t.set(e,i),i),H=(e,t,i)=>(P(e,t,"access private method"),i);let LiveRegionElement=class LiveRegionElement extends HTMLElement{constructor(){if(super(),D(this,g),D(this,y),D(this,m,void 0),D(this,f,void 0),D(this,_,void 0),!this.shadowRoot){let e=(R||((R=document.createElement("template")).innerHTML=O),R);this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0))}F(this,m,!1),F(this,_,null),F(this,f,new MinHeap({compareFn:U}))}get delay(){let e=this.getAttribute("delay");return e?parseInt(e,10):150}set delay(e){this.setAttribute("delay",`${e}`)}announce(e,t={}){let{delayMs:i,politeness:s="polite"}=t,r=Date.now(),n=new Deferred,a={deferred:n,politeness:s,contents:e,scheduled:void 0!==i?r+i:r};return q(this,f).insert(a),H(this,g,v).call(this),{...n.getPromise(),cancel:()=>{q(this,f).delete(a),n.resolve()}}}announceFromElement(e,t){let i;let s=(i="",e.hasAttribute("aria-label")?i=e.getAttribute("aria-label"):e.innerText?i=e.innerText:e.textContent&&(i=e.textContent),i?i.trim():"");return""!==s?this.announce(s,t):{...Promise.resolve(),cancel:$}}getMessage(e="polite"){let t=this.shadowRoot?.getElementById(e);if(!t)throw Error("Unable to find container for message");return t.textContent}clear(){null!==q(this,_)&&(clearTimeout(q(this,_)),F(this,_,null)),q(this,f).clear()}};m=new WeakMap,f=new WeakMap,_=new WeakMap,g=new WeakSet,v=function(){if(q(this,m))return;let e=q(this,f).peek();if(!e)return;null!==q(this,_)&&(clearTimeout(q(this,_)),F(this,_,null));let t=Date.now();if(e.scheduled<=t){(e=q(this,f).pop())&&H(this,y,w).call(this,e),H(this,g,v).call(this);return}let i=e.scheduled-t;F(this,_,window.setTimeout(()=>{F(this,_,null),H(this,g,v).call(this)},i))},y=new WeakSet,w=function(e){F(this,m,!0);let{contents:t,deferred:i,politeness:s}=e,r=this.shadowRoot?.getElementById(s);if(!r)throw F(this,m,!1),Error(`Unable to find container for message. Expected a container with id="${s}"`);r.textContent===t?r.textContent=`${t}\xa0`:r.textContent=t,null!==q(this,_)&&clearTimeout(q(this,_)),i.resolve(),this.delay>0?F(this,_,window.setTimeout(()=>{F(this,_,null),F(this,m,!1),H(this,g,v).call(this)},this.delay)):(F(this,_,null),F(this,m,!1),H(this,g,v).call(this))};let R=null,O=`
<style>
:host {
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
</style>
<div id="polite" aria-live="polite" aria-atomic="true"></div>
<div id="assertive" aria-live="assertive" aria-atomic="true"></div>
`;function U(e,t){return e.politeness===t.politeness?e.scheduled===t.scheduled?s.Equal:e.scheduled<t.scheduled?s.Less:s.Greater:"assertive"===e.politeness&&"assertive"!==t.politeness?s.Less:"assertive"!==e.politeness&&"assertive"===t.politeness?s.Greater:s.Equal}function $(){}function G(e,t={}){let i=X(t.from);if(!i){i=document.createElement("live-region"),t.appendTo?t.appendTo.appendChild(i):V(t.from).appendChild(i);let s=!1,r=()=>{s=!0};return{...J(z).then(()=>{if(!s){let s=i.announce(e,t);return r=s.cancel,s}}),cancel:()=>{r()}}}return i.announce(e,t)}function B(e,t={}){let i=X(t.from);if(!i){i=document.createElement("live-region"),t.appendTo?t.appendTo.appendChild(i):V(t.from).appendChild(i);let s=!1,r=()=>{s=!0};return{...J(z).then(()=>{if(!s){let s=i.announceFromElement(e,t);return r=s.cancel,s}}),cancel:()=>{r()}}}return i.announceFromElement(e,t)}function X(e){let t=null;return null!==(t=e?function(e){let t=e.closest("dialog"),i=e;for(;(i=i.parentElement)&&(!t||t.contains(i));)for(let e of i.childNodes)if(e instanceof LiveRegionElement)return e;return null}(e):null)||null!==(t=V(e).querySelector("live-region"))?t:null}function V(e){let t=document.body;if(e){let i=e.closest("dialog");i&&(t=i)}return t}customElements.get("live-region")||customElements.define("live-region",LiveRegionElement);let z=150;function J(e){return new Promise(t=>{setTimeout(t,e)})}},31993:(e,t,i)=>{i.d(t,{j:()=>s});function s(e){return e}}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-62da9f","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd","ui_packages_failbot_failbot_ts","ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-17c672"],()=>t(16940)),e.O()}]);
//# sourceMappingURL=repos-code-frequency-7c23c895559c.js.map